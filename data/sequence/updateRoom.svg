<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2883px" preserveAspectRatio="none" style="width:2818px;height:2883px;" version="1.1" viewBox="0 0 2818 2883" width="2818px" zoomAndPan="magnify"><defs><filter height="300%" id="f175syyh7y5474" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="2866.7344" style="stroke:#000000;stroke-width:1.0;" width="2801" x="5" y="5"/><path d="M263,5 L263,15.6094 L253,25.6094 L5,25.6094 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="17" x="8" y="20.5332">sd</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227" x="29" y="20.5332">Update Room For Manager Account</text><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="2661.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="197.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="1036.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="399.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="1505.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="399.5" y="1304.8672"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1149.5" y="253.625"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1149.5" y="1378.5703"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="682.8906" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1608.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="1152.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1608.5" y="1627.8672"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2309.5" y="533.2734"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="212.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2309.5" y="1658.2188"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="314.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2407" y="695.8672"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="659.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2407" y="2002.9219"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2524.5" y="2347.625"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2707.5" y="726.2188"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2707.5" y="949.5156"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2707.5" y="2033.2734"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2707.5" y="2256.5703"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2707.5" y="2377.9766"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2707.5" y="2601.2734"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="889.8359" style="stroke:#000000;stroke-width:2.0;" width="2654" x="128" y="355.3281"/><rect fill="#FFFFFF" height="810.7813" style="stroke:none;stroke-width:1.0;" width="2654" x="128" y="434.3828"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="659.5391" style="stroke:#000000;stroke-width:2.0;" width="2634" x="138" y="578.625"/><rect fill="#FFFFFF" height="580.4844" style="stroke:none;stroke-width:1.0;" width="2634" x="138" y="657.6797"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="429.2422" style="stroke:#000000;stroke-width:2.0;" width="2614" x="148" y="801.9219"/><rect fill="#FFFFFF" height="350.1875" style="stroke:none;stroke-width:1.0;" width="2614" x="148" y="880.9766"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="198.9453" style="stroke:#000000;stroke-width:2.0;" width="1797.5" x="158" y="1025.2188"/><rect fill="#FFFFFF" height="119.8906" style="stroke:none;stroke-width:1.0;" width="1797.5" x="158" y="1104.2734"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="1366.4609" style="stroke:#000000;stroke-width:2.0;" width="2674" x="118" y="1480.2734"/><rect fill="#FFFFFF" height="1287.4063" style="stroke:none;stroke-width:1.0;" width="2674" x="118" y="1559.3281"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="954.0547" style="stroke:#000000;stroke-width:2.0;" width="2654" x="128" y="1885.6797"/><rect fill="#FFFFFF" height="875" style="stroke:none;stroke-width:1.0;" width="2654" x="128" y="1964.7344"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="723.7578" style="stroke:#000000;stroke-width:2.0;" width="2634" x="138" y="2108.9766"/><rect fill="#FFFFFF" height="644.7031" style="stroke:none;stroke-width:1.0;" width="2634" x="138" y="2188.0313"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="372.0547" style="stroke:#000000;stroke-width:2.0;" width="2614" x="148" y="2453.6797"/><rect fill="#FFFFFF" height="293" style="stroke:none;stroke-width:1.0;" width="2614" x="148" y="2532.7344"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="141.7578" style="stroke:#000000;stroke-width:2.0;" width="1548.5" x="158" y="2676.9766"/><rect fill="#FFFFFF" height="62.7031" style="stroke:none;stroke-width:1.0;" width="1548.5" x="158" y="2756.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="117.2188" y2="2863.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="202" x2="202" y1="117.2188" y2="2863.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="404" x2="404" y1="117.2188" y2="2863.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1154" x2="1154" y1="117.2188" y2="2863.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1613.5" x2="1613.5" y1="117.2188" y2="2863.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2314.5" x2="2314.5" y1="117.2188" y2="2863.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2411.5" x2="2411.5" y1="117.2188" y2="2863.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2529.5" x2="2529.5" y1="117.2188" y2="2863.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2712" x2="2712" y1="117.2188" y2="2863.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="10" y="114.1426">User</text><ellipse cx="27.5" cy="42.6094" fill="#FEFECE" filter="url(#f175syyh7y5474)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M27.5,50.6094 L27.5,77.6094 M14.5,58.6094 L40.5,58.6094 M27.5,77.6094 L14.5,92.6094 M27.5,77.6094 L40.5,92.6094 " fill="none" filter="url(#f175syyh7y5474)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f175syyh7y5474)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="65" x="168" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="175" y="102.1426">Browser</text><rect fill="#FEFECE" filter="url(#f175syyh7y5474)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="135" x="335" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="342" y="102.1426">:ManagerRoleFilter</text><rect fill="#FEFECE" filter="url(#f175syyh7y5474)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="59" x="1123" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="1130" y="102.1426">:Helper</text><rect fill="#FEFECE" filter="url(#f175syyh7y5474)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="162" x="1530.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="1537.5" y="102.1426">:UpdateRoomController</text><rect fill="#FEFECE" filter="url(#f175syyh7y5474)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="82" x="2271.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="2278.5" y="102.1426">:GetParam</text><rect fill="#FEFECE" filter="url(#f175syyh7y5474)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="85" x="2367.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="2374.5" y="102.1426">:RoomDAO</text><rect fill="#FEFECE" filter="url(#f175syyh7y5474)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="122" x="2466.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="2473.5" y="102.1426">:BookingInfoDAO</text><rect fill="#FEFECE" filter="url(#f175syyh7y5474)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="75" x="2673" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="2680" y="102.1426">Database</text><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="2661.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="197.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="1036.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="399.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="1505.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="399.5" y="1304.8672"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1149.5" y="253.625"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1149.5" y="1378.5703"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="682.8906" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1608.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="1152.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1608.5" y="1627.8672"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2309.5" y="533.2734"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="212.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2309.5" y="1658.2188"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="314.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2407" y="695.8672"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="659.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2407" y="2002.9219"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2524.5" y="2347.625"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2707.5" y="726.2188"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2707.5" y="949.5156"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2707.5" y="2033.2734"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2707.5" y="2256.5703"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2707.5" y="2377.9766"/><rect fill="#FFFFFF" filter="url(#f175syyh7y5474)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2707.5" y="2601.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="195.5" x2="185.5" y1="149.5703" y2="145.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="195.5" x2="185.5" y1="149.5703" y2="153.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="196.5" y1="149.5703" y2="149.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="34.5" y="144.7139">Click on update room Link</text><line style="stroke:#A80036;stroke-width:1.0;" x1="397.5" x2="387.5" y1="179.9219" y2="175.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="397.5" x2="387.5" y1="179.9219" y2="183.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="398.5" y1="179.9219" y2="179.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="214.5" y="175.0654">GET /UpdateRoomController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="451.5" y1="210.2734" y2="210.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="451.5" x2="451.5" y1="210.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="410.5" x2="451.5" y1="223.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="410.5" x2="420.5" y1="223.2734" y2="219.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="410.5" x2="420.5" y1="223.2734" y2="227.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="416.5" y="205.417">Context.lookup(String name): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1147.5" x2="1137.5" y1="253.625" y2="249.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1147.5" x2="1137.5" y1="253.625" y2="257.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="1148.5" y1="253.625" y2="253.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="721" x="416.5" y="248.7686">protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1159.5" x2="1201.5" y1="283.9766" y2="283.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1201.5" x2="1201.5" y1="283.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1160.5" x2="1201.5" y1="296.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1160.5" x2="1170.5" y1="296.9766" y2="292.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1160.5" x2="1170.5" y1="296.9766" y2="300.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1166.5" y="279.1201">isLogin(HttpServletRequest request): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1159.5" x2="1201.5" y1="327.3281" y2="327.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1201.5" x2="1201.5" y1="327.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1160.5" x2="1201.5" y1="340.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1160.5" x2="1170.5" y1="340.3281" y2="336.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1160.5" x2="1170.5" y1="340.3281" y2="344.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435" x="1166.5" y="322.4717">correctRole(HttpServletRequest request, int minRole, int maxRole): boolean</text><path d="M128,355.3281 L189,355.3281 L189,363.3281 L179,373.3281 L128,373.3281 L128,355.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="889.8359" style="stroke:#000000;stroke-width:2.0;" width="2654" x="128" y="355.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="143" y="369.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73" x="204" y="368.7471">[return false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="396.0313" y2="392.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="396.0313" y2="400.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="1148.5" y1="396.0313" y2="396.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="426.5" y="391.1748">forward login.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="426.3828" y2="422.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="426.3828" y2="430.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="207.5" x2="398.5" y1="426.3828" y2="426.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="224.5" y="421.5264">forward login.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="128" x2="2782" y1="435.3828" y2="435.3828"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="133" y="446.8018">[return true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="472.5703" y2="468.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="472.5703" y2="476.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="1153.5" y1="472.5703" y2="472.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="426.5" y="467.7139">return true</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1606.5" x2="1596.5" y1="502.9219" y2="498.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1606.5" x2="1596.5" y1="502.9219" y2="506.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="1607.5" y1="502.9219" y2="502.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="416.5" y="498.0654">doFilter(ServletRequest arg0, ServletResponse arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2307.5" x2="2297.5" y1="533.2734" y2="529.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2307.5" x2="2297.5" y1="533.2734" y2="537.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="2308.5" y1="533.2734" y2="533.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="652" x="1625.5" y="528.417">getIntParams(HttpServletRequest request, String field, String label, int min, int max, Integer defaultValue): Integer</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="563.625" y2="559.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="563.625" y2="567.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1618.5" x2="2313.5" y1="563.625" y2="563.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="1635.5" y="558.7686">return roomId</text><path d="M138,578.625 L199,578.625 L199,586.625 L189,596.625 L138,596.625 L138,578.625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="659.5391" style="stroke:#000000;stroke-width:2.0;" width="2634" x="138" y="578.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="153" y="593.1201">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="214" y="592.0439">[invalid data]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="619.3281" y2="615.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="619.3281" y2="623.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="1607.5" y1="619.3281" y2="619.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="426.5" y="614.4717">forward updateRoom.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="649.6797" y2="645.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="649.6797" y2="653.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="207.5" x2="398.5" y1="649.6797" y2="649.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="224.5" y="644.8232">forward updateRoom.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138" x2="2772" y1="658.6797" y2="658.6797"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="59" x="143" y="670.0986">[valid data]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2405" x2="2395" y1="695.8672" y2="691.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2405" x2="2395" y1="695.8672" y2="699.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="2406" y1="695.8672" y2="695.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="1625.5" y="691.0107">getRoomTypes(): ArrayList&lt;RoomType&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2705.5" x2="2695.5" y1="726.2188" y2="722.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2705.5" x2="2695.5" y1="726.2188" y2="730.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2417" x2="2706.5" y1="726.2188" y2="726.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="2424" y="721.3623">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2417" x2="2427" y1="756.5703" y2="752.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2417" x2="2427" y1="756.5703" y2="760.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2417" x2="2711.5" y1="756.5703" y2="756.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="2434" y="751.7139">return ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="786.9219" y2="782.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="786.9219" y2="790.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1618.5" x2="2406" y1="786.9219" y2="786.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="1635.5" y="782.0654">return ArrayList&lt;RoomType&gt;</text><path d="M148,801.9219 L209,801.9219 L209,809.9219 L199,819.9219 L148,819.9219 L148,801.9219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="429.2422" style="stroke:#000000;stroke-width:2.0;" width="2614" x="148" y="801.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="163" y="816.417">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="90" x="224" y="815.3408">[RoomType Null]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="842.625" y2="838.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="842.625" y2="846.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="1607.5" y1="842.625" y2="842.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="426.5" y="837.7686">forward updateRoom.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="872.9766" y2="868.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="872.9766" y2="876.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="207.5" x2="398.5" y1="872.9766" y2="872.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="224.5" y="868.1201">forward updateRoom.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="148" x2="2762" y1="881.9766" y2="881.9766"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="111" x="153" y="893.3955">[RoomType not null]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2405" x2="2395" y1="919.1641" y2="915.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2405" x2="2395" y1="919.1641" y2="923.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="2406" y1="919.1641" y2="919.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="1625.5" y="914.3076">getRoomById(int roomId): Room</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2705.5" x2="2695.5" y1="949.5156" y2="945.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2705.5" x2="2695.5" y1="949.5156" y2="953.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2417" x2="2706.5" y1="949.5156" y2="949.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="2424" y="944.6592">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2417" x2="2427" y1="979.8672" y2="975.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2417" x2="2427" y1="979.8672" y2="983.8672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2417" x2="2711.5" y1="979.8672" y2="979.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="2434" y="975.0107">return ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="1010.2188" y2="1006.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="1010.2188" y2="1014.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1618.5" x2="2411" y1="1010.2188" y2="1010.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="1635.5" y="1005.3623">return Room</text><path d="M158,1025.2188 L219,1025.2188 L219,1033.2188 L209,1043.2188 L158,1043.2188 L158,1025.2188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="198.9453" style="stroke:#000000;stroke-width:2.0;" width="1797.5" x="158" y="1025.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="173" y="1039.7139">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="63" x="234" y="1038.6377">[Room null]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="1065.9219" y2="1061.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="1065.9219" y2="1069.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="1607.5" y1="1065.9219" y2="1065.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="426.5" y="1061.0654">forward updateRoom.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="1096.2734" y2="1092.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="1096.2734" y2="1100.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="207.5" x2="398.5" y1="1096.2734" y2="1096.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="224.5" y="1091.417">forward updateRoom.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="158" x2="1955.5" y1="1105.2734" y2="1105.2734"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="84" x="163" y="1116.6924">[Room not null]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1660.5" y1="1142.4609" y2="1142.4609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1660.5" x2="1660.5" y1="1142.4609" y2="1155.4609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1619.5" x2="1660.5" y1="1155.4609" y2="1155.4609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1619.5" x2="1629.5" y1="1155.4609" y2="1151.4609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1619.5" x2="1629.5" y1="1155.4609" y2="1159.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318" x="1625.5" y="1137.6045">HttpSession.setAttribute(String arg0, Object arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="1185.8125" y2="1181.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="1185.8125" y2="1189.8125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="1612.5" y1="1185.8125" y2="1185.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="426.5" y="1180.9561">forward updateRoom.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="1216.1641" y2="1212.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="1216.1641" y2="1220.1641"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="207.5" x2="403.5" y1="1216.1641" y2="1216.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="224.5" y="1211.3076">forward updateRoom.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="195.5" x2="185.5" y1="1274.5156" y2="1270.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="195.5" x2="185.5" y1="1274.5156" y2="1278.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="196.5" y1="1274.5156" y2="1274.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="34.5" y="1269.6592">Submit on update form</text><line style="stroke:#A80036;stroke-width:1.0;" x1="397.5" x2="387.5" y1="1304.8672" y2="1300.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="397.5" x2="387.5" y1="1304.8672" y2="1308.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="398.5" y1="1304.8672" y2="1304.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="214.5" y="1300.0107">POST /UpdateRoomController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="451.5" y1="1335.2188" y2="1335.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="451.5" x2="451.5" y1="1335.2188" y2="1348.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="410.5" x2="451.5" y1="1348.2188" y2="1348.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="410.5" x2="420.5" y1="1348.2188" y2="1344.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="410.5" x2="420.5" y1="1348.2188" y2="1352.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="416.5" y="1330.3623">Context.lookup(String name): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1147.5" x2="1137.5" y1="1378.5703" y2="1374.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1147.5" x2="1137.5" y1="1378.5703" y2="1382.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="1148.5" y1="1378.5703" y2="1378.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="721" x="416.5" y="1373.7139">protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1159.5" x2="1201.5" y1="1408.9219" y2="1408.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1201.5" x2="1201.5" y1="1408.9219" y2="1421.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1160.5" x2="1201.5" y1="1421.9219" y2="1421.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1160.5" x2="1170.5" y1="1421.9219" y2="1417.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1160.5" x2="1170.5" y1="1421.9219" y2="1425.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1166.5" y="1404.0654">isLogin(HttpServletRequest request): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1159.5" x2="1201.5" y1="1452.2734" y2="1452.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1201.5" x2="1201.5" y1="1452.2734" y2="1465.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1160.5" x2="1201.5" y1="1465.2734" y2="1465.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1160.5" x2="1170.5" y1="1465.2734" y2="1461.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1160.5" x2="1170.5" y1="1465.2734" y2="1469.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435" x="1166.5" y="1447.417">correctRole(HttpServletRequest request, int minRole, int maxRole): boolean</text><path d="M118,1480.2734 L179,1480.2734 L179,1488.2734 L169,1498.2734 L118,1498.2734 L118,1480.2734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1366.4609" style="stroke:#000000;stroke-width:2.0;" width="2674" x="118" y="1480.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="133" y="1494.7686">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73" x="194" y="1493.6924">[return false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="1520.9766" y2="1516.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="1520.9766" y2="1524.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="1148.5" y1="1520.9766" y2="1520.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="426.5" y="1516.1201">forward login.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="1551.3281" y2="1547.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="1551.3281" y2="1555.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="207.5" x2="398.5" y1="1551.3281" y2="1551.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="224.5" y="1546.4717">forward login.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="118" x2="2792" y1="1560.3281" y2="1560.3281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="123" y="1571.7471">[return true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="1597.5156" y2="1593.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="1597.5156" y2="1601.5156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="1153.5" y1="1597.5156" y2="1597.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="426.5" y="1592.6592">return true</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1606.5" x2="1596.5" y1="1627.8672" y2="1623.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1606.5" x2="1596.5" y1="1627.8672" y2="1631.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="1607.5" y1="1627.8672" y2="1627.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="416.5" y="1623.0107">doFilter(ServletRequest arg0, ServletResponse arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2307.5" x2="2297.5" y1="1658.2188" y2="1654.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2307.5" x2="2297.5" y1="1658.2188" y2="1662.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="2308.5" y1="1658.2188" y2="1658.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="652" x="1625.5" y="1653.3623">getIntParams(HttpServletRequest request, String field, String label, int min, int max, Integer defaultValue): Integer</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="1688.5703" y2="1684.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="1688.5703" y2="1692.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1618.5" x2="2308.5" y1="1688.5703" y2="1688.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="1635.5" y="1683.7139">return roomId, status, roomTypeId</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2307.5" x2="2297.5" y1="1718.9219" y2="1714.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2307.5" x2="2297.5" y1="1718.9219" y2="1722.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="2308.5" y1="1718.9219" y2="1718.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="667" x="1625.5" y="1714.0654">getFloatParams(HttpServletRequest request, String field, String label, float min, float max, Float defaultValue): Float</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="1749.2734" y2="1745.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="1749.2734" y2="1753.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1618.5" x2="2308.5" y1="1749.2734" y2="1749.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="1635.5" y="1744.417">price</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2307.5" x2="2297.5" y1="1779.625" y2="1775.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2307.5" x2="2297.5" y1="1779.625" y2="1783.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="2308.5" y1="1779.625" y2="1779.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="655" x="1625.5" y="1774.7686">getStringParam(HttpServletRequest request, String field, String label, int min, int max, String defaultValue): String</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="1809.9766" y2="1805.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="1809.9766" y2="1813.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1618.5" x2="2308.5" y1="1809.9766" y2="1809.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="1635.5" y="1805.1201">description</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2307.5" x2="2297.5" y1="1840.3281" y2="1836.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2307.5" x2="2297.5" y1="1840.3281" y2="1844.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="2308.5" y1="1840.3281" y2="1840.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="624" x="1625.5" y="1835.4717">getFileParam(HttpServletRequest request, String field, String label, long maxSize, String[] extension): String</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="1870.6797" y2="1866.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="1870.6797" y2="1874.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1618.5" x2="2313.5" y1="1870.6797" y2="1870.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="1635.5" y="1865.8232">imageUrl</text><path d="M128,1885.6797 L189,1885.6797 L189,1893.6797 L179,1903.6797 L128,1903.6797 L128,1885.6797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="954.0547" style="stroke:#000000;stroke-width:2.0;" width="2654" x="128" y="1885.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="143" y="1900.1748">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="204" y="1899.0986">[invalid data]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="1926.3828" y2="1922.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="1926.3828" y2="1930.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="1607.5" y1="1926.3828" y2="1926.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="426.5" y="1921.5264">forward updateRoom.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="1956.7344" y2="1952.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="1956.7344" y2="1960.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="207.5" x2="398.5" y1="1956.7344" y2="1956.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="224.5" y="1951.8779">forward updateRoom.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="128" x2="2782" y1="1965.7344" y2="1965.7344"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="59" x="133" y="1977.1533">[valid data]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2405" x2="2395" y1="2002.9219" y2="1998.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2405" x2="2395" y1="2002.9219" y2="2006.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="2406" y1="2002.9219" y2="2002.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="1625.5" y="1998.0654">getRoomTypes(): ArrayList&lt;RoomType&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2705.5" x2="2695.5" y1="2033.2734" y2="2029.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2705.5" x2="2695.5" y1="2033.2734" y2="2037.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2417" x2="2706.5" y1="2033.2734" y2="2033.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="2424" y="2028.417">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2417" x2="2427" y1="2063.625" y2="2059.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2417" x2="2427" y1="2063.625" y2="2067.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2417" x2="2711.5" y1="2063.625" y2="2063.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="2434" y="2058.7686">return ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="2093.9766" y2="2089.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="2093.9766" y2="2097.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1618.5" x2="2406" y1="2093.9766" y2="2093.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="1635.5" y="2089.1201">return Room</text><path d="M138,2108.9766 L199,2108.9766 L199,2116.9766 L189,2126.9766 L138,2126.9766 L138,2108.9766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="723.7578" style="stroke:#000000;stroke-width:2.0;" width="2634" x="138" y="2108.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="153" y="2123.4717">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="61" x="214" y="2122.3955">[room null]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="2149.6797" y2="2145.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="2149.6797" y2="2153.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="1607.5" y1="2149.6797" y2="2149.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="426.5" y="2144.8232">forward updateRoom.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="2180.0313" y2="2176.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="2180.0313" y2="2184.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="207.5" x2="398.5" y1="2180.0313" y2="2180.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="224.5" y="2175.1748">forward updateRoom.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138" x2="2772" y1="2189.0313" y2="2189.0313"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="82" x="143" y="2200.4502">[room not null]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2405" x2="2395" y1="2226.2188" y2="2222.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2405" x2="2395" y1="2226.2188" y2="2230.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="2406" y1="2226.2188" y2="2226.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294" x="1625.5" y="2221.3623">getRoomTypeById(Integer roomTypeId): RoomType</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2705.5" x2="2695.5" y1="2256.5703" y2="2252.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2705.5" x2="2695.5" y1="2256.5703" y2="2260.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2417" x2="2706.5" y1="2256.5703" y2="2256.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="2424" y="2251.7139">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2417" x2="2427" y1="2286.9219" y2="2282.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2417" x2="2427" y1="2286.9219" y2="2290.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2417" x2="2711.5" y1="2286.9219" y2="2286.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="2434" y="2282.0654">return ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="2317.2734" y2="2313.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="2317.2734" y2="2321.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1618.5" x2="2406" y1="2317.2734" y2="2317.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="1635.5" y="2312.417">return RoomType</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2522.5" x2="2512.5" y1="2347.625" y2="2343.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2522.5" x2="2512.5" y1="2347.625" y2="2351.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="2523.5" y1="2347.625" y2="2347.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="440" x="1625.5" y="2342.7686">getActiveBookingWithRoomId(Integer bookingInfoId): ArrayList&lt;BookingInfo&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2705.5" x2="2695.5" y1="2377.9766" y2="2373.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2705.5" x2="2695.5" y1="2377.9766" y2="2381.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2534.5" x2="2706.5" y1="2377.9766" y2="2377.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="2541.5" y="2373.1201">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2534.5" x2="2544.5" y1="2408.3281" y2="2404.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2534.5" x2="2544.5" y1="2408.3281" y2="2412.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2534.5" x2="2711.5" y1="2408.3281" y2="2408.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="2551.5" y="2403.4717">return ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="2438.6797" y2="2434.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="2438.6797" y2="2442.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1618.5" x2="2528.5" y1="2438.6797" y2="2438.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="1635.5" y="2433.8232">return ArrayList&lt;BookingInfo&gt;</text><path d="M148,2453.6797 L209,2453.6797 L209,2461.6797 L199,2471.6797 L148,2471.6797 L148,2453.6797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="372.0547" style="stroke:#000000;stroke-width:2.0;" width="2614" x="148" y="2453.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="163" y="2468.1748">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="220" x="224" y="2467.0986">[RoomType null or BookingInfoDAO null]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="2494.3828" y2="2490.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="2494.3828" y2="2498.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="1607.5" y1="2494.3828" y2="2494.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="426.5" y="2489.5264">forward updateRoom.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="2524.7344" y2="2520.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="2524.7344" y2="2528.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="207.5" x2="398.5" y1="2524.7344" y2="2524.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="224.5" y="2519.8779">forward updateRoom.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="148" x2="2762" y1="2533.7344" y2="2533.7344"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="262" x="153" y="2545.1533">[RoomType not null or BookingInfoDAO not null]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2405" x2="2395" y1="2570.9219" y2="2566.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2405" x2="2395" y1="2570.9219" y2="2574.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="2406" y1="2570.9219" y2="2570.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="1625.5" y="2566.0654">updateRoom(Room room): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2705.5" x2="2695.5" y1="2601.2734" y2="2597.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2705.5" x2="2695.5" y1="2601.2734" y2="2605.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2417" x2="2706.5" y1="2601.2734" y2="2601.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="2424" y="2596.417">executeUpdate(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2417" x2="2427" y1="2631.625" y2="2627.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2417" x2="2427" y1="2631.625" y2="2635.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2417" x2="2711.5" y1="2631.625" y2="2631.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="2434" y="2626.7686">return ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="2661.9766" y2="2657.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1618.5" x2="1628.5" y1="2661.9766" y2="2665.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1618.5" x2="2411" y1="2661.9766" y2="2661.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="1635.5" y="2657.1201">return boolean</text><path d="M158,2676.9766 L219,2676.9766 L219,2684.9766 L209,2694.9766 L158,2694.9766 L158,2676.9766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="141.7578" style="stroke:#000000;stroke-width:2.0;" width="1548.5" x="158" y="2676.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="173" y="2691.4717">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="80" x="234" y="2690.3955">[result = false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="2717.6797" y2="2713.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="2717.6797" y2="2721.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="1607.5" y1="2717.6797" y2="2717.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="426.5" y="2712.8232">forward updateRoom.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="2748.0313" y2="2744.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="207.5" x2="217.5" y1="2748.0313" y2="2752.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="207.5" x2="398.5" y1="2748.0313" y2="2748.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="224.5" y="2743.1748">forward updateRoom.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="158" x2="1706.5" y1="2757.0313" y2="2757.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="2780.3828" y2="2776.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="409.5" x2="419.5" y1="2780.3828" y2="2784.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="1612.5" y1="2780.3828" y2="2780.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="426.5" y="2775.5264">forward updateRoom.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="202.5" x2="212.5" y1="2810.7344" y2="2806.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="202.5" x2="212.5" y1="2810.7344" y2="2814.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="202.5" x2="403.5" y1="2810.7344" y2="2810.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="219.5" y="2805.8779">forward updateRoom.jsp</text><!--MD5=[fd5d338b2db9f68d3a89d08a77c55ca0]
@startuml updateRoom

hide footbox
mainframe <b>sd</b> Update Room For Manager Account

actor User
participant "Browser" as Browser
participant ":ManagerRoleFilter" as ManagerRoleFilter
participant ":Helper" as Helper
participant ":UpdateRoomController" as UpdateRoomController
participant ":GetParam" as GetParam
participant ":RoomDAO" as RoomDAO
participant ":BookingInfoDAO" as BookingInfoDAO
participant "Database" as DB


User ->> Browser: Click on update room Link
activate Browser
Browser ->> ManagerRoleFilter: GET /UpdateRoomController
activate ManagerRoleFilter
ManagerRoleFilter ->> ManagerRoleFilter: Context.lookup(String name): Object
ManagerRoleFilter ->> Helper: protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean
activate Helper
Helper ->> Helper: isLogin(HttpServletRequest request): boolean
Helper ->> Helper: correctRole(HttpServletRequest request, int minRole, int maxRole): boolean
alt return false 
    Helper - ->> ManagerRoleFilter: forward login.jsp
    ManagerRoleFilter - ->> Browser: forward login.jsp
else return true
    Helper - ->> ManagerRoleFilter: return true
    deactivate Helper
    ManagerRoleFilter ->> UpdateRoomController: doFilter(ServletRequest arg0, ServletResponse arg1): void
    activate UpdateRoomController
    UpdateRoomController ->> GetParam: getIntParams(HttpServletRequest request, String field, String label, int min, int max, Integer defaultValue): Integer
    activate GetParam
    GetParam - ->> UpdateRoomController: return roomId
    deactivate GetParam
    alt invalid data
        UpdateRoomController - ->> ManagerRoleFilter: forward updateRoom.jsp
        ManagerRoleFilter - ->> Browser: forward updateRoom.jsp 
    else valid data
        UpdateRoomController ->> RoomDAO: getRoomTypes(): ArrayList<RoomType>
        activate RoomDAO
        RoomDAO ->> DB: executeQuery(): ResultSet
        activate DB
        DB - ->> RoomDAO: return ResultSet
        deactivate DB
        RoomDAO - ->> UpdateRoomController: return ArrayList<RoomType>
        alt RoomType Null 
            UpdateRoomController - ->> ManagerRoleFilter: forward updateRoom.jsp
            ManagerRoleFilter - ->> Browser: forward updateRoom.jsp 
        else RoomType not null
            UpdateRoomController ->> RoomDAO: getRoomById(int roomId): Room
            RoomDAO ->> DB: executeQuery(): ResultSet
            activate DB
            DB - ->> RoomDAO: return ResultSet
            deactivate DB
            RoomDAO - ->> UpdateRoomController:  return Room
            deactivate RoomDAO
            alt Room null
                UpdateRoomController - ->> ManagerRoleFilter: forward updateRoom.jsp
                ManagerRoleFilter - ->> Browser: forward updateRoom.jsp 
            else Room not null
                UpdateRoomController ->> UpdateRoomController: HttpSession.setAttribute(String arg0, Object arg1): void
                UpdateRoomController - ->> ManagerRoleFilter: forward updateRoom.jsp
                deactivate UpdateRoomController
                ManagerRoleFilter - ->> Browser: forward updateRoom.jsp 
                deactivate ManagerRoleFilter
            end 
        end
    end
end

User ->> Browser: Submit on update form 
Browser ->> ManagerRoleFilter: POST /UpdateRoomController
activate ManagerRoleFilter
ManagerRoleFilter ->> ManagerRoleFilter: Context.lookup(String name): Object
ManagerRoleFilter ->> Helper: protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean
activate Helper
Helper ->> Helper: isLogin(HttpServletRequest request): boolean
Helper ->> Helper: correctRole(HttpServletRequest request, int minRole, int maxRole): boolean
alt return false 
    Helper - ->> ManagerRoleFilter: forward login.jsp
    ManagerRoleFilter - ->> Browser: forward login.jsp
else return true
    Helper - ->> ManagerRoleFilter: return true
    deactivate Helper
    ManagerRoleFilter ->> UpdateRoomController: doFilter(ServletRequest arg0, ServletResponse arg1): void
    activate UpdateRoomController
    UpdateRoomController ->> GetParam: getIntParams(HttpServletRequest request, String field, String label, int min, int max, Integer defaultValue): Integer
    activate GetParam
    GetParam - ->> UpdateRoomController: return roomId, status, roomTypeId
    UpdateRoomController ->> GetParam: getFloatParams(HttpServletRequest request, String field, String label, float min, float max, Float defaultValue): Float
    GetParam - ->> UpdateRoomController: price
    UpdateRoomController ->> GetParam: getStringParam(HttpServletRequest request, String field, String label, int min, int max, String defaultValue): String
    GetParam - ->> UpdateRoomController: description
    UpdateRoomController ->> GetParam: getFileParam(HttpServletRequest request, String field, String label, long maxSize, String[] extension): String
    GetParam - ->> UpdateRoomController: imageUrl
    deactivate GetParam
    alt invalid data
        UpdateRoomController - ->> ManagerRoleFilter: forward updateRoom.jsp
                ManagerRoleFilter - ->> Browser: forward updateRoom.jsp 
    else valid data
        UpdateRoomController ->> RoomDAO: getRoomTypes(): ArrayList<RoomType>
        activate RoomDAO
        RoomDAO ->> DB: executeQuery(): ResultSet
        activate DB
        DB - ->> RoomDAO: return ResultSet
        deactivate DB
        RoomDAO - ->> UpdateRoomController:  return Room
        alt room null
            UpdateRoomController - ->> ManagerRoleFilter: forward updateRoom.jsp
            ManagerRoleFilter - ->> Browser: forward updateRoom.jsp 
        else room not null
            UpdateRoomController ->> RoomDAO: getRoomTypeById(Integer roomTypeId): RoomType
            RoomDAO ->> DB: executeQuery(): ResultSet
            activate DB
            DB - ->> RoomDAO: return ResultSet
            deactivate DB
            RoomDAO - ->> UpdateRoomController:  return RoomType
            UpdateRoomController ->> BookingInfoDAO:  getActiveBookingWithRoomId(Integer bookingInfoId): ArrayList<BookingInfo>
            activate BookingInfoDAO
            BookingInfoDAO ->> DB: executeQuery(): ResultSet
            activate DB
            DB - ->> BookingInfoDAO: return ResultSet
            deactivate DB
            BookingInfoDAO - ->> UpdateRoomController:  return ArrayList<BookingInfo>
            deactivate BookingInfoDAO
            alt RoomType null or BookingInfoDAO null
                UpdateRoomController - ->> ManagerRoleFilter: forward updateRoom.jsp
                ManagerRoleFilter - ->> Browser: forward updateRoom.jsp 
            else RoomType not null or BookingInfoDAO not null
                UpdateRoomController ->> RoomDAO: updateRoom(Room room): boolean
                RoomDAO ->> DB: executeUpdate(): ResultSet
                activate DB
                DB - ->> RoomDAO: return ResultSet
                deactivate DB
                RoomDAO - ->> UpdateRoomController:  return boolean
                deactivate RoomDAO
                alt result = false
                    UpdateRoomController - ->> ManagerRoleFilter: forward updateRoom.jsp
                    ManagerRoleFilter - ->> Browser: forward updateRoom.jsp 
                else
                    UpdateRoomController - ->> ManagerRoleFilter: forward updateRoom.jsp
                    deactivate UpdateRoomController
                    ManagerRoleFilter - ->> Browser: forward updateRoom.jsp 
                    deactivate Browser
                    deactivate ManagerRoleFilter
                end
            end
        end
    end
end

@enduml

PlantUML version 1.2021.00(Sun Jan 10 17:25:05 ICT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>