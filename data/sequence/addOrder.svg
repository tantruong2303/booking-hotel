<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2072px" preserveAspectRatio="none" style="width:2203px;height:2072px;" version="1.1" viewBox="0 0 2203 2072" width="2203px" zoomAndPan="magnify"><defs><filter height="300%" id="flv2sxeh7fiyb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="2055.7578" style="stroke:#000000;stroke-width:1.0;" width="2186.5" x="5" y="5"/><path d="M102,5 L102,15.6094 L92,25.6094 L5,25.6094 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="17" x="8" y="20.5332">sd</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="29" y="20.5332">Add Order</text><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="1836.1875" style="stroke:#A80036;stroke-width:1.0;" width="10" x="196.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="1482.8359" style="stroke:#A80036;stroke-width:1.0;" width="10" x="416.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="323" style="stroke:#A80036;stroke-width:1.0;" width="10" x="776.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1109" y="1127.2734"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1204" y="812.9219"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1299" y="934.3281"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1299" y="1749.4609"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1416.5" y="1320.2188"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1416.5" y="1513.1641"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1653.5" y="843.2734"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1653.5" y="964.6797"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1653.5" y="1157.625"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1653.5" y="1350.5703"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1653.5" y="1543.5156"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1653.5" y="1779.8125"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1732.5" y="253.625"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1732.5" y="648.1641"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="1680.4297" style="stroke:#000000;stroke-width:2.0;" width="1690" x="97" y="355.3281"/><rect fill="#FFFFFF" height="1601.375" style="stroke:none;stroke-width:1.0;" width="1690" x="97" y="434.3828"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="1467.4844" style="stroke:#000000;stroke-width:2.0;" width="1670" x="107" y="561.2734"/><rect fill="#FFFFFF" height="1418.7813" style="stroke:none;stroke-width:1.0;" width="1670" x="107" y="609.9766"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="981.375" style="stroke:#000000;stroke-width:2.0;" width="1621" x="117" y="1040.3828"/><rect fill="#FFFFFF" height="932.6719" style="stroke:none;stroke-width:1.0;" width="1621" x="117" y="1089.0859"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="781.4297" style="stroke:#000000;stroke-width:2.0;" width="1601" x="127" y="1233.3281"/><rect fill="#FFFFFF" height="732.7266" style="stroke:none;stroke-width:1.0;" width="1601" x="127" y="1282.0313"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="581.4844" style="stroke:#000000;stroke-width:2.0;" width="1581" x="137" y="1426.2734"/><rect fill="#FFFFFF" height="532.7813" style="stroke:none;stroke-width:1.0;" width="1581" x="137" y="1474.9766"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="381.5391" style="stroke:#000000;stroke-width:2.0;" width="1561" x="147" y="1619.2188"/><rect fill="#FFFFFF" height="332.8359" style="stroke:none;stroke-width:1.0;" width="1561" x="147" y="1667.9219"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="138.2422" style="stroke:#000000;stroke-width:2.0;" width="554.5" x="157" y="1855.5156"/><rect fill="#FFFFFF" height="89.5391" style="stroke:none;stroke-width:1.0;" width="554.5" x="157" y="1904.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="117.2188" y2="2052.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="201" x2="201" y1="117.2188" y2="2052.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="421.5" x2="421.5" y1="117.2188" y2="2052.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="781.5" x2="781.5" y1="117.2188" y2="2052.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1016.5" x2="1016.5" y1="117.2188" y2="2052.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1113.5" x2="1113.5" y1="117.2188" y2="2052.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1208.5" x2="1208.5" y1="117.2188" y2="2052.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1303.5" x2="1303.5" y1="117.2188" y2="2052.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1421.5" x2="1421.5" y1="117.2188" y2="2052.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1658" x2="1658" y1="117.2188" y2="2052.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1737" x2="1737" y1="117.2188" y2="2052.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="10" y="114.1426">User</text><ellipse cx="27.5" cy="42.6094" fill="#FEFECE" filter="url(#flv2sxeh7fiyb)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M27.5,50.6094 L27.5,77.6094 M14.5,58.6094 L40.5,58.6094 M27.5,77.6094 L14.5,92.6094 M27.5,77.6094 L40.5,92.6094 " fill="none" filter="url(#flv2sxeh7fiyb)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#flv2sxeh7fiyb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="65" x="167" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="174" y="102.1426">Browser</text><rect fill="#FEFECE" filter="url(#flv2sxeh7fiyb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="142" x="348.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="355.5" y="102.1426">:AddOrderController</text><rect fill="#FEFECE" filter="url(#flv2sxeh7fiyb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="140" x="709.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="716.5" y="102.1426">:CustomerRoleFilter</text><rect fill="#FEFECE" filter="url(#flv2sxeh7fiyb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="82" x="973.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="980.5" y="102.1426">:GetParam</text><rect fill="#FEFECE" filter="url(#flv2sxeh7fiyb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="85" x="1069.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="1076.5" y="102.1426">:RoomDAO</text><rect fill="#FEFECE" filter="url(#flv2sxeh7fiyb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="77" x="1168.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1175.5" y="102.1426">:UserDAO</text><rect fill="#FEFECE" filter="url(#flv2sxeh7fiyb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="85" x="1259.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="1266.5" y="102.1426">:OrderDAO</text><rect fill="#FEFECE" filter="url(#flv2sxeh7fiyb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="122" x="1358.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1365.5" y="102.1426">:BookingInfoDAO</text><rect fill="#FEFECE" filter="url(#flv2sxeh7fiyb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="75" x="1619" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1626" y="102.1426">Database</text><rect fill="#FEFECE" filter="url(#flv2sxeh7fiyb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="55" x="1708" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="1715" y="102.1426">Helper</text><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="1836.1875" style="stroke:#A80036;stroke-width:1.0;" width="10" x="196.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="1482.8359" style="stroke:#A80036;stroke-width:1.0;" width="10" x="416.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="323" style="stroke:#A80036;stroke-width:1.0;" width="10" x="776.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1109" y="1127.2734"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1204" y="812.9219"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1299" y="934.3281"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1299" y="1749.4609"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1416.5" y="1320.2188"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1416.5" y="1513.1641"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1653.5" y="843.2734"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1653.5" y="964.6797"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1653.5" y="1157.625"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1653.5" y="1350.5703"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1653.5" y="1543.5156"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1653.5" y="1779.8125"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1732.5" y="253.625"/><rect fill="#FFFFFF" filter="url(#flv2sxeh7fiyb)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1732.5" y="648.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="194.5" x2="184.5" y1="149.5703" y2="145.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="194.5" x2="184.5" y1="149.5703" y2="153.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="195.5" y1="149.5703" y2="149.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="34.5" y="144.7139">Click on Add Order button</text><line style="stroke:#A80036;stroke-width:1.0;" x1="774.5" x2="764.5" y1="179.9219" y2="175.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="774.5" x2="764.5" y1="179.9219" y2="183.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="775.5" y1="179.9219" y2="179.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="213.5" y="175.0654">GET /AddOrderController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="828.5" y1="210.2734" y2="210.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="828.5" x2="828.5" y1="210.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="787.5" x2="828.5" y1="223.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="787.5" x2="797.5" y1="223.2734" y2="219.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="787.5" x2="797.5" y1="223.2734" y2="227.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="793.5" y="205.417">Context.lookup(String name): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1730.5" x2="1720.5" y1="253.625" y2="249.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1730.5" x2="1720.5" y1="253.625" y2="257.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="1731.5" y1="253.625" y2="253.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="721" x="793.5" y="248.7686">protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1742.5" x2="1784.5" y1="283.9766" y2="283.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1784.5" x2="1784.5" y1="283.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1743.5" x2="1784.5" y1="296.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1743.5" x2="1753.5" y1="296.9766" y2="292.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1743.5" x2="1753.5" y1="296.9766" y2="300.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1749.5" y="279.1201">isLogin(HttpServletRequest request): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1742.5" x2="1784.5" y1="327.3281" y2="327.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1784.5" x2="1784.5" y1="327.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1743.5" x2="1784.5" y1="340.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1743.5" x2="1753.5" y1="340.3281" y2="336.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1743.5" x2="1753.5" y1="340.3281" y2="344.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435" x="1749.5" y="322.4717">correctRole(HttpServletRequest request, int minRole, int maxRole): boolean</text><path d="M97,355.3281 L158,355.3281 L158,363.3281 L148,373.3281 L97,373.3281 L97,355.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1680.4297" style="stroke:#000000;stroke-width:2.0;" width="1690" x="97" y="355.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="112" y="369.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73" x="173" y="368.7471">[return false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="396.0313" y2="392.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="396.0313" y2="400.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="786.5" x2="1731.5" y1="396.0313" y2="396.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="803.5" y="391.1748">forward login.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="426.3828" y2="422.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="426.3828" y2="430.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206.5" x2="775.5" y1="426.3828" y2="426.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="223.5" y="421.5264">forward login.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="97" x2="1787" y1="435.3828" y2="435.3828"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="102" y="446.8018">[return true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="472.5703" y2="468.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="472.5703" y2="476.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="786.5" x2="1736.5" y1="472.5703" y2="472.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="803.5" y="467.7139">return true</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="502.9219" y2="498.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="502.9219" y2="506.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="780.5" y1="502.9219" y2="502.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="443.5" y="498.0654">doFilter(ServletRequest arg0, ServletResponse arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="468.5" y1="533.2734" y2="533.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="468.5" x2="468.5" y1="533.2734" y2="546.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="427.5" x2="468.5" y1="546.2734" y2="546.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="427.5" x2="437.5" y1="546.2734" y2="542.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="427.5" x2="437.5" y1="546.2734" y2="550.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="433.5" y="528.417">HttpSession.getAttribute(String arg0): Object</text><path d="M107,561.2734 L168,561.2734 L168,569.2734 L158,579.2734 L107,579.2734 L107,561.2734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1467.4844" style="stroke:#000000;stroke-width:2.0;" width="1670" x="107" y="561.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="122" y="575.7686">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="241" x="183" y="574.6924">[HttpSession return invalid bookingInfoList]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="601.9766" y2="597.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="601.9766" y2="605.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206.5" x2="415.5" y1="601.9766" y2="601.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="223.5" y="597.1201">forward viewBookingCart.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="107" x2="1777" y1="610.9766" y2="610.9766"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="123" x="112" y="622.3955">[valid bookingInfoList]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1730.5" x2="1720.5" y1="648.1641" y2="644.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1730.5" x2="1720.5" y1="648.1641" y2="652.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="1731.5" y1="648.1641" y2="648.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="433.5" y="643.3076">generateOrderId(): Integer</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="678.5156" y2="674.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="678.5156" y2="682.5156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="1731.5" y1="678.5156" y2="678.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="443.5" y="673.6592">return Integer orderId</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1730.5" x2="1720.5" y1="708.8672" y2="704.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1730.5" x2="1720.5" y1="708.8672" y2="712.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="1731.5" y1="708.8672" y2="708.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="433.5" y="704.0107">getCurrentDate(): Date</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="739.2188" y2="735.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="739.2188" y2="743.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="1736.5" y1="739.2188" y2="739.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="443.5" y="734.3623">return Date createDate</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="468.5" y1="769.5703" y2="769.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="468.5" x2="468.5" y1="769.5703" y2="782.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="427.5" x2="468.5" y1="782.5703" y2="782.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="427.5" x2="437.5" y1="782.5703" y2="778.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="427.5" x2="437.5" y1="782.5703" y2="786.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="433.5" y="764.7139">HttpSession.getAttribute(String arg0): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1202" x2="1192" y1="812.9219" y2="808.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1202" x2="1192" y1="812.9219" y2="816.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="1203" y1="812.9219" y2="812.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="433.5" y="808.0654">getOneUserByUsername(String username): User</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1651.5" x2="1641.5" y1="843.2734" y2="839.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1651.5" x2="1641.5" y1="843.2734" y2="847.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1214" x2="1652.5" y1="843.2734" y2="843.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1221" y="838.417">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1214" x2="1224" y1="873.625" y2="869.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1214" x2="1224" y1="873.625" y2="877.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1214" x2="1657.5" y1="873.625" y2="873.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1231" y="868.7686">return ResultSet rs</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="903.9766" y2="899.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="903.9766" y2="907.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="1208" y1="903.9766" y2="903.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="443.5" y="899.1201">return User user</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1297" x2="1287" y1="934.3281" y2="930.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1297" x2="1287" y1="934.3281" y2="938.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="1298" y1="934.3281" y2="934.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="433.5" y="929.4717">addOrder(Order order): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1651.5" x2="1641.5" y1="964.6797" y2="960.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1651.5" x2="1641.5" y1="964.6797" y2="968.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1309" x2="1652.5" y1="964.6797" y2="964.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="1316" y="959.8232">executeUpdate(): PrepareStatement</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1309" x2="1319" y1="995.0313" y2="991.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1309" x2="1319" y1="995.0313" y2="999.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1309" x2="1657.5" y1="995.0313" y2="995.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="1326" y="990.1748">return int preStm.executeUpdate()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1025.3828" y2="1021.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1025.3828" y2="1029.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="1303" y1="1025.3828" y2="1025.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="443.5" y="1020.5264">return boolean isSuccess</text><path d="M117,1040.3828 L178,1040.3828 L178,1048.3828 L168,1058.3828 L117,1058.3828 L117,1040.3828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="981.375" style="stroke:#000000;stroke-width:2.0;" width="1621" x="117" y="1040.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="132" y="1054.8779">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104" x="193" y="1053.8018">[isSuccess = false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1081.0859" y2="1077.0859"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1081.0859" y2="1085.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206.5" x2="415.5" y1="1081.0859" y2="1081.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="223.5" y="1076.2295">forward viewBookingCart.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="117" x2="1738" y1="1090.0859" y2="1090.0859"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="100" x="122" y="1101.5049">[isSuccess = true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1107" x2="1097" y1="1127.2734" y2="1123.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1107" x2="1097" y1="1127.2734" y2="1131.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="1108" y1="1127.2734" y2="1127.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="433.5" y="1122.417">getRoomById(int roomId): Room</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1651.5" x2="1641.5" y1="1157.625" y2="1153.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1651.5" x2="1641.5" y1="1157.625" y2="1161.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1119" x2="1652.5" y1="1157.625" y2="1157.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1126" y="1152.7686">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1119" x2="1129" y1="1187.9766" y2="1183.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1119" x2="1129" y1="1187.9766" y2="1191.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1119" x2="1657.5" y1="1187.9766" y2="1187.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1136" y="1183.1201">return ResultSet rs</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1218.3281" y2="1214.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1218.3281" y2="1222.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="1113" y1="1218.3281" y2="1218.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="443.5" y="1213.4717">return Room room</text><path d="M127,1233.3281 L188,1233.3281 L188,1241.3281 L178,1251.3281 L127,1251.3281 L127,1233.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="781.4297" style="stroke:#000000;stroke-width:2.0;" width="1601" x="127" y="1233.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="142" y="1247.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="76" x="203" y="1246.7471">[invalid room]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1274.0313" y2="1270.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1274.0313" y2="1278.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206.5" x2="415.5" y1="1274.0313" y2="1274.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="223.5" y="1269.1748">forward viewBookingCart.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="127" x2="1728" y1="1283.0313" y2="1283.0313"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="66" x="132" y="1294.4502">[valid room]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1414.5" x2="1404.5" y1="1320.2188" y2="1316.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1414.5" x2="1404.5" y1="1320.2188" y2="1324.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="1415.5" y1="1320.2188" y2="1320.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="404" x="433.5" y="1315.3623">getActiveBookingWithRoomId(Integer roomId): ArrayList&lt;BookingInfo&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1651.5" x2="1641.5" y1="1350.5703" y2="1346.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1651.5" x2="1641.5" y1="1350.5703" y2="1354.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1426.5" x2="1652.5" y1="1350.5703" y2="1350.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1433.5" y="1345.7139">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1426.5" x2="1436.5" y1="1380.9219" y2="1376.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1426.5" x2="1436.5" y1="1380.9219" y2="1384.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1426.5" x2="1657.5" y1="1380.9219" y2="1380.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1443.5" y="1376.0654">return ResultSet rs</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1411.2734" y2="1407.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1411.2734" y2="1415.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="1420.5" y1="1411.2734" y2="1411.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="443.5" y="1406.417">return ArrayList&lt;BookingInfo&gt; bookings</text><path d="M137,1426.2734 L198,1426.2734 L198,1434.2734 L188,1444.2734 L137,1444.2734 L137,1426.2734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="581.4844" style="stroke:#000000;stroke-width:2.0;" width="1581" x="137" y="1426.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="152" y="1440.7686">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="98" x="213" y="1439.6924">[invalid bookings]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1466.9766" y2="1462.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1466.9766" y2="1470.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206.5" x2="415.5" y1="1466.9766" y2="1466.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="223.5" y="1462.1201">forward viewBookingCart.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="137" x2="1718" y1="1475.9766" y2="1475.9766"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="88" x="142" y="1487.3955">[valid bookings]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1414.5" x2="1404.5" y1="1513.1641" y2="1509.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1414.5" x2="1404.5" y1="1513.1641" y2="1517.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="1415.5" y1="1513.1641" y2="1513.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285" x="433.5" y="1508.3076">addBookingInfo(BookingInfo bookingInfo): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1651.5" x2="1641.5" y1="1543.5156" y2="1539.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1651.5" x2="1641.5" y1="1543.5156" y2="1547.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1426.5" x2="1652.5" y1="1543.5156" y2="1543.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="1433.5" y="1538.6592">executeUpdate(): PrepareStatement</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1426.5" x2="1436.5" y1="1573.8672" y2="1569.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1426.5" x2="1436.5" y1="1573.8672" y2="1577.8672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1426.5" x2="1657.5" y1="1573.8672" y2="1573.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="1443.5" y="1569.0107">return int preStm.executeUpdate()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1604.2188" y2="1600.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1604.2188" y2="1608.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="1420.5" y1="1604.2188" y2="1604.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="443.5" y="1599.3623">return boolean isSuccess</text><path d="M147,1619.2188 L208,1619.2188 L208,1627.2188 L198,1637.2188 L147,1637.2188 L147,1619.2188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="381.5391" style="stroke:#000000;stroke-width:2.0;" width="1561" x="147" y="1619.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="162" y="1633.7139">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104" x="223" y="1632.6377">[isSuccess = false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1659.9219" y2="1655.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1659.9219" y2="1663.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206.5" x2="415.5" y1="1659.9219" y2="1659.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="223.5" y="1655.0654">forward viewBookingCart.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="147" x2="1708" y1="1668.9219" y2="1668.9219"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="100" x="152" y="1680.3408">[isSuccess = true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="468.5" y1="1706.1094" y2="1706.1094"/><line style="stroke:#A80036;stroke-width:1.0;" x1="468.5" x2="468.5" y1="1706.1094" y2="1719.1094"/><line style="stroke:#A80036;stroke-width:1.0;" x1="427.5" x2="468.5" y1="1719.1094" y2="1719.1094"/><line style="stroke:#A80036;stroke-width:1.0;" x1="427.5" x2="437.5" y1="1719.1094" y2="1715.1094"/><line style="stroke:#A80036;stroke-width:1.0;" x1="427.5" x2="437.5" y1="1719.1094" y2="1723.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318" x="433.5" y="1701.2529">HttpSession.setAttribute(String arg0, Object arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1297" x2="1287" y1="1749.4609" y2="1745.4609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1297" x2="1287" y1="1749.4609" y2="1753.4609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="1298" y1="1749.4609" y2="1749.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="433.5" y="1744.6045">updateOrder(Order order): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1651.5" x2="1641.5" y1="1779.8125" y2="1775.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1651.5" x2="1641.5" y1="1779.8125" y2="1783.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1309" x2="1652.5" y1="1779.8125" y2="1779.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="1316" y="1774.9561">executeUpdate(): PrepareStatement</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1309" x2="1319" y1="1810.1641" y2="1806.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1309" x2="1319" y1="1810.1641" y2="1814.1641"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1309" x2="1657.5" y1="1810.1641" y2="1810.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="1326" y="1805.3076">return int preStm.executeUpdate()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1840.5156" y2="1836.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1840.5156" y2="1844.5156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="1303" y1="1840.5156" y2="1840.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="443.5" y="1835.6592">return boolean isSuccess</text><path d="M157,1855.5156 L218,1855.5156 L218,1863.5156 L208,1873.5156 L157,1873.5156 L157,1855.5156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="138.2422" style="stroke:#000000;stroke-width:2.0;" width="554.5" x="157" y="1855.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="172" y="1870.0107">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104" x="233" y="1868.9346">[isSuccess = false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1896.2188" y2="1892.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1896.2188" y2="1900.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206.5" x2="415.5" y1="1896.2188" y2="1896.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="223.5" y="1891.3623">forward viewBookingCart.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="157" x2="711.5" y1="1905.2188" y2="1905.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="100" x="162" y="1916.6377">[isSuccess = true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="468.5" y1="1942.4063" y2="1942.4063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="468.5" x2="468.5" y1="1942.4063" y2="1955.4063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="427.5" x2="468.5" y1="1955.4063" y2="1955.4063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="427.5" x2="437.5" y1="1955.4063" y2="1951.4063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="427.5" x2="437.5" y1="1955.4063" y2="1959.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="433.5" y="1937.5498">HttpSession.removeAttribute(String arg0): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="201.5" x2="211.5" y1="1985.7578" y2="1981.7578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="201.5" x2="211.5" y1="1985.7578" y2="1989.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="201.5" x2="420.5" y1="1985.7578" y2="1985.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="218.5" y="1980.9014">Redirect /ViewBookingController</text><!--MD5=[5c7f909de587bd30fa1ab2deff24b7a0]
@startuml addOrder

hide footbox
mainframe <b>sd</b> Add Order
actor User
participant "Browser" as Browser
participant ":AddOrderController" as AddOrderController
participant ":CustomerRoleFilter" as CustomerRoleFilter
participant ":GetParam" as GetParam
participant ":RoomDAO" as RoomDAO
participant ":UserDAO" as UserDAO
participant ":OrderDAO" as OrderDAO
participant ":BookingInfoDAO" as BookingInfoDAO
participant "Database" as DB
participant "Helper" as Helper


User ->> Browser: Click on Add Order button
activate Browser

Browser ->> CustomerRoleFilter: GET /AddOrderController
activate CustomerRoleFilter
CustomerRoleFilter ->> CustomerRoleFilter: Context.lookup(String name): Object
CustomerRoleFilter ->> Helper: protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean
activate Helper
Helper ->> Helper: isLogin(HttpServletRequest request): boolean
Helper ->> Helper: correctRole(HttpServletRequest request, int minRole, int maxRole): boolean
alt return false 
    Helper - ->> CustomerRoleFilter: forward login.jsp
    CustomerRoleFilter - ->> Browser: forward login.jsp
else return true
    Helper - ->> CustomerRoleFilter: return true
    deactivate Helper
    CustomerRoleFilter - ->> AddOrderController: doFilter(ServletRequest arg0, ServletResponse arg1): void
    deactivate CustomerRoleFilter
    activate AddOrderController
    AddOrderController ->> AddOrderController: HttpSession.getAttribute(String arg0): Object
    alt HttpSession return invalid bookingInfoList
        AddOrderController - ->> Browser: forward viewBookingCart.jsp
    else valid bookingInfoList
        AddOrderController ->> Helper: generateOrderId(): Integer
        activate Helper
        Helper - ->> AddOrderController: return Integer orderId
        AddOrderController ->> Helper: getCurrentDate(): Date
        Helper - ->> AddOrderController: return Date createDate
        deactivate Helper
        AddOrderController ->> AddOrderController: HttpSession.getAttribute(String arg0): Object
        AddOrderController ->> UserDAO: getOneUserByUsername(String username): User
        activate UserDAO
        UserDAO ->> DB: executeQuery(): ResultSet 
        activate DB
        DB - ->> UserDAO: return ResultSet rs
        deactivate DB
        UserDAO - ->> AddOrderController: return User user
        deactivate UserDAO
        AddOrderController ->> OrderDAO: addOrder(Order order): boolean
        activate OrderDAO
        OrderDAO ->> DB: executeUpdate(): PrepareStatement 
        activate DB
        DB - ->> OrderDAO: return int preStm.executeUpdate()
        deactivate DB
        OrderDAO - ->> AddOrderController: return boolean isSuccess
        deactivate OrderDAO
        alt isSuccess = false
            AddOrderController - ->> Browser: forward viewBookingCart.jsp
        else isSuccess = true
            AddOrderController ->> RoomDAO: getRoomById(int roomId): Room
            activate RoomDAO
            RoomDAO ->> DB: executeQuery(): ResultSet 
            activate DB
            DB - ->> RoomDAO: return ResultSet rs
            deactivate DB
            RoomDAO - ->> AddOrderController: return Room room
            deactivate RoomDAO
            alt invalid room
                AddOrderController - ->> Browser: forward viewBookingCart.jsp
            else valid room
                AddOrderController ->> BookingInfoDAO: getActiveBookingWithRoomId(Integer roomId): ArrayList<BookingInfo>
                activate BookingInfoDAO
                BookingInfoDAO ->> DB: executeQuery(): ResultSet 
                activate DB
                DB - ->> BookingInfoDAO: return ResultSet rs
                deactivate DB
                BookingInfoDAO - ->> AddOrderController: return ArrayList<BookingInfo> bookings
                deactivate BookingInfoDAO
                alt invalid bookings
                    AddOrderController - ->> Browser: forward viewBookingCart.jsp
                else valid bookings
                    AddOrderController ->> BookingInfoDAO: addBookingInfo(BookingInfo bookingInfo): boolean
                    activate BookingInfoDAO
                    BookingInfoDAO ->> DB: executeUpdate(): PrepareStatement
                    activate DB
                    DB - ->> BookingInfoDAO: return int preStm.executeUpdate()
                    deactivate DB
                    BookingInfoDAO - ->> AddOrderController: return boolean isSuccess
                    deactivate BookingInfoDAO
                    alt isSuccess = false
                        AddOrderController - ->> Browser: forward viewBookingCart.jsp
                    else isSuccess = true
                        AddOrderController ->> AddOrderController: HttpSession.setAttribute(String arg0, Object arg1): void
                        AddOrderController ->> OrderDAO: updateOrder(Order order): boolean
                        activate OrderDAO
                        OrderDAO ->> DB: executeUpdate(): PrepareStatement 
                        activate DB
                        DB - ->> OrderDAO: return int preStm.executeUpdate()
                        deactivate DB
                        OrderDAO - ->> AddOrderController: return boolean isSuccess
                        deactivate OrderDAO
                        alt isSuccess = false
                            AddOrderController - ->> Browser: forward viewBookingCart.jsp
                        else isSuccess = true
                            AddOrderController ->> AddOrderController: HttpSession.removeAttribute(String arg0): void
                            AddOrderController - ->> Browser: Redirect /ViewBookingController
                            deactivate AddOrderController
                            deactivate Browser
                        end
                    end
                end
            end
        end
    end
end
@enduml

PlantUML version 1.2021.00(Sun Jan 10 17:25:05 ICT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>