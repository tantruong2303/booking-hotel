<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2285px" preserveAspectRatio="none" style="width:2398px;height:2285px;" version="1.1" viewBox="0 0 2398 2285" width="2398px" zoomAndPan="magnify"><defs><filter height="300%" id="ftb0iy8wwk3ye" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="2268.2188" style="stroke:#000000;stroke-width:1.0;" width="2381" x="5" y="5"/><path d="M102,5 L102,15.6094 L92,25.6094 L5,25.6094 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="17" x="8" y="20.5332">sd</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="29" y="20.5332">Add Order</text><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="2048.6484" style="stroke:#A80036;stroke-width:1.0;" width="10" x="196.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="2018.2969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="416.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="1664.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="776.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1166.5" y="253.625"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1166.5" y="678.5156"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1719" y="843.2734"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1814" y="1187.9766"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1913" y="964.6797"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1913" y="1901.2188"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2030.5" y="1411.2734"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2030.5" y="1634.5703"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2267.5" y="873.625"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2267.5" y="995.0313"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2267.5" y="1218.3281"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2267.5" y="1441.625"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2267.5" y="1664.9219"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2267.5" y="1931.5703"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="1892.8906" style="stroke:#000000;stroke-width:2.0;" width="2275" x="97" y="355.3281"/><rect fill="#FFFFFF" height="1813.8359" style="stroke:none;stroke-width:1.0;" width="2275" x="97" y="434.3828"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="1679.9453" style="stroke:#000000;stroke-width:2.0;" width="2255" x="107" y="561.2734"/><rect fill="#FFFFFF" height="1600.8906" style="stroke:none;stroke-width:1.0;" width="2255" x="107" y="640.3281"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="1163.4844" style="stroke:#000000;stroke-width:2.0;" width="2235" x="117" y="1070.7344"/><rect fill="#FFFFFF" height="1084.4297" style="stroke:none;stroke-width:1.0;" width="2235" x="117" y="1149.7891"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="933.1875" style="stroke:#000000;stroke-width:2.0;" width="2215" x="127" y="1294.0313"/><rect fill="#FFFFFF" height="854.1328" style="stroke:none;stroke-width:1.0;" width="2215" x="127" y="1373.0859"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="702.8906" style="stroke:#000000;stroke-width:2.0;" width="2195" x="137" y="1517.3281"/><rect fill="#FFFFFF" height="623.8359" style="stroke:none;stroke-width:1.0;" width="2195" x="137" y="1596.3828"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="472.5938" style="stroke:#000000;stroke-width:2.0;" width="2175" x="147" y="1740.625"/><rect fill="#FFFFFF" height="393.5391" style="stroke:none;stroke-width:1.0;" width="2175" x="147" y="1819.6797"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="198.9453" style="stroke:#000000;stroke-width:2.0;" width="914.5" x="157" y="2007.2734"/><rect fill="#FFFFFF" height="119.8906" style="stroke:none;stroke-width:1.0;" width="914.5" x="157" y="2086.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="117.2188" y2="2265.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="201" x2="201" y1="117.2188" y2="2265.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="421.5" x2="421.5" y1="117.2188" y2="2265.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="781.5" x2="781.5" y1="117.2188" y2="2265.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1171" x2="1171" y1="117.2188" y2="2265.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1630.5" x2="1630.5" y1="117.2188" y2="2265.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1723.5" x2="1723.5" y1="117.2188" y2="2265.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1818.5" x2="1818.5" y1="117.2188" y2="2265.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1917.5" x2="1917.5" y1="117.2188" y2="2265.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2035.5" x2="2035.5" y1="117.2188" y2="2265.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2272" x2="2272" y1="117.2188" y2="2265.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="10" y="114.1426">User</text><ellipse cx="27.5" cy="42.6094" fill="#FEFECE" filter="url(#ftb0iy8wwk3ye)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M27.5,50.6094 L27.5,77.6094 M14.5,58.6094 L40.5,58.6094 M27.5,77.6094 L14.5,92.6094 M27.5,77.6094 L40.5,92.6094 " fill="none" filter="url(#ftb0iy8wwk3ye)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#ftb0iy8wwk3ye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="65" x="167" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="174" y="102.1426">Browser</text><rect fill="#FEFECE" filter="url(#ftb0iy8wwk3ye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="140" x="349.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="356.5" y="102.1426">:CustomerRoleFilter</text><rect fill="#FEFECE" filter="url(#ftb0iy8wwk3ye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="142" x="708.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="715.5" y="102.1426">:AddOrderController</text><rect fill="#FEFECE" filter="url(#ftb0iy8wwk3ye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="55" x="1142" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="1149" y="102.1426">Helper</text><rect fill="#FEFECE" filter="url(#ftb0iy8wwk3ye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="82" x="1587.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1594.5" y="102.1426">:GetParam</text><rect fill="#FEFECE" filter="url(#ftb0iy8wwk3ye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="77" x="1683.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1690.5" y="102.1426">:UserDAO</text><rect fill="#FEFECE" filter="url(#ftb0iy8wwk3ye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="85" x="1774.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="1781.5" y="102.1426">:RoomDAO</text><rect fill="#FEFECE" filter="url(#ftb0iy8wwk3ye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="85" x="1873.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="1880.5" y="102.1426">:OrderDAO</text><rect fill="#FEFECE" filter="url(#ftb0iy8wwk3ye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="122" x="1972.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1979.5" y="102.1426">:BookingInfoDAO</text><rect fill="#FEFECE" filter="url(#ftb0iy8wwk3ye)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="75" x="2233" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="2240" y="102.1426">Database</text><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="2048.6484" style="stroke:#A80036;stroke-width:1.0;" width="10" x="196.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="2018.2969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="416.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="1664.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="776.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1166.5" y="253.625"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1166.5" y="678.5156"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1719" y="843.2734"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1814" y="1187.9766"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1913" y="964.6797"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1913" y="1901.2188"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2030.5" y="1411.2734"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2030.5" y="1634.5703"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2267.5" y="873.625"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2267.5" y="995.0313"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2267.5" y="1218.3281"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2267.5" y="1441.625"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2267.5" y="1664.9219"/><rect fill="#FFFFFF" filter="url(#ftb0iy8wwk3ye)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2267.5" y="1931.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="194.5" x2="184.5" y1="149.5703" y2="145.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="194.5" x2="184.5" y1="149.5703" y2="153.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="195.5" y1="149.5703" y2="149.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="34.5" y="144.7139">Click on Add Order button</text><line style="stroke:#A80036;stroke-width:1.0;" x1="414.5" x2="404.5" y1="179.9219" y2="175.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="414.5" x2="404.5" y1="179.9219" y2="183.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="415.5" y1="179.9219" y2="179.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="213.5" y="175.0654">GET /AddOrderController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="468.5" y1="210.2734" y2="210.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="468.5" x2="468.5" y1="210.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="427.5" x2="468.5" y1="223.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="427.5" x2="437.5" y1="223.2734" y2="219.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="427.5" x2="437.5" y1="223.2734" y2="227.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="433.5" y="205.417">Context.lookup(String name): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1164.5" x2="1154.5" y1="253.625" y2="249.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1164.5" x2="1154.5" y1="253.625" y2="257.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="1165.5" y1="253.625" y2="253.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="721" x="433.5" y="248.7686">protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1176.5" x2="1218.5" y1="283.9766" y2="283.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1218.5" x2="1218.5" y1="283.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1177.5" x2="1218.5" y1="296.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1177.5" x2="1187.5" y1="296.9766" y2="292.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1177.5" x2="1187.5" y1="296.9766" y2="300.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1183.5" y="279.1201">isLogin(HttpServletRequest request): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1176.5" x2="1218.5" y1="327.3281" y2="327.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1218.5" x2="1218.5" y1="327.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1177.5" x2="1218.5" y1="340.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1177.5" x2="1187.5" y1="340.3281" y2="336.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1177.5" x2="1187.5" y1="340.3281" y2="344.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435" x="1183.5" y="322.4717">correctRole(HttpServletRequest request, int minRole, int maxRole): boolean</text><path d="M97,355.3281 L158,355.3281 L158,363.3281 L148,373.3281 L97,373.3281 L97,355.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1892.8906" style="stroke:#000000;stroke-width:2.0;" width="2275" x="97" y="355.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="112" y="369.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73" x="173" y="368.7471">[return false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="396.0313" y2="392.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="396.0313" y2="400.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="1165.5" y1="396.0313" y2="396.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="443.5" y="391.1748">forward login.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="426.3828" y2="422.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="426.3828" y2="430.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206.5" x2="415.5" y1="426.3828" y2="426.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="223.5" y="421.5264">forward login.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="97" x2="2372" y1="435.3828" y2="435.3828"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="102" y="446.8018">[return true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="472.5703" y2="468.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="472.5703" y2="476.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="1170.5" y1="472.5703" y2="472.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="443.5" y="467.7139">return true</text><line style="stroke:#A80036;stroke-width:1.0;" x1="774.5" x2="764.5" y1="502.9219" y2="498.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="774.5" x2="764.5" y1="502.9219" y2="506.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="775.5" y1="502.9219" y2="502.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="433.5" y="498.0654">doFilter(ServletRequest arg0, ServletResponse arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="828.5" y1="533.2734" y2="533.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="828.5" x2="828.5" y1="533.2734" y2="546.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="787.5" x2="828.5" y1="546.2734" y2="546.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="787.5" x2="797.5" y1="546.2734" y2="542.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="787.5" x2="797.5" y1="546.2734" y2="550.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="793.5" y="528.417">HttpSession.getAttribute(String arg0): Object</text><path d="M107,561.2734 L168,561.2734 L168,569.2734 L158,579.2734 L107,579.2734 L107,561.2734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1679.9453" style="stroke:#000000;stroke-width:2.0;" width="2255" x="107" y="561.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="122" y="575.7686">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="241" x="183" y="574.6924">[HttpSession return invalid bookingInfoList]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="601.9766" y2="597.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="601.9766" y2="605.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="775.5" y1="601.9766" y2="601.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="443.5" y="597.1201">forward viewBookingCart.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="632.3281" y2="628.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="632.3281" y2="636.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206.5" x2="415.5" y1="632.3281" y2="632.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="223.5" y="627.4717">forward viewBookingCart.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="107" x2="2362" y1="641.3281" y2="641.3281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="123" x="112" y="652.7471">[valid bookingInfoList]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1164.5" x2="1154.5" y1="678.5156" y2="674.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1164.5" x2="1154.5" y1="678.5156" y2="682.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="1165.5" y1="678.5156" y2="678.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="793.5" y="673.6592">generateOrderId(): Integer</text><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="708.8672" y2="704.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="708.8672" y2="712.8672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="786.5" x2="1165.5" y1="708.8672" y2="708.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="803.5" y="704.0107">return Integer orderId</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1164.5" x2="1154.5" y1="739.2188" y2="735.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1164.5" x2="1154.5" y1="739.2188" y2="743.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="1165.5" y1="739.2188" y2="739.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="793.5" y="734.3623">getCurrentDate(): Date</text><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="769.5703" y2="765.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="769.5703" y2="773.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="786.5" x2="1170.5" y1="769.5703" y2="769.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="803.5" y="764.7139">return Date createDate</text><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="828.5" y1="799.9219" y2="799.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="828.5" x2="828.5" y1="799.9219" y2="812.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="787.5" x2="828.5" y1="812.9219" y2="812.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="787.5" x2="797.5" y1="812.9219" y2="808.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="787.5" x2="797.5" y1="812.9219" y2="816.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="793.5" y="795.0654">HttpSession.getAttribute(String arg0): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1717" x2="1707" y1="843.2734" y2="839.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1717" x2="1707" y1="843.2734" y2="847.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="1718" y1="843.2734" y2="843.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="793.5" y="838.417">getOneUserByUsername(String username): User</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2265.5" x2="2255.5" y1="873.625" y2="869.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2265.5" x2="2255.5" y1="873.625" y2="877.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1729" x2="2266.5" y1="873.625" y2="873.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1736" y="868.7686">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1729" x2="1739" y1="903.9766" y2="899.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1729" x2="1739" y1="903.9766" y2="907.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1729" x2="2271.5" y1="903.9766" y2="903.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1746" y="899.1201">return ResultSet rs</text><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="934.3281" y2="930.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="934.3281" y2="938.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="786.5" x2="1723" y1="934.3281" y2="934.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="803.5" y="929.4717">return User user</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1911" x2="1901" y1="964.6797" y2="960.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1911" x2="1901" y1="964.6797" y2="968.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="1912" y1="964.6797" y2="964.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="793.5" y="959.8232">addOrder(Order order): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2265.5" x2="2255.5" y1="995.0313" y2="991.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2265.5" x2="2255.5" y1="995.0313" y2="999.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1923" x2="2266.5" y1="995.0313" y2="995.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="1930" y="990.1748">executeUpdate(): PrepareStatement</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1923" x2="1933" y1="1025.3828" y2="1021.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1923" x2="1933" y1="1025.3828" y2="1029.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1923" x2="2271.5" y1="1025.3828" y2="1025.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="1940" y="1020.5264">return int preStm.executeUpdate()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="1055.7344" y2="1051.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="1055.7344" y2="1059.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="786.5" x2="1917" y1="1055.7344" y2="1055.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="803.5" y="1050.8779">return boolean isSuccess</text><path d="M117,1070.7344 L178,1070.7344 L178,1078.7344 L168,1088.7344 L117,1088.7344 L117,1070.7344 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1163.4844" style="stroke:#000000;stroke-width:2.0;" width="2235" x="117" y="1070.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="132" y="1085.2295">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104" x="193" y="1084.1533">[isSuccess = false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1111.4375" y2="1107.4375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1111.4375" y2="1115.4375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="775.5" y1="1111.4375" y2="1111.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="443.5" y="1106.5811">forward viewBookingCart.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1141.7891" y2="1137.7891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1141.7891" y2="1145.7891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206.5" x2="415.5" y1="1141.7891" y2="1141.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="223.5" y="1136.9326">forward viewBookingCart.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="117" x2="2352" y1="1150.7891" y2="1150.7891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="100" x="122" y="1162.208">[isSuccess = true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1812" x2="1802" y1="1187.9766" y2="1183.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1812" x2="1802" y1="1187.9766" y2="1191.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="1813" y1="1187.9766" y2="1187.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="793.5" y="1183.1201">getRoomById(int roomId): Room</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2265.5" x2="2255.5" y1="1218.3281" y2="1214.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2265.5" x2="2255.5" y1="1218.3281" y2="1222.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1824" x2="2266.5" y1="1218.3281" y2="1218.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1831" y="1213.4717">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1824" x2="1834" y1="1248.6797" y2="1244.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1824" x2="1834" y1="1248.6797" y2="1252.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1824" x2="2271.5" y1="1248.6797" y2="1248.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1841" y="1243.8232">return ResultSet rs</text><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="1279.0313" y2="1275.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="1279.0313" y2="1283.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="786.5" x2="1818" y1="1279.0313" y2="1279.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="803.5" y="1274.1748">return Room room</text><path d="M127,1294.0313 L188,1294.0313 L188,1302.0313 L178,1312.0313 L127,1312.0313 L127,1294.0313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="933.1875" style="stroke:#000000;stroke-width:2.0;" width="2215" x="127" y="1294.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="142" y="1308.5264">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="76" x="203" y="1307.4502">[invalid room]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1334.7344" y2="1330.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1334.7344" y2="1338.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="775.5" y1="1334.7344" y2="1334.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="443.5" y="1329.8779">forward viewBookingCart.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1365.0859" y2="1361.0859"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1365.0859" y2="1369.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206.5" x2="415.5" y1="1365.0859" y2="1365.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="223.5" y="1360.2295">forward viewBookingCart.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="127" x2="2342" y1="1374.0859" y2="1374.0859"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="66" x="132" y="1385.5049">[valid room]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2028.5" x2="2018.5" y1="1411.2734" y2="1407.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2028.5" x2="2018.5" y1="1411.2734" y2="1415.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="2029.5" y1="1411.2734" y2="1411.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="404" x="793.5" y="1406.417">getActiveBookingWithRoomId(Integer roomId): ArrayList&lt;BookingInfo&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2265.5" x2="2255.5" y1="1441.625" y2="1437.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2265.5" x2="2255.5" y1="1441.625" y2="1445.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2040.5" x2="2266.5" y1="1441.625" y2="1441.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="2047.5" y="1436.7686">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2040.5" x2="2050.5" y1="1471.9766" y2="1467.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2040.5" x2="2050.5" y1="1471.9766" y2="1475.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2040.5" x2="2271.5" y1="1471.9766" y2="1471.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="2057.5" y="1467.1201">return ResultSet rs</text><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="1502.3281" y2="1498.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="1502.3281" y2="1506.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="786.5" x2="2034.5" y1="1502.3281" y2="1502.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="803.5" y="1497.4717">return ArrayList&lt;BookingInfo&gt; bookings</text><path d="M137,1517.3281 L198,1517.3281 L198,1525.3281 L188,1535.3281 L137,1535.3281 L137,1517.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="702.8906" style="stroke:#000000;stroke-width:2.0;" width="2195" x="137" y="1517.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="152" y="1531.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="98" x="213" y="1530.7471">[invalid bookings]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1558.0313" y2="1554.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1558.0313" y2="1562.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="775.5" y1="1558.0313" y2="1558.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="443.5" y="1553.1748">forward viewBookingCart.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1588.3828" y2="1584.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1588.3828" y2="1592.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206.5" x2="415.5" y1="1588.3828" y2="1588.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="223.5" y="1583.5264">forward viewBookingCart.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="137" x2="2332" y1="1597.3828" y2="1597.3828"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="88" x="142" y="1608.8018">[valid bookings]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2028.5" x2="2018.5" y1="1634.5703" y2="1630.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2028.5" x2="2018.5" y1="1634.5703" y2="1638.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="2029.5" y1="1634.5703" y2="1634.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285" x="793.5" y="1629.7139">addBookingInfo(BookingInfo bookingInfo): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2265.5" x2="2255.5" y1="1664.9219" y2="1660.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2265.5" x2="2255.5" y1="1664.9219" y2="1668.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2040.5" x2="2266.5" y1="1664.9219" y2="1664.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="2047.5" y="1660.0654">executeUpdate(): PrepareStatement</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2040.5" x2="2050.5" y1="1695.2734" y2="1691.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2040.5" x2="2050.5" y1="1695.2734" y2="1699.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2040.5" x2="2271.5" y1="1695.2734" y2="1695.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="2057.5" y="1690.417">return int preStm.executeUpdate()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="1725.625" y2="1721.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="1725.625" y2="1729.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="786.5" x2="2034.5" y1="1725.625" y2="1725.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="803.5" y="1720.7686">return boolean isSuccess</text><path d="M147,1740.625 L208,1740.625 L208,1748.625 L198,1758.625 L147,1758.625 L147,1740.625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="472.5938" style="stroke:#000000;stroke-width:2.0;" width="2175" x="147" y="1740.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="162" y="1755.1201">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104" x="223" y="1754.0439">[isSuccess = false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1781.3281" y2="1777.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="1781.3281" y2="1785.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="775.5" y1="1781.3281" y2="1781.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="443.5" y="1776.4717">forward viewBookingCart.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1811.6797" y2="1807.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="1811.6797" y2="1815.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206.5" x2="415.5" y1="1811.6797" y2="1811.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="223.5" y="1806.8232">forward viewBookingCart.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="147" x2="2322" y1="1820.6797" y2="1820.6797"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="100" x="152" y="1832.0986">[isSuccess = true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="828.5" y1="1857.8672" y2="1857.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="828.5" x2="828.5" y1="1857.8672" y2="1870.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="787.5" x2="828.5" y1="1870.8672" y2="1870.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="787.5" x2="797.5" y1="1870.8672" y2="1866.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="787.5" x2="797.5" y1="1870.8672" y2="1874.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318" x="793.5" y="1853.0107">HttpSession.setAttribute(String arg0, Object arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1911" x2="1901" y1="1901.2188" y2="1897.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1911" x2="1901" y1="1901.2188" y2="1905.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="1912" y1="1901.2188" y2="1901.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="793.5" y="1896.3623">updateOrder(Order order): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2265.5" x2="2255.5" y1="1931.5703" y2="1927.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2265.5" x2="2255.5" y1="1931.5703" y2="1935.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1923" x2="2266.5" y1="1931.5703" y2="1931.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="1930" y="1926.7139">executeUpdate(): PrepareStatement</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1923" x2="1933" y1="1961.9219" y2="1957.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1923" x2="1933" y1="1961.9219" y2="1965.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1923" x2="2271.5" y1="1961.9219" y2="1961.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="1940" y="1957.0654">return int preStm.executeUpdate()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="1992.2734" y2="1988.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="796.5" y1="1992.2734" y2="1996.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="786.5" x2="1917" y1="1992.2734" y2="1992.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="803.5" y="1987.417">return boolean isSuccess</text><path d="M157,2007.2734 L218,2007.2734 L218,2015.2734 L208,2025.2734 L157,2025.2734 L157,2007.2734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="198.9453" style="stroke:#000000;stroke-width:2.0;" width="914.5" x="157" y="2007.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="172" y="2021.7686">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104" x="233" y="2020.6924">[isSuccess = false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="2047.9766" y2="2043.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="2047.9766" y2="2051.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="775.5" y1="2047.9766" y2="2047.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="443.5" y="2043.1201">forward viewBookingCart.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="2078.3281" y2="2074.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206.5" x2="216.5" y1="2078.3281" y2="2082.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206.5" x2="415.5" y1="2078.3281" y2="2078.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="223.5" y="2073.4717">forward viewBookingCart.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="157" x2="1071.5" y1="2087.3281" y2="2087.3281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="100" x="162" y="2098.7471">[isSuccess = true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="786.5" x2="828.5" y1="2124.5156" y2="2124.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="828.5" x2="828.5" y1="2124.5156" y2="2137.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="787.5" x2="828.5" y1="2137.5156" y2="2137.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="787.5" x2="797.5" y1="2137.5156" y2="2133.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="787.5" x2="797.5" y1="2137.5156" y2="2141.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="793.5" y="2119.6592">HttpSession.removeAttribute(String arg0): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="2167.8672" y2="2163.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="426.5" x2="436.5" y1="2167.8672" y2="2171.8672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="426.5" x2="780.5" y1="2167.8672" y2="2167.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="443.5" y="2163.0107">Redirect /ViewBookingController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="201.5" x2="211.5" y1="2198.2188" y2="2194.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="201.5" x2="211.5" y1="2198.2188" y2="2202.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="201.5" x2="420.5" y1="2198.2188" y2="2198.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="218.5" y="2193.3623">Redirect /ViewBookingController</text><!--MD5=[fb6830dfc74286551e4ee84f8daec4f2]
@startuml addOrder

hide footbox
mainframe <b>sd</b> Add Order
actor User
participant "Browser" as Browser
participant ":CustomerRoleFilter" as CustomerRoleFilter
participant ":AddOrderController" as AddOrderController
participant "Helper" as Helper
participant ":GetParam" as GetParam
participant ":UserDAO" as UserDAO
participant ":RoomDAO" as RoomDAO
participant ":OrderDAO" as OrderDAO
participant ":BookingInfoDAO" as BookingInfoDAO
participant "Database" as DB


User ->> Browser: Click on Add Order button
activate Browser

Browser ->> CustomerRoleFilter: GET /AddOrderController
activate CustomerRoleFilter
CustomerRoleFilter ->> CustomerRoleFilter: Context.lookup(String name): Object
CustomerRoleFilter ->> Helper: protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean
activate Helper
Helper ->> Helper: isLogin(HttpServletRequest request): boolean
Helper ->> Helper: correctRole(HttpServletRequest request, int minRole, int maxRole): boolean
alt return false 
    Helper - ->> CustomerRoleFilter: forward login.jsp
    CustomerRoleFilter - ->> Browser: forward login.jsp
else return true
    Helper - ->> CustomerRoleFilter: return true
    deactivate Helper
    CustomerRoleFilter ->> AddOrderController: doFilter(ServletRequest arg0, ServletResponse arg1): void
    activate AddOrderController
    AddOrderController ->> AddOrderController: HttpSession.getAttribute(String arg0): Object
    alt HttpSession return invalid bookingInfoList
        AddOrderController - ->> CustomerRoleFilter: forward viewBookingCart.jsp
        CustomerRoleFilter - ->> Browser: forward viewBookingCart.jsp
    else valid bookingInfoList
        AddOrderController ->> Helper: generateOrderId(): Integer
        activate Helper
        Helper - ->> AddOrderController: return Integer orderId
        AddOrderController ->> Helper: getCurrentDate(): Date
        Helper - ->> AddOrderController: return Date createDate
        deactivate Helper
        AddOrderController ->> AddOrderController: HttpSession.getAttribute(String arg0): Object
        AddOrderController ->> UserDAO: getOneUserByUsername(String username): User
        activate UserDAO
        UserDAO ->> DB: executeQuery(): ResultSet 
        activate DB
        DB - ->> UserDAO: return ResultSet rs
        deactivate DB
        UserDAO - ->> AddOrderController: return User user
        deactivate UserDAO
        AddOrderController ->> OrderDAO: addOrder(Order order): boolean
        activate OrderDAO
        OrderDAO ->> DB: executeUpdate(): PrepareStatement 
        activate DB
        DB - ->> OrderDAO: return int preStm.executeUpdate()
        deactivate DB
        OrderDAO - ->> AddOrderController: return boolean isSuccess
        deactivate OrderDAO
        alt isSuccess = false
            AddOrderController - ->> CustomerRoleFilter: forward viewBookingCart.jsp
        CustomerRoleFilter - ->> Browser: forward viewBookingCart.jsp
        else isSuccess = true
            AddOrderController ->> RoomDAO: getRoomById(int roomId): Room
            activate RoomDAO
            RoomDAO ->> DB: executeQuery(): ResultSet 
            activate DB
            DB - ->> RoomDAO: return ResultSet rs
            deactivate DB
            RoomDAO - ->> AddOrderController: return Room room
            deactivate RoomDAO
            alt invalid room
                AddOrderController - ->> CustomerRoleFilter: forward viewBookingCart.jsp
                CustomerRoleFilter - ->> Browser: forward viewBookingCart.jsp
            else valid room
                AddOrderController ->> BookingInfoDAO: getActiveBookingWithRoomId(Integer roomId): ArrayList<BookingInfo>
                activate BookingInfoDAO
                BookingInfoDAO ->> DB: executeQuery(): ResultSet 
                activate DB
                DB - ->> BookingInfoDAO: return ResultSet rs
                deactivate DB
                BookingInfoDAO - ->> AddOrderController: return ArrayList<BookingInfo> bookings
                deactivate BookingInfoDAO
                alt invalid bookings
                    AddOrderController - ->> CustomerRoleFilter: forward viewBookingCart.jsp
                    CustomerRoleFilter - ->> Browser: forward viewBookingCart.jsp
                else valid bookings
                    AddOrderController ->> BookingInfoDAO: addBookingInfo(BookingInfo bookingInfo): boolean
                    activate BookingInfoDAO
                    BookingInfoDAO ->> DB: executeUpdate(): PrepareStatement
                    activate DB
                    DB - ->> BookingInfoDAO: return int preStm.executeUpdate()
                    deactivate DB
                    BookingInfoDAO - ->> AddOrderController: return boolean isSuccess
                    deactivate BookingInfoDAO
                    alt isSuccess = false
                        AddOrderController - ->> CustomerRoleFilter: forward viewBookingCart.jsp
                        CustomerRoleFilter - ->> Browser: forward viewBookingCart.jsp
                    else isSuccess = true
                        AddOrderController ->> AddOrderController: HttpSession.setAttribute(String arg0, Object arg1): void
                        AddOrderController ->> OrderDAO: updateOrder(Order order): boolean
                        activate OrderDAO
                        OrderDAO ->> DB: executeUpdate(): PrepareStatement 
                        activate DB
                        DB - ->> OrderDAO: return int preStm.executeUpdate()
                        deactivate DB
                        OrderDAO - ->> AddOrderController: return boolean isSuccess
                        deactivate OrderDAO
                        alt isSuccess = false
                            AddOrderController - ->> CustomerRoleFilter: forward viewBookingCart.jsp
                            CustomerRoleFilter - ->> Browser: forward viewBookingCart.jsp
                        else isSuccess = true
                            AddOrderController ->> AddOrderController: HttpSession.removeAttribute(String arg0): void
                            AddOrderController - ->> CustomerRoleFilter: Redirect /ViewBookingController
                            deactivate AddOrderController
                            CustomerRoleFilter - ->> Browser: Redirect /ViewBookingController
                            deactivate CustomerRoleFilter
                            deactivate Browser
                        end
                    end
                end
            end
        end
    end
end
@enduml

PlantUML version 1.2021.00(Sun Jan 10 17:25:05 ICT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>