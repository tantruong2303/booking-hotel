<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="608px" preserveAspectRatio="none" style="width:1666px;height:608px;" version="1.1" viewBox="0 0 1666 608" width="1666px" zoomAndPan="magnify"><defs><filter height="300%" id="fh4wh34o3gpfr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fh4wh34o3gpfr)" height="591.625" style="stroke:#000000;stroke-width:1.0;" width="1649.5" x="5" y="5"/><path d="M151,5 L151,15.6094 L141,25.6094 L5,25.6094 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="17" x="8" y="20.5332">sd</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="29" y="20.5332">View Booking Cart</text><rect fill="#FFFFFF" filter="url(#fh4wh34o3gpfr)" height="414.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="228.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#fh4wh34o3gpfr)" height="383.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="445.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#fh4wh34o3gpfr)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="805.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#fh4wh34o3gpfr)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1195.5" y="253.625"/><rect fill="#FFFFFF" filter="url(#fh4wh34o3gpfr)" height="216.2969" style="stroke:#000000;stroke-width:2.0;" width="1051" x="189" y="355.3281"/><rect fill="#FFFFFF" height="137.2422" style="stroke:none;stroke-width:1.0;" width="1051" x="189" y="434.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="117.2188" y2="588.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="233" x2="233" y1="117.2188" y2="588.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="450.5" x2="450.5" y1="117.2188" y2="588.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="810" x2="810" y1="117.2188" y2="588.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1200" x2="1200" y1="117.2188" y2="588.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="10" y="114.1426">User</text><ellipse cx="27.5" cy="42.6094" fill="#FEFECE" filter="url(#fh4wh34o3gpfr)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M27.5,50.6094 L27.5,77.6094 M14.5,58.6094 L40.5,58.6094 M27.5,77.6094 L14.5,92.6094 M27.5,77.6094 L40.5,92.6094 " fill="none" filter="url(#fh4wh34o3gpfr)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fh4wh34o3gpfr)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="65" x="199" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="206" y="102.1426">Browser</text><rect fill="#FEFECE" filter="url(#fh4wh34o3gpfr)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="140" x="378.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="385.5" y="102.1426">:CustomerRoleFilter</text><rect fill="#FEFECE" filter="url(#fh4wh34o3gpfr)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="187" x="715" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="722" y="102.1426">:ViewBookingCartController</text><rect fill="#FEFECE" filter="url(#fh4wh34o3gpfr)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="55" x="1171" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="1178" y="102.1426">Helper</text><rect fill="#FFFFFF" filter="url(#fh4wh34o3gpfr)" height="414.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="228.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#fh4wh34o3gpfr)" height="383.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="445.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#fh4wh34o3gpfr)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="805.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#fh4wh34o3gpfr)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1195.5" y="253.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="226.5" x2="216.5" y1="149.5703" y2="145.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="226.5" x2="216.5" y1="149.5703" y2="153.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="227.5" y1="149.5703" y2="149.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="34.5" y="144.7139">Click on View Booking Cart link</text><line style="stroke:#A80036;stroke-width:1.0;" x1="443.5" x2="433.5" y1="179.9219" y2="175.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="443.5" x2="433.5" y1="179.9219" y2="183.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="238.5" x2="444.5" y1="179.9219" y2="179.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="245.5" y="175.0654">GET /ViewBookingCartController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="497.5" y1="210.2734" y2="210.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="497.5" x2="497.5" y1="210.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="456.5" x2="497.5" y1="223.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="456.5" x2="466.5" y1="223.2734" y2="219.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="456.5" x2="466.5" y1="223.2734" y2="227.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="462.5" y="205.417">Context.lookup(String name): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1193.5" x2="1183.5" y1="253.625" y2="249.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1193.5" x2="1183.5" y1="253.625" y2="257.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="1194.5" y1="253.625" y2="253.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="721" x="462.5" y="248.7686">protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1205.5" x2="1247.5" y1="283.9766" y2="283.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1247.5" x2="1247.5" y1="283.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1206.5" x2="1247.5" y1="296.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1206.5" x2="1216.5" y1="296.9766" y2="292.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1206.5" x2="1216.5" y1="296.9766" y2="300.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1212.5" y="279.1201">isLogin(HttpServletRequest request): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1205.5" x2="1247.5" y1="327.3281" y2="327.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1247.5" x2="1247.5" y1="327.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1206.5" x2="1247.5" y1="340.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1206.5" x2="1216.5" y1="340.3281" y2="336.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1206.5" x2="1216.5" y1="340.3281" y2="344.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435" x="1212.5" y="322.4717">correctRole(HttpServletRequest request, int minRole, int maxRole): boolean</text><path d="M189,355.3281 L250,355.3281 L250,363.3281 L240,373.3281 L189,373.3281 L189,355.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="216.2969" style="stroke:#000000;stroke-width:2.0;" width="1051" x="189" y="355.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="204" y="369.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73" x="265" y="368.7471">[return false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="396.0313" y2="392.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="396.0313" y2="400.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455.5" x2="1194.5" y1="396.0313" y2="396.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="472.5" y="391.1748">forward login.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="238.5" x2="248.5" y1="426.3828" y2="422.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="238.5" x2="248.5" y1="426.3828" y2="430.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="238.5" x2="444.5" y1="426.3828" y2="426.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="255.5" y="421.5264">forward login.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="189" x2="1240" y1="435.3828" y2="435.3828"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="194" y="446.8018">[return true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="472.5703" y2="468.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="472.5703" y2="476.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455.5" x2="1199.5" y1="472.5703" y2="472.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="472.5" y="467.7139">return true</text><line style="stroke:#A80036;stroke-width:1.0;" x1="803.5" x2="793.5" y1="502.9219" y2="498.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="803.5" x2="793.5" y1="502.9219" y2="506.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="804.5" y1="502.9219" y2="502.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="462.5" y="498.0654">doFilter(ServletRequest arg0, ServletResponse arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="533.2734" y2="529.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="533.2734" y2="537.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455.5" x2="809.5" y1="533.2734" y2="533.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="472.5" y="528.417">forward viewBookingCart.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="233.5" x2="243.5" y1="563.625" y2="559.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="233.5" x2="243.5" y1="563.625" y2="567.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="233.5" x2="449.5" y1="563.625" y2="563.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="250.5" y="558.7686">forward viewBookingCart.jsp</text><!--MD5=[049e53f1d808e90433ab3b1c1d9a4191]
@startuml viewBookingCart

hide footbox
mainframe <b>sd</b> View Booking Cart
actor User
participant "Browser" as Browser
participant ":CustomerRoleFilter" as CustomerRoleFilter
participant ":ViewBookingCartController" as ViewBookingCartController
participant "Helper" as Helper

User ->> Browser: Click on View Booking Cart link
activate Browser

Browser ->> CustomerRoleFilter: GET /ViewBookingCartController
activate CustomerRoleFilter
CustomerRoleFilter ->> CustomerRoleFilter: Context.lookup(String name): Object
CustomerRoleFilter ->> Helper: protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean
activate Helper
Helper ->> Helper: isLogin(HttpServletRequest request): boolean
Helper ->> Helper: correctRole(HttpServletRequest request, int minRole, int maxRole): boolean
alt return false 
    Helper - ->> CustomerRoleFilter: forward login.jsp
    CustomerRoleFilter - ->> Browser: forward login.jsp
else return true
    Helper - ->> CustomerRoleFilter: return true
    deactivate Helper
    CustomerRoleFilter ->> ViewBookingCartController: doFilter(ServletRequest arg0, ServletResponse arg1): void
    activate ViewBookingCartController
    ViewBookingCartController - ->> CustomerRoleFilter: forward viewBookingCart.jsp
    deactivate ViewBookingCartController
    CustomerRoleFilter - ->> Browser: forward viewBookingCart.jsp
    deactivate CustomerRoleFilter
    deactivate Browser
end
@enduml

PlantUML version 1.2021.00(Sun Jan 10 17:25:05 ICT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>