<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2223px" preserveAspectRatio="none" style="width:2655px;height:2223px;" version="1.1" viewBox="0 0 2655 2223" width="2655px" zoomAndPan="magnify"><defs><filter height="300%" id="fgodsnail7rf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="2206.6797" style="stroke:#000000;stroke-width:1.0;" width="2638.5" x="5" y="5"/><path d="M169,5 L169,15.6094 L159,25.6094 L5,25.6094 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="17" x="8" y="20.5332">sd</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="29" y="20.5332">Update User Account</text><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="2008.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="193.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="795.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="393.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="1100.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="393.5" y="1057.2188"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1143.5" y="253.625"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1143.5" y="1130.9219"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="442.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1602.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="747.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1602.5" y="1380.2188"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="151.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2278.5" y="1410.5703"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2372" y="678.5156"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="300.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2372" y="1694.5703"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2555" y="708.8672"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2555" y="1724.9219"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2555" y="1934.3828"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="642.1875" style="stroke:#000000;stroke-width:2.0;" width="2485.5" x="134" y="355.3281"/><rect fill="#FFFFFF" height="563.1328" style="stroke:none;stroke-width:1.0;" width="2485.5" x="134" y="434.3828"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="429.2422" style="stroke:#000000;stroke-width:2.0;" width="2465.5" x="144" y="561.2734"/><rect fill="#FFFFFF" height="350.1875" style="stroke:none;stroke-width:1.0;" width="2465.5" x="144" y="640.3281"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="198.9453" style="stroke:#000000;stroke-width:2.0;" width="1795.5" x="154" y="784.5703"/><rect fill="#FFFFFF" height="119.8906" style="stroke:none;stroke-width:1.0;" width="1795.5" x="154" y="863.625"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="954.0547" style="stroke:#000000;stroke-width:2.0;" width="2505.5" x="124" y="1232.625"/><rect fill="#FFFFFF" height="875" style="stroke:none;stroke-width:1.0;" width="2505.5" x="124" y="1311.6797"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="602.3516" style="stroke:#000000;stroke-width:2.0;" width="2485.5" x="134" y="1577.3281"/><rect fill="#FFFFFF" height="523.2969" style="stroke:none;stroke-width:1.0;" width="2485.5" x="134" y="1656.3828"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="372.0547" style="stroke:#000000;stroke-width:2.0;" width="2465.5" x="144" y="1800.625"/><rect fill="#FFFFFF" height="293" style="stroke:none;stroke-width:1.0;" width="2465.5" x="144" y="1879.6797"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="155.5938" style="stroke:#000000;stroke-width:2.0;" width="1542.5" x="154" y="2010.0859"/><rect fill="#FFFFFF" height="76.5391" style="stroke:none;stroke-width:1.0;" width="1542.5" x="154" y="2089.1406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="117.2188" y2="2203.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="198" x2="198" y1="117.2188" y2="2203.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="398" x2="398" y1="117.2188" y2="2203.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1148" x2="1148" y1="117.2188" y2="2203.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1607.5" x2="1607.5" y1="117.2188" y2="2203.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2283.5" x2="2283.5" y1="117.2188" y2="2203.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2376.5" x2="2376.5" y1="117.2188" y2="2203.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2559.5" x2="2559.5" y1="117.2188" y2="2203.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="10" y="114.1426">User</text><ellipse cx="27.5" cy="42.6094" fill="#FEFECE" filter="url(#fgodsnail7rf)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M27.5,50.6094 L27.5,77.6094 M14.5,58.6094 L40.5,58.6094 M27.5,77.6094 L14.5,92.6094 M27.5,77.6094 L40.5,92.6094 " fill="none" filter="url(#fgodsnail7rf)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fgodsnail7rf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="65" x="164" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="171" y="102.1426">Browser</text><rect fill="#FEFECE" filter="url(#fgodsnail7rf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="135" x="329" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="336" y="102.1426">:CommonRoleFilter</text><rect fill="#FEFECE" filter="url(#fgodsnail7rf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="59" x="1117" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="1124" y="102.1426">:Helper</text><rect fill="#FEFECE" filter="url(#fgodsnail7rf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="154" x="1528.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="1535.5" y="102.1426">:UpdateUserController</text><rect fill="#FEFECE" filter="url(#fgodsnail7rf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="82" x="2240.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="2247.5" y="102.1426">:GetParam</text><rect fill="#FEFECE" filter="url(#fgodsnail7rf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="77" x="2336.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="2343.5" y="102.1426">:UserDAO</text><rect fill="#FEFECE" filter="url(#fgodsnail7rf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="75" x="2520.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="2527.5" y="102.1426">Database</text><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="2008.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="193.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="795.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="393.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="1100.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="393.5" y="1057.2188"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1143.5" y="253.625"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1143.5" y="1130.9219"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="442.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1602.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="747.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1602.5" y="1380.2188"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="151.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2278.5" y="1410.5703"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2372" y="678.5156"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="300.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2372" y="1694.5703"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2555" y="708.8672"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2555" y="1724.9219"/><rect fill="#FFFFFF" filter="url(#fgodsnail7rf)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2555" y="1934.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="191.5" x2="181.5" y1="149.5703" y2="145.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="191.5" x2="181.5" y1="149.5703" y2="153.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="192.5" y1="149.5703" y2="149.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="34.5" y="144.7139">Click on update user Link</text><line style="stroke:#A80036;stroke-width:1.0;" x1="391.5" x2="381.5" y1="179.9219" y2="175.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="391.5" x2="381.5" y1="179.9219" y2="183.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="392.5" y1="179.9219" y2="179.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="210.5" y="175.0654">GET /UpdateUserController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="445.5" y1="210.2734" y2="210.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="445.5" x2="445.5" y1="210.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404.5" x2="445.5" y1="223.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404.5" x2="414.5" y1="223.2734" y2="219.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404.5" x2="414.5" y1="223.2734" y2="227.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="410.5" y="205.417">Context.lookup(String name): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1141.5" x2="1131.5" y1="253.625" y2="249.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1141.5" x2="1131.5" y1="253.625" y2="257.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="1142.5" y1="253.625" y2="253.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="721" x="410.5" y="248.7686">protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1153.5" x2="1195.5" y1="283.9766" y2="283.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1195.5" x2="1195.5" y1="283.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1154.5" x2="1195.5" y1="296.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1154.5" x2="1164.5" y1="296.9766" y2="292.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1154.5" x2="1164.5" y1="296.9766" y2="300.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1160.5" y="279.1201">isLogin(HttpServletRequest request): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1153.5" x2="1195.5" y1="327.3281" y2="327.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1195.5" x2="1195.5" y1="327.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1154.5" x2="1195.5" y1="340.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1154.5" x2="1164.5" y1="340.3281" y2="336.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1154.5" x2="1164.5" y1="340.3281" y2="344.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435" x="1160.5" y="322.4717">correctRole(HttpServletRequest request, int minRole, int maxRole): boolean</text><path d="M134,355.3281 L195,355.3281 L195,363.3281 L185,373.3281 L134,373.3281 L134,355.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="642.1875" style="stroke:#000000;stroke-width:2.0;" width="2485.5" x="134" y="355.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="149" y="369.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73" x="210" y="368.7471">[return false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="396.0313" y2="392.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="396.0313" y2="400.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="403.5" x2="1142.5" y1="396.0313" y2="396.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="420.5" y="391.1748">forward login.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="426.3828" y2="422.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="426.3828" y2="430.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="203.5" x2="392.5" y1="426.3828" y2="426.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="220.5" y="421.5264">forward login.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="134" x2="2619.5" y1="435.3828" y2="435.3828"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="139" y="446.8018">[return true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="472.5703" y2="468.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="472.5703" y2="476.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="403.5" x2="1147.5" y1="472.5703" y2="472.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="420.5" y="467.7139">return true</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1600.5" x2="1590.5" y1="502.9219" y2="498.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1600.5" x2="1590.5" y1="502.9219" y2="506.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="1601.5" y1="502.9219" y2="502.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="410.5" y="498.0654">doFilter(ServletRequest arg0, ServletResponse arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1654.5" y1="533.2734" y2="533.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1654.5" x2="1654.5" y1="533.2734" y2="546.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1613.5" x2="1654.5" y1="546.2734" y2="546.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1613.5" x2="1623.5" y1="546.2734" y2="542.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1613.5" x2="1623.5" y1="546.2734" y2="550.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="1619.5" y="528.417">HttpSession.getAttribute(String name): Object</text><path d="M144,561.2734 L205,561.2734 L205,569.2734 L195,579.2734 L144,579.2734 L144,561.2734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="429.2422" style="stroke:#000000;stroke-width:2.0;" width="2465.5" x="144" y="561.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="159" y="575.7686">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="88" x="220" y="574.6924">[null username]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="601.9766" y2="597.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="601.9766" y2="605.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="403.5" x2="1601.5" y1="601.9766" y2="601.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="420.5" y="597.1201">forward error.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="632.3281" y2="628.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="632.3281" y2="636.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="203.5" x2="392.5" y1="632.3281" y2="632.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="220.5" y="627.4717">forward error.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="144" x2="2609.5" y1="641.3281" y2="641.3281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="86" x="149" y="652.7471">[get username]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2370" x2="2360" y1="678.5156" y2="674.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2370" x2="2360" y1="678.5156" y2="682.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="2371" y1="678.5156" y2="678.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="1619.5" y="673.6592">getOneUserByUsername(String username): User</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2553" x2="2543" y1="708.8672" y2="704.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2553" x2="2543" y1="708.8672" y2="712.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2382" x2="2554" y1="708.8672" y2="708.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="2389" y="704.0107">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2382" x2="2392" y1="739.2188" y2="735.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2382" x2="2392" y1="739.2188" y2="743.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2382" x2="2559" y1="739.2188" y2="739.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="2399" y="734.3623">return ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1622.5" y1="769.5703" y2="765.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1622.5" y1="769.5703" y2="773.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1612.5" x2="2376" y1="769.5703" y2="769.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="1629.5" y="764.7139">return User</text><path d="M154,784.5703 L215,784.5703 L215,792.5703 L205,802.5703 L154,802.5703 L154,784.5703 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="198.9453" style="stroke:#000000;stroke-width:2.0;" width="1795.5" x="154" y="784.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="169" y="799.0654">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="116" x="230" y="797.9893">[not exist username]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="825.2734" y2="821.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="825.2734" y2="829.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="403.5" x2="1601.5" y1="825.2734" y2="825.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="420.5" y="820.417">forward error.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="855.625" y2="851.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="855.625" y2="859.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="203.5" x2="392.5" y1="855.625" y2="855.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="220.5" y="850.7686">forward error.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="154" x2="1949.5" y1="864.625" y2="864.625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="95" x="159" y="876.0439">[exist username]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1654.5" y1="901.8125" y2="901.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1654.5" x2="1654.5" y1="901.8125" y2="914.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1613.5" x2="1654.5" y1="914.8125" y2="914.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1613.5" x2="1623.5" y1="914.8125" y2="910.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1613.5" x2="1623.5" y1="914.8125" y2="918.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318" x="1619.5" y="896.9561">HttpSession.setAttribute(String arg0, Object arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="945.1641" y2="941.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="945.1641" y2="949.1641"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="403.5" x2="1606.5" y1="945.1641" y2="945.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="420.5" y="940.3076">forward updateUserInfo.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="975.5156" y2="971.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="975.5156" y2="979.5156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="203.5" x2="397.5" y1="975.5156" y2="975.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="220.5" y="970.6592">forward updateUserInfo.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="191.5" x2="181.5" y1="1026.8672" y2="1022.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="191.5" x2="181.5" y1="1026.8672" y2="1030.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="192.5" y1="1026.8672" y2="1026.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="34.5" y="1022.0107">Submit Update Form</text><line style="stroke:#A80036;stroke-width:1.0;" x1="391.5" x2="381.5" y1="1057.2188" y2="1053.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="391.5" x2="381.5" y1="1057.2188" y2="1061.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="392.5" y1="1057.2188" y2="1057.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="210.5" y="1052.3623">POST /UpdateUserController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="445.5" y1="1087.5703" y2="1087.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="445.5" x2="445.5" y1="1087.5703" y2="1100.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404.5" x2="445.5" y1="1100.5703" y2="1100.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404.5" x2="414.5" y1="1100.5703" y2="1096.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404.5" x2="414.5" y1="1100.5703" y2="1104.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="410.5" y="1082.7139">Context.lookup(String name): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1141.5" x2="1131.5" y1="1130.9219" y2="1126.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1141.5" x2="1131.5" y1="1130.9219" y2="1134.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="1142.5" y1="1130.9219" y2="1130.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="721" x="410.5" y="1126.0654">protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1153.5" x2="1195.5" y1="1161.2734" y2="1161.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1195.5" x2="1195.5" y1="1161.2734" y2="1174.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1154.5" x2="1195.5" y1="1174.2734" y2="1174.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1154.5" x2="1164.5" y1="1174.2734" y2="1170.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1154.5" x2="1164.5" y1="1174.2734" y2="1178.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1160.5" y="1156.417">isLogin(HttpServletRequest request): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1153.5" x2="1195.5" y1="1204.625" y2="1204.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1195.5" x2="1195.5" y1="1204.625" y2="1217.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1154.5" x2="1195.5" y1="1217.625" y2="1217.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1154.5" x2="1164.5" y1="1217.625" y2="1213.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1154.5" x2="1164.5" y1="1217.625" y2="1221.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435" x="1160.5" y="1199.7686">correctRole(HttpServletRequest request, int minRole, int maxRole): boolean</text><path d="M124,1232.625 L185,1232.625 L185,1240.625 L175,1250.625 L124,1250.625 L124,1232.625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="954.0547" style="stroke:#000000;stroke-width:2.0;" width="2505.5" x="124" y="1232.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="139" y="1247.1201">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73" x="200" y="1246.0439">[return false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="1273.3281" y2="1269.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="1273.3281" y2="1277.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="403.5" x2="1142.5" y1="1273.3281" y2="1273.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="420.5" y="1268.4717">forward login.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="1303.6797" y2="1299.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="1303.6797" y2="1307.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="203.5" x2="392.5" y1="1303.6797" y2="1303.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="220.5" y="1298.8232">forward login.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="124" x2="2629.5" y1="1312.6797" y2="1312.6797"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="129" y="1324.0986">[return true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="1349.8672" y2="1345.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="1349.8672" y2="1353.8672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="403.5" x2="1147.5" y1="1349.8672" y2="1349.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="420.5" y="1345.0107">return true</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1600.5" x2="1590.5" y1="1380.2188" y2="1376.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1600.5" x2="1590.5" y1="1380.2188" y2="1384.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="1601.5" y1="1380.2188" y2="1380.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="410.5" y="1375.3623">doFilter(ServletRequest arg0, ServletResponse arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2276.5" x2="2266.5" y1="1410.5703" y2="1406.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2276.5" x2="2266.5" y1="1410.5703" y2="1414.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="2277.5" y1="1410.5703" y2="1410.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="647" x="1619.5" y="1405.7139">getStringParam(HttpServletRequest request, String field, String label, int min, int max,String defaultValue):String</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1622.5" y1="1440.9219" y2="1436.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1622.5" y1="1440.9219" y2="1444.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1612.5" x2="2277.5" y1="1440.9219" y2="1440.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="1629.5" y="1436.0654">return fullName</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2276.5" x2="2266.5" y1="1471.2734" y2="1467.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2276.5" x2="2266.5" y1="1471.2734" y2="1475.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="2277.5" y1="1471.2734" y2="1471.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="446" x="1619.5" y="1466.417">getEmailParams(HttpServletRequest request, String field, String label): String</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1622.5" y1="1501.625" y2="1497.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1622.5" y1="1501.625" y2="1505.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1612.5" x2="2277.5" y1="1501.625" y2="1501.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="1629.5" y="1496.7686">return email</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2276.5" x2="2266.5" y1="1531.9766" y2="1527.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2276.5" x2="2266.5" y1="1531.9766" y2="1535.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="2277.5" y1="1531.9766" y2="1531.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="408" x="1619.5" y="1527.1201">getPhoneParams(HttpServletRequest request, String field, String label)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1622.5" y1="1562.3281" y2="1558.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1622.5" y1="1562.3281" y2="1566.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1612.5" x2="2282.5" y1="1562.3281" y2="1562.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="1629.5" y="1557.4717">return phone</text><path d="M134,1577.3281 L195,1577.3281 L195,1585.3281 L185,1595.3281 L134,1595.3281 L134,1577.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="602.3516" style="stroke:#000000;stroke-width:2.0;" width="2485.5" x="134" y="1577.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="149" y="1591.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="210" y="1590.7471">[invalid data]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="1618.0313" y2="1614.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="1618.0313" y2="1622.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="403.5" x2="1601.5" y1="1618.0313" y2="1618.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="420.5" y="1613.1748">forward updateUserInfo.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="1648.3828" y2="1644.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="1648.3828" y2="1652.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="203.5" x2="392.5" y1="1648.3828" y2="1648.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="220.5" y="1643.5264">forward updateUserInfo.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="134" x2="2619.5" y1="1657.3828" y2="1657.3828"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="59" x="139" y="1668.8018">[valid data]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2370" x2="2360" y1="1694.5703" y2="1690.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2370" x2="2360" y1="1694.5703" y2="1698.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="2371" y1="1694.5703" y2="1694.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="1619.5" y="1689.7139">getOneUserByUsername(String username): User</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2553" x2="2543" y1="1724.9219" y2="1720.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2553" x2="2543" y1="1724.9219" y2="1728.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2382" x2="2554" y1="1724.9219" y2="1724.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="2389" y="1720.0654">executeQuery()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2382" x2="2392" y1="1755.2734" y2="1751.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2382" x2="2392" y1="1755.2734" y2="1759.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2382" x2="2559" y1="1755.2734" y2="1755.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="2399" y="1750.417">Return result set</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1622.5" y1="1785.625" y2="1781.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1622.5" y1="1785.625" y2="1789.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1612.5" x2="2371" y1="1785.625" y2="1785.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="1629.5" y="1780.7686">User</text><path d="M144,1800.625 L205,1800.625 L205,1808.625 L195,1818.625 L144,1818.625 L144,1800.625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="372.0547" style="stroke:#000000;stroke-width:2.0;" width="2465.5" x="144" y="1800.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="159" y="1815.1201">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="90" x="220" y="1814.0439">[Not found user]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="1841.3281" y2="1837.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="1841.3281" y2="1845.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="403.5" x2="1601.5" y1="1841.3281" y2="1841.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="420.5" y="1836.4717">forward updateUserInfo.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="1871.6797" y2="1867.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="1871.6797" y2="1875.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="203.5" x2="392.5" y1="1871.6797" y2="1871.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="220.5" y="1866.8232">forward updateUserInfo.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="144" x2="2609.5" y1="1880.6797" y2="1880.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2370" x2="2360" y1="1904.0313" y2="1900.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2370" x2="2360" y1="1904.0313" y2="1908.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="2371" y1="1904.0313" y2="1904.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="571" x="1619.5" y="1899.1748">updateUserInfoByUsername(String username, String fullName, String email, String phone): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2553" x2="2543" y1="1934.3828" y2="1930.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2553" x2="2543" y1="1934.3828" y2="1938.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2382" x2="2554" y1="1934.3828" y2="1934.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="2389" y="1929.5264">executeUpdate()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2382" x2="2392" y1="1964.7344" y2="1960.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2382" x2="2392" y1="1964.7344" y2="1968.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2382" x2="2559" y1="1964.7344" y2="1964.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="2399" y="1959.8779">Return int</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1622.5" y1="1995.0859" y2="1991.0859"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1622.5" y1="1995.0859" y2="1999.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1612.5" x2="2376" y1="1995.0859" y2="1995.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="1629.5" y="1990.2295">return boolean</text><path d="M154,2010.0859 L215,2010.0859 L215,2018.0859 L205,2028.0859 L154,2028.0859 L154,2010.0859 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="155.5938" style="stroke:#000000;stroke-width:2.0;" width="1542.5" x="154" y="2010.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="169" y="2024.5811">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="79" x="230" y="2023.5049">[update=false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="2050.7891" y2="2046.7891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="2050.7891" y2="2054.7891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="403.5" x2="1601.5" y1="2050.7891" y2="2050.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="420.5" y="2045.9326">forward updateUserInfo.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="2081.1406" y2="2077.1406"/><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="2081.1406" y2="2085.1406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="203.5" x2="392.5" y1="2081.1406" y2="2081.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="220.5" y="2076.2842">forward updateUserInfo.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="154" x2="1696.5" y1="2090.1406" y2="2090.1406"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="75" x="159" y="2101.5596">[update=true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="2127.3281" y2="2123.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="403.5" x2="413.5" y1="2127.3281" y2="2131.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="403.5" x2="1606.5" y1="2127.3281" y2="2127.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="420.5" y="2122.4717">Redirect /ViewUserController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="198.5" x2="208.5" y1="2157.6797" y2="2153.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="198.5" x2="208.5" y1="2157.6797" y2="2161.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="198.5" x2="397.5" y1="2157.6797" y2="2157.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="215.5" y="2152.8232">Redirect /ViewUserController</text><!--MD5=[3663414aa833ffb89b64791f928beeed]
@startuml updateUser

hide footbox
mainframe <b>sd</b> Update User Account
actor User
participant "Browser" as Browser
participant ":CommonRoleFilter" as CommonRoleFilter
participant ":Helper" as Helper
participant ":UpdateUserController" as UpdateUserController
participant ":GetParam" as GetParam
participant ":UserDAO" as UserDao
participant "Database" as DB

User ->> Browser: Click on update user Link
activate Browser
Browser ->> CommonRoleFilter: GET /UpdateUserController
activate CommonRoleFilter
CommonRoleFilter ->> CommonRoleFilter: Context.lookup(String name): Object
CommonRoleFilter ->> Helper: protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean
activate Helper
Helper ->> Helper: isLogin(HttpServletRequest request): boolean
Helper ->> Helper: correctRole(HttpServletRequest request, int minRole, int maxRole): boolean
alt return false 
    Helper - ->> CommonRoleFilter: forward login.jsp
    CommonRoleFilter - ->> Browser: forward login.jsp
else return true
    Helper - ->> CommonRoleFilter: return true
    deactivate Helper
    CommonRoleFilter ->> UpdateUserController: doFilter(ServletRequest arg0, ServletResponse arg1): void
    activate UpdateUserController
    UpdateUserController ->> UpdateUserController: HttpSession.getAttribute(String name): Object
    alt null username
        UpdateUserController - ->> CommonRoleFilter: forward error.jsp
        CommonRoleFilter - ->> Browser: forward error.jsp
    else get username
        UpdateUserController ->> UserDao: getOneUserByUsername(String username): User
        activate UserDao
        UserDao ->> DB: executeQuery(): ResultSet
        activate DB
        DB - ->> UserDao: return ResultSet
        deactivate DB
        UserDao - ->> UpdateUserController: return User
        deactivate UserDao
        alt not exist username
            UpdateUserController - ->> CommonRoleFilter: forward error.jsp
            CommonRoleFilter - ->> Browser: forward error.jsp
        else exist username
            UpdateUserController ->> UpdateUserController: HttpSession.setAttribute(String arg0, Object arg1): void
            UpdateUserController - ->> CommonRoleFilter: forward updateUserInfo.jsp
        deactivate UpdateUserController
            CommonRoleFilter - ->> Browser: forward updateUserInfo.jsp
        deactivate CommonRoleFilter
    end
    end
end


User ->> Browser: Submit Update Form
Browser ->> CommonRoleFilter: POST /UpdateUserController
activate CommonRoleFilter
CommonRoleFilter ->> CommonRoleFilter: Context.lookup(String name): Object
CommonRoleFilter ->> Helper: protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean
activate Helper
Helper ->> Helper: isLogin(HttpServletRequest request): boolean
Helper ->> Helper: correctRole(HttpServletRequest request, int minRole, int maxRole): boolean
alt return false 
    Helper - ->> CommonRoleFilter: forward login.jsp
    CommonRoleFilter - ->> Browser: forward login.jsp
else return true
    Helper - ->> CommonRoleFilter: return true
    deactivate Helper
    CommonRoleFilter ->> UpdateUserController: doFilter(ServletRequest arg0, ServletResponse arg1): void
    activate UpdateUserController
    UpdateUserController ->> GetParam: getStringParam(HttpServletRequest request, String field, String label, int min, int max,String defaultValue):String
    activate GetParam
    GetParam - - ->> UpdateUserController: return fullName
    UpdateUserController ->> GetParam: getEmailParams(HttpServletRequest request, String field, String label): String
    GetParam - - ->> UpdateUserController: return email
    UpdateUserController ->> GetParam: getPhoneParams(HttpServletRequest request, String field, String label)
    GetParam - - ->> UpdateUserController: return phone
    deactivate GetParam
    alt invalid data
        UpdateUserController - ->> CommonRoleFilter: forward updateUserInfo.jsp
        CommonRoleFilter - ->> Browser: forward updateUserInfo.jsp
    else valid data
        UpdateUserController ->> UserDao: getOneUserByUsername(String username): User
        activate UserDao
        UserDao ->> DB: executeQuery()
        activate DB
        DB - ->> UserDao: Return result set
        deactivate DB
        UserDao - ->> UpdateUserController: User
        alt Not found user
            UpdateUserController - ->> CommonRoleFilter: forward updateUserInfo.jsp
            CommonRoleFilter - ->> Browser: forward updateUserInfo.jsp
        else
            UpdateUserController ->> UserDao: updateUserInfoByUsername(String username, String fullName, String email, String phone): boolean
            UserDao ->> DB: executeUpdate()
            activate DB
            DB - ->> UserDao: Return int
            deactivate DB
            UserDao - ->> UpdateUserController: return boolean
            deactivate UserDao
            alt update=false
                UpdateUserController - ->> CommonRoleFilter: forward updateUserInfo.jsp
                CommonRoleFilter - ->> Browser: forward updateUserInfo.jsp
            else  update=true
                UpdateUserController - ->> CommonRoleFilter: Redirect /ViewUserController 
                deactivate UpdateUserController
                CommonRoleFilter - ->> Browser: Redirect /ViewUserController 
                deactivate CommonRoleFilter
                deactivate Browser
            end
        end
    end
end
@enduml

PlantUML version 1.2021.00(Sun Jan 10 17:25:05 ICT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>