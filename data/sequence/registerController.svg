<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1103px" preserveAspectRatio="none" style="width:1413px;height:1103px;background:#FFFFFF;" version="1.1" viewBox="0 0 1413 1103" width="1413px" zoomAndPan="magnify"><defs><filter height="300%" id="fm3s5mmuu5cpe" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="1086.9219" style="stroke:#000000;stroke-width:1.0;" width="1396.5" x="5" y="5"/><path d="M155,5 L155,15.6094 L145,25.6094 L5,25.6094 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="17" x="8" y="20.5332">sd</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="29" y="20.5332">Register Controller</text><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="895.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="168.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="865" style="stroke:#A80036;stroke-width:1.0;" width="10" x="349.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="182.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1038.5" y="270.9766"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1130" y="554.9766"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1130" y="923.5156"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1210" y="862.8125"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1313" y="585.3281"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1313" y="953.8672"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="598.8359" style="stroke:#000000;stroke-width:2.0;" width="1278.5" x="109" y="468.0859"/><rect fill="#FFFFFF" height="550.1328" style="stroke:none;stroke-width:1.0;" width="1278.5" x="109" y="516.7891"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="398.8906" style="stroke:#000000;stroke-width:2.0;" width="1258.5" x="119" y="661.0313"/><rect fill="#FFFFFF" height="350.1875" style="stroke:none;stroke-width:1.0;" width="1258.5" x="119" y="709.7344"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="277" style="stroke:#000000;stroke-width:2.0;" width="1238.5" x="129" y="775.9219"/><rect fill="#FFFFFF" height="228.2969" style="stroke:none;stroke-width:1.0;" width="1238.5" x="129" y="824.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="117.2188" y2="1083.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="173" x2="173" y1="117.2188" y2="1083.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="354" x2="354" y1="117.2188" y2="1083.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1043.5" x2="1043.5" y1="117.2188" y2="1083.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1134.5" x2="1134.5" y1="117.2188" y2="1083.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1214.5" x2="1214.5" y1="117.2188" y2="1083.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1317.5" x2="1317.5" y1="117.2188" y2="1083.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="10" y="114.1426">User</text><ellipse cx="27.5" cy="42.6094" fill="#FEFECE" filter="url(#fm3s5mmuu5cpe)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M27.5,50.6094 L27.5,77.6094 M14.5,58.6094 L40.5,58.6094 M27.5,77.6094 L14.5,92.6094 M27.5,77.6094 L40.5,92.6094 " fill="none" filter="url(#fm3s5mmuu5cpe)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fm3s5mmuu5cpe)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="65" x="139" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="146" y="102.1426">Browser</text><rect fill="#FEFECE" filter="url(#fm3s5mmuu5cpe)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="133" x="286" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="293" y="102.1426">:RegisterController</text><rect fill="#FEFECE" filter="url(#fm3s5mmuu5cpe)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="1002.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="1009.5" y="102.1426">GetParam</text><rect fill="#FEFECE" filter="url(#fm3s5mmuu5cpe)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="77" x="1094.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1101.5" y="102.1426">:UserDAO</text><rect fill="#FEFECE" filter="url(#fm3s5mmuu5cpe)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="55" x="1185.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="1192.5" y="102.1426">Helper</text><rect fill="#FEFECE" filter="url(#fm3s5mmuu5cpe)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="75" x="1278.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1285.5" y="102.1426">Database</text><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="895.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="168.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="865" style="stroke:#A80036;stroke-width:1.0;" width="10" x="349.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="182.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1038.5" y="270.9766"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1130" y="554.9766"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1130" y="923.5156"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1210" y="862.8125"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1313" y="585.3281"/><rect fill="#FFFFFF" filter="url(#fm3s5mmuu5cpe)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1313" y="953.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="166.5" x2="156.5" y1="149.5703" y2="145.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="166.5" x2="156.5" y1="149.5703" y2="153.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="167.5" y1="149.5703" y2="149.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="34.5" y="144.7139">Click on register link</text><line style="stroke:#A80036;stroke-width:1.0;" x1="347.5" x2="337.5" y1="179.9219" y2="175.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="347.5" x2="337.5" y1="179.9219" y2="183.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="178.5" x2="348.5" y1="179.9219" y2="179.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="26" x="185.5" y="175.0654">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="215.5" y="175.0654">/RegisterController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="178.5" x2="188.5" y1="210.2734" y2="206.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="178.5" x2="188.5" y1="210.2734" y2="214.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="178.5" x2="348.5" y1="210.2734" y2="210.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="195.5" y="205.417">forward register.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="166.5" x2="156.5" y1="240.625" y2="236.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="166.5" x2="156.5" y1="240.625" y2="244.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="167.5" y1="240.625" y2="240.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="34.5" y="235.7686">Submit register form</text><line style="stroke:#A80036;stroke-width:1.0;" x1="347.5" x2="337.5" y1="270.9766" y2="266.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="347.5" x2="337.5" y1="270.9766" y2="274.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="178.5" x2="348.5" y1="270.9766" y2="270.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="36" x="185.5" y="266.1201">POST</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="225.5" y="266.1201">/RegisterController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1036.5" x2="1026.5" y1="301.3281" y2="297.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1036.5" x2="1026.5" y1="301.3281" y2="305.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="1037.5" y1="301.3281" y2="301.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="655" x="366.5" y="296.4717">getStringParam(HttpServletRequest request, String field, String label, int min, int max, String defaultValue): String</text><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="369.5" y1="331.6797" y2="327.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="369.5" y1="331.6797" y2="335.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="359.5" x2="1037.5" y1="331.6797" y2="331.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="376.5" y="326.8232">Return username, password, comfirmPassword, fullName</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1036.5" x2="1026.5" y1="362.0313" y2="358.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1036.5" x2="1026.5" y1="362.0313" y2="366.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="1037.5" y1="362.0313" y2="362.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="446" x="366.5" y="357.1748">getEmailParams(HttpServletRequest request, String field, String label): String</text><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="369.5" y1="392.3828" y2="388.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="369.5" y1="392.3828" y2="396.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="359.5" x2="1037.5" y1="392.3828" y2="392.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="376.5" y="387.5264">Return email</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1036.5" x2="1026.5" y1="422.7344" y2="418.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1036.5" x2="1026.5" y1="422.7344" y2="426.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="1037.5" y1="422.7344" y2="422.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="450" x="366.5" y="417.8779">getPhoneParams(HttpServletRequest request, String field, String label): String</text><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="369.5" y1="453.0859" y2="449.0859"/><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="369.5" y1="453.0859" y2="457.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="359.5" x2="1042.5" y1="453.0859" y2="453.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="376.5" y="448.2295">Return phone</text><path d="M109,468.0859 L170,468.0859 L170,476.0859 L160,486.0859 L109,486.0859 L109,468.0859 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="598.8359" style="stroke:#000000;stroke-width:2.0;" width="1278.5" x="109" y="468.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="124" y="482.5811">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="185" y="481.5049">[invalid data]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="178.5" x2="188.5" y1="508.7891" y2="504.7891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="178.5" x2="188.5" y1="508.7891" y2="512.7891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="178.5" x2="348.5" y1="508.7891" y2="508.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="195.5" y="503.9326">forward register.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="109" x2="1387.5" y1="517.7891" y2="517.7891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="59" x="114" y="529.208">[valid data]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1128" x2="1118" y1="554.9766" y2="550.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1128" x2="1118" y1="554.9766" y2="558.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="1129" y1="554.9766" y2="554.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="366.5" y="550.1201">getOneUserByUsername(String username):User</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1311" x2="1301" y1="585.3281" y2="581.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1311" x2="1301" y1="585.3281" y2="589.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1140" x2="1312" y1="585.3281" y2="585.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1147" y="580.4717">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1140" x2="1150" y1="615.6797" y2="611.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1140" x2="1150" y1="615.6797" y2="619.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1140" x2="1317" y1="615.6797" y2="615.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="1157" y="610.8232">Return result set</text><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="369.5" y1="646.0313" y2="642.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="369.5" y1="646.0313" y2="650.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="359.5" x2="1134" y1="646.0313" y2="646.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="376.5" y="641.1748">Return User</text><path d="M119,661.0313 L180,661.0313 L180,669.0313 L170,679.0313 L119,679.0313 L119,661.0313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="398.8906" style="stroke:#000000;stroke-width:2.0;" width="1258.5" x="119" y="661.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="134" y="675.5264">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="116" x="195" y="674.4502">[user does not exist]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="178.5" x2="188.5" y1="701.7344" y2="697.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="178.5" x2="188.5" y1="701.7344" y2="705.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="178.5" x2="348.5" y1="701.7344" y2="701.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="195.5" y="696.8779">forward register.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="119" x2="1377.5" y1="710.7344" y2="710.7344"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="71" x="124" y="722.1533">[user exists]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="401.5" y1="747.9219" y2="747.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="401.5" x2="401.5" y1="747.9219" y2="760.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="360.5" x2="401.5" y1="760.9219" y2="760.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="360.5" x2="370.5" y1="760.9219" y2="756.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="360.5" x2="370.5" y1="760.9219" y2="764.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="366.5" y="743.0654">String.equals(String string): boolean</text><path d="M129,775.9219 L190,775.9219 L190,783.9219 L180,793.9219 L129,793.9219 L129,775.9219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="277" style="stroke:#000000;stroke-width:2.0;" width="1238.5" x="129" y="775.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="144" y="790.417">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="63" x="205" y="789.3408">[not match]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="178.5" x2="188.5" y1="816.625" y2="812.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="178.5" x2="188.5" y1="816.625" y2="820.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="178.5" x2="348.5" y1="816.625" y2="816.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="195.5" y="811.7686">forward register.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="129" x2="1367.5" y1="825.625" y2="825.625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="42" x="134" y="837.0439">[match]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1208" x2="1198" y1="862.8125" y2="858.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1208" x2="1198" y1="862.8125" y2="866.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="1209" y1="862.8125" y2="862.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280" x="366.5" y="857.9561">encrypt(String password, int hashingKey): String</text><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="369.5" y1="893.1641" y2="889.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="369.5" y1="893.1641" y2="897.1641"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="359.5" x2="1214" y1="893.1641" y2="893.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="376.5" y="888.3076">Return hashingPassword</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1128" x2="1118" y1="923.5156" y2="919.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1128" x2="1118" y1="923.5156" y2="927.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="1129" y1="923.5156" y2="923.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="366.5" y="918.6592">addUser(User user): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1311" x2="1301" y1="953.8672" y2="949.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1311" x2="1301" y1="953.8672" y2="957.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1140" x2="1312" y1="953.8672" y2="953.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="1147" y="949.0107">executeUpdate(): int</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1140" x2="1150" y1="984.2188" y2="980.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1140" x2="1150" y1="984.2188" y2="988.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1140" x2="1317" y1="984.2188" y2="984.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="1157" y="979.3623">Return result</text><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="369.5" y1="1014.5703" y2="1010.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="359.5" x2="369.5" y1="1014.5703" y2="1018.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="359.5" x2="1134" y1="1014.5703" y2="1014.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="376.5" y="1009.7139">Return result</text><line style="stroke:#A80036;stroke-width:1.0;" x1="173.5" x2="183.5" y1="1044.9219" y2="1040.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="173.5" x2="183.5" y1="1044.9219" y2="1048.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="173.5" x2="353.5" y1="1044.9219" y2="1044.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="190.5" y="1040.0654">redirect /LoginController</text><!--MD5=[bd2215b0f49baa2b35ded45b6a495aab]
@startuml
mainframe **sd** Register Controller
hide footbox
actor User
participant "Browser" as Browser
participant ":RegisterController" as RegisterController
participant "GetParam" as GetParam
participant ":UserDAO" as UserDAO
participant "Helper" as Helper
participant "Database" as Database

User ->> Browser: Click on register link
activate Browser
Browser ->> RegisterController: **GET** /RegisterController
activate RegisterController
RegisterController - ->> Browser: forward register.jsp



User ->> Browser: Submit register form
Browser ->> RegisterController: **POST** /RegisterController
activate GetParam
RegisterController ->> GetParam: getStringParam(HttpServletRequest request, String field, String label, int min, int max, String defaultValue): String
GetParam - ->> RegisterController: Return username, password, comfirmPassword, fullName
RegisterController ->> GetParam: getEmailParams(HttpServletRequest request, String field, String label): String
GetParam - ->> RegisterController: Return email
RegisterController ->> GetParam: getPhoneParams(HttpServletRequest request, String field, String label): String
GetParam - ->> RegisterController: Return phone
deactivate GetParam
alt invalid data
    RegisterController - ->> Browser: forward register.jsp

else valid data
    RegisterController ->> UserDAO: getOneUserByUsername(String username):User
    activate UserDAO
    UserDAO ->> Database: executeQuery(): ResultSet
    activate Database
    Database - ->> UserDAO: Return result set
    deactivate Database
    UserDAO - ->> RegisterController: Return User
    deactivate UserDAO

    alt user does not exist
        RegisterController - ->> Browser: forward register.jsp
        
    else user exists
        RegisterController ->> RegisterController: String.equals(String string): boolean

        alt not match
            RegisterController ->> Browser: forward register.jsp

        else match
            RegisterController ->> Helper: encrypt(String password, int hashingKey): String
            activate Helper
            Helper - ->> RegisterController: Return hashingPassword
            deactivate Helper
            RegisterController ->> UserDAO: addUser(User user): boolean
            activate UserDAO
            UserDAO ->> Database: executeUpdate(): int
            activate Database
            Database - ->> UserDAO: Return result
            deactivate Database
            UserDAO - ->> RegisterController: Return result
            deactivate UserDAO
            RegisterController - ->> Browser: redirect /LoginController
            deactivate RegisterController
            deactivate Browser
        end        
    end
end

@enduml

PlantUML version 1.2021.7(Sun May 23 19:40:07 ICT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>