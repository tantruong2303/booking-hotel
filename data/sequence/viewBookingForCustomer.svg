<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1185px" preserveAspectRatio="none" style="width:2686px;height:1185px;" version="1.1" viewBox="0 0 2686 1185" width="2686px" zoomAndPan="magnify"><defs><filter height="300%" id="ft80gkbnuj3jg" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="1168.4375" style="stroke:#000000;stroke-width:1.0;" width="2669" x="5" y="5"/><path d="M280,5 L280,15.6094 L270,25.6094 L5,25.6094 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="17" x="8" y="20.5332">sd</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244" x="29" y="20.5332">View Booking Information for Customer</text><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="976.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="198.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="946.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="391.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1141.5" y="253.625"/><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="593.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1600.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2286.5" y="533.2734"/><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2402.5" y="931.3281"/><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2585.5" y="961.6797"/><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="793.1094" style="stroke:#000000;stroke-width:2.0;" width="2521" x="139" y="355.3281"/><rect fill="#FFFFFF" height="714.0547" style="stroke:none;stroke-width:1.0;" width="2521" x="139" y="434.3828"/><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="502.1094" style="stroke:#000000;stroke-width:2.0;" width="2501" x="149" y="639.3281"/><rect fill="#FFFFFF" height="423.0547" style="stroke:none;stroke-width:1.0;" width="2501" x="149" y="718.3828"/><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="363.7031" style="stroke:#000000;stroke-width:2.0;" width="2481" x="159" y="770.7344"/><rect fill="#FFFFFF" height="284.6484" style="stroke:none;stroke-width:1.0;" width="2481" x="159" y="849.7891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="117.2188" y2="1165.4375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="203" x2="203" y1="117.2188" y2="1165.4375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="396.5" x2="396.5" y1="117.2188" y2="1165.4375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1146" x2="1146" y1="117.2188" y2="1165.4375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1605.5" x2="1605.5" y1="117.2188" y2="1165.4375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2291.5" x2="2291.5" y1="117.2188" y2="1165.4375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2407.5" x2="2407.5" y1="117.2188" y2="1165.4375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2590" x2="2590" y1="117.2188" y2="1165.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="10" y="114.1426">User</text><ellipse cx="27.5" cy="42.6094" fill="#FEFECE" filter="url(#ft80gkbnuj3jg)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M27.5,50.6094 L27.5,77.6094 M14.5,58.6094 L40.5,58.6094 M27.5,77.6094 L14.5,92.6094 M27.5,77.6094 L40.5,92.6094 " fill="none" filter="url(#ft80gkbnuj3jg)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#ft80gkbnuj3jg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="65" x="169" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="176" y="102.1426">Browser</text><rect fill="#FEFECE" filter="url(#ft80gkbnuj3jg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="140" x="324.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="331.5" y="102.1426">:CustomerRoleFilter</text><rect fill="#FEFECE" filter="url(#ft80gkbnuj3jg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="59" x="1115" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="1122" y="102.1426">:Helper</text><rect fill="#FEFECE" filter="url(#ft80gkbnuj3jg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="160" x="1523.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="1530.5" y="102.1426">:ViewBookingController</text><rect fill="#FEFECE" filter="url(#ft80gkbnuj3jg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="82" x="2248.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="2255.5" y="102.1426">:GetParam</text><rect fill="#FEFECE" filter="url(#ft80gkbnuj3jg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="122" x="2344.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="2351.5" y="102.1426">:BookingInfoDAO</text><rect fill="#FEFECE" filter="url(#ft80gkbnuj3jg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="75" x="2551" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="2558" y="102.1426">Database</text><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="976.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="198.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="946.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="391.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1141.5" y="253.625"/><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="593.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1600.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2286.5" y="533.2734"/><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2402.5" y="931.3281"/><rect fill="#FFFFFF" filter="url(#ft80gkbnuj3jg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2585.5" y="961.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="196.5" x2="186.5" y1="149.5703" y2="145.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="196.5" x2="186.5" y1="149.5703" y2="153.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="197.5" y1="149.5703" y2="149.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="34.5" y="144.7139">Click on view booking Link</text><line style="stroke:#A80036;stroke-width:1.0;" x1="389.5" x2="379.5" y1="179.9219" y2="175.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="389.5" x2="379.5" y1="179.9219" y2="183.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="208.5" x2="390.5" y1="179.9219" y2="179.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="215.5" y="175.0654">GET /ViewBookingController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="401.5" x2="443.5" y1="210.2734" y2="210.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="443.5" x2="443.5" y1="210.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="402.5" x2="443.5" y1="223.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="402.5" x2="412.5" y1="223.2734" y2="219.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="402.5" x2="412.5" y1="223.2734" y2="227.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="408.5" y="205.417">Context.lookup(String name): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1139.5" x2="1129.5" y1="253.625" y2="249.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1139.5" x2="1129.5" y1="253.625" y2="257.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="401.5" x2="1140.5" y1="253.625" y2="253.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="721" x="408.5" y="248.7686">protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1151.5" x2="1193.5" y1="283.9766" y2="283.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1193.5" x2="1193.5" y1="283.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1152.5" x2="1193.5" y1="296.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1152.5" x2="1162.5" y1="296.9766" y2="292.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1152.5" x2="1162.5" y1="296.9766" y2="300.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1158.5" y="279.1201">isLogin(HttpServletRequest request): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1151.5" x2="1193.5" y1="327.3281" y2="327.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1193.5" x2="1193.5" y1="327.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1152.5" x2="1193.5" y1="340.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1152.5" x2="1162.5" y1="340.3281" y2="336.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1152.5" x2="1162.5" y1="340.3281" y2="344.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435" x="1158.5" y="322.4717">correctRole(HttpServletRequest request, int minRole, int maxRole): boolean</text><path d="M139,355.3281 L200,355.3281 L200,363.3281 L190,373.3281 L139,373.3281 L139,355.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="793.1094" style="stroke:#000000;stroke-width:2.0;" width="2521" x="139" y="355.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="154" y="369.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73" x="215" y="368.7471">[return false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="401.5" x2="411.5" y1="396.0313" y2="392.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="401.5" x2="411.5" y1="396.0313" y2="400.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="401.5" x2="1140.5" y1="396.0313" y2="396.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="418.5" y="391.1748">forward login.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="208.5" x2="218.5" y1="426.3828" y2="422.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="208.5" x2="218.5" y1="426.3828" y2="430.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="208.5" x2="390.5" y1="426.3828" y2="426.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="225.5" y="421.5264">forward login.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="139" x2="2660" y1="435.3828" y2="435.3828"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="144" y="446.8018">[return true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="401.5" x2="411.5" y1="472.5703" y2="468.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="401.5" x2="411.5" y1="472.5703" y2="476.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="401.5" x2="1145.5" y1="472.5703" y2="472.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="418.5" y="467.7139">return true</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1598.5" x2="1588.5" y1="502.9219" y2="498.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1598.5" x2="1588.5" y1="502.9219" y2="506.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="401.5" x2="1599.5" y1="502.9219" y2="502.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="408.5" y="498.0654">doFilter(ServletRequest arg0, ServletResponse arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2284.5" x2="2274.5" y1="533.2734" y2="529.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2284.5" x2="2274.5" y1="533.2734" y2="537.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1610.5" x2="2285.5" y1="533.2734" y2="533.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="550" x="1617.5" y="528.417">getDateParams(HttpServletRequest request, String field, String label, String defaultValue): Date</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1610.5" x2="1620.5" y1="563.625" y2="559.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1610.5" x2="1620.5" y1="563.625" y2="567.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1610.5" x2="2285.5" y1="563.625" y2="563.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="1627.5" y="558.7686">return startDate, endDate</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2284.5" x2="2274.5" y1="593.9766" y2="589.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2284.5" x2="2274.5" y1="593.9766" y2="597.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1610.5" x2="2285.5" y1="593.9766" y2="593.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="652" x="1617.5" y="589.1201">getIntParams(HttpServletRequest request, String field, String label, int min, int max, Integer defaultValue): Integer</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1610.5" x2="1620.5" y1="624.3281" y2="620.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1610.5" x2="1620.5" y1="624.3281" y2="628.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1610.5" x2="2290.5" y1="624.3281" y2="624.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="1627.5" y="619.4717">return roomId, status</text><path d="M149,639.3281 L210,639.3281 L210,647.3281 L200,657.3281 L149,657.3281 L149,639.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="502.1094" style="stroke:#000000;stroke-width:2.0;" width="2501" x="149" y="639.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="164" y="653.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="225" y="652.7471">[invalid data]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="401.5" x2="411.5" y1="680.0313" y2="676.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="401.5" x2="411.5" y1="680.0313" y2="684.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="401.5" x2="1599.5" y1="680.0313" y2="680.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="418.5" y="675.1748">forward viewBooking.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="208.5" x2="218.5" y1="710.3828" y2="706.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="208.5" x2="218.5" y1="710.3828" y2="714.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="208.5" x2="390.5" y1="710.3828" y2="710.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="225.5" y="705.5264">forward viewBooking.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="149" x2="2650" y1="719.3828" y2="719.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1610.5" x2="1652.5" y1="742.7344" y2="742.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1652.5" x2="1652.5" y1="742.7344" y2="755.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1611.5" x2="1652.5" y1="755.7344" y2="755.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1611.5" x2="1621.5" y1="755.7344" y2="751.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1611.5" x2="1621.5" y1="755.7344" y2="759.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="578" x="1617.5" y="737.8779">Validator.computeNumberOfDay(HttpServletRequest request, Date startDate, Date endDate): Integer</text><path d="M159,770.7344 L220,770.7344 L220,778.7344 L210,788.7344 L159,788.7344 L159,770.7344 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="363.7031" style="stroke:#000000;stroke-width:2.0;" width="2481" x="159" y="770.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="174" y="785.2295">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="70" x="235" y="784.1533">[invalid date]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="401.5" x2="411.5" y1="811.4375" y2="807.4375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="401.5" x2="411.5" y1="811.4375" y2="815.4375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="401.5" x2="1599.5" y1="811.4375" y2="811.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="418.5" y="806.5811">forward viewBooking.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="208.5" x2="218.5" y1="841.7891" y2="837.7891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="208.5" x2="218.5" y1="841.7891" y2="845.7891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="208.5" x2="390.5" y1="841.7891" y2="841.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="225.5" y="836.9326">forward viewBooking.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="159" x2="2640" y1="850.7891" y2="850.7891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="60" x="164" y="862.208">[valid date]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1610.5" x2="1652.5" y1="887.9766" y2="887.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1652.5" x2="1652.5" y1="887.9766" y2="900.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1611.5" x2="1652.5" y1="900.9766" y2="900.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1611.5" x2="1621.5" y1="900.9766" y2="896.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1611.5" x2="1621.5" y1="900.9766" y2="904.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="1617.5" y="883.1201">HttpSession.getAttribute(String name): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2400.5" x2="2390.5" y1="931.3281" y2="927.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2400.5" x2="2390.5" y1="931.3281" y2="935.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1610.5" x2="2401.5" y1="931.3281" y2="931.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="709" x="1617.5" y="926.4717">getBookingWithUserId(Integer userId, Date startDate, Date endDate, String roomId, Integer status): ArrayList&lt;BookingInfo&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2583.5" x2="2573.5" y1="961.6797" y2="957.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2583.5" x2="2573.5" y1="961.6797" y2="965.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2412.5" x2="2584.5" y1="961.6797" y2="961.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="2419.5" y="956.8232">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2412.5" x2="2422.5" y1="992.0313" y2="988.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2412.5" x2="2422.5" y1="992.0313" y2="996.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2412.5" x2="2589.5" y1="992.0313" y2="992.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="2429.5" y="987.1748">return ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1610.5" x2="1620.5" y1="1022.3828" y2="1018.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1610.5" x2="1620.5" y1="1022.3828" y2="1026.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1610.5" x2="2406.5" y1="1022.3828" y2="1022.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="1627.5" y="1017.5264">return ArrayList&lt;BookingInfo&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1610.5" x2="1652.5" y1="1052.7344" y2="1052.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1652.5" x2="1652.5" y1="1052.7344" y2="1065.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1611.5" x2="1652.5" y1="1065.7344" y2="1065.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1611.5" x2="1621.5" y1="1065.7344" y2="1061.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1611.5" x2="1621.5" y1="1065.7344" y2="1069.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="358" x="1617.5" y="1047.8779">HttpServletRequest.setAttribute(String arg0, Object arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="401.5" x2="411.5" y1="1096.0859" y2="1092.0859"/><line style="stroke:#A80036;stroke-width:1.0;" x1="401.5" x2="411.5" y1="1096.0859" y2="1100.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="401.5" x2="1604.5" y1="1096.0859" y2="1096.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="418.5" y="1091.2295">forward viewBooking.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="1126.4375" y2="1122.4375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="203.5" x2="213.5" y1="1126.4375" y2="1130.4375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="203.5" x2="395.5" y1="1126.4375" y2="1126.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="220.5" y="1121.5811">forward viewBooking.jsp</text><!--MD5=[8d609cc3be164ab5a4673796f3d183f2]
@startuml viewBookingForCustomer

hide footbox
mainframe <b>sd</b> View Booking Information for Customer 
actor User
participant "Browser" as Browser
participant ":CustomerRoleFilter" as CustomerRoleFilter
participant ":Helper" as Helper
participant ":ViewBookingController" as ViewBookingController
participant ":GetParam" as GetParam
participant ":BookingInfoDAO" as BookingInfoDAO
participant "Database" as DB

User ->> Browser: Click on view booking Link
activate Browser
Browser ->> CustomerRoleFilter: GET /ViewBookingController
activate CustomerRoleFilter
CustomerRoleFilter ->> CustomerRoleFilter: Context.lookup(String name): Object
CustomerRoleFilter ->> Helper: protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean
activate Helper
Helper ->> Helper: isLogin(HttpServletRequest request): boolean
Helper ->> Helper: correctRole(HttpServletRequest request, int minRole, int maxRole): boolean
alt return false 
    Helper - ->> CustomerRoleFilter: forward login.jsp
    CustomerRoleFilter - ->> Browser: forward login.jsp
else return true
    Helper - ->> CustomerRoleFilter: return true
    deactivate Helper
    CustomerRoleFilter ->> ViewBookingController: doFilter(ServletRequest arg0, ServletResponse arg1): void
    activate ViewBookingController
    ViewBookingController ->> GetParam: getDateParams(HttpServletRequest request, String field, String label, String defaultValue): Date
    activate GetParam
    GetParam - ->> ViewBookingController:return startDate, endDate 
    ViewBookingController ->> GetParam: getIntParams(HttpServletRequest request, String field, String label, int min, int max, Integer defaultValue): Integer
    GetParam - ->> ViewBookingController:return roomId, status
    deactivate GetParam
    alt invalid data 
        ViewBookingController - ->> CustomerRoleFilter: forward viewBooking.jsp
        CustomerRoleFilter - ->> Browser: forward viewBooking.jsp
    else 
        ViewBookingController ->> ViewBookingController: Validator.computeNumberOfDay(HttpServletRequest request, Date startDate, Date endDate): Integer
        alt invalid date 
            ViewBookingController - ->> CustomerRoleFilter: forward viewBooking.jsp
            CustomerRoleFilter - ->> Browser: forward viewBooking.jsp
        else valid date
            ViewBookingController ->> ViewBookingController:   HttpSession.getAttribute(String name): Object
            ViewBookingController ->>  BookingInfoDAO: getBookingWithUserId(Integer userId, Date startDate, Date endDate, String roomId, Integer status): ArrayList<BookingInfo>
            activate BookingInfoDAO
            BookingInfoDAO ->> DB: executeQuery(): ResultSet
            activate DB
            DB - ->> BookingInfoDAO: return ResultSet
            deactivate DB
            BookingInfoDAO - ->> ViewBookingController: return ArrayList<BookingInfo>
            deactivate BookingInfoDAO
            ViewBookingController ->> ViewBookingController: HttpServletRequest.setAttribute(String arg0, Object arg1): void
            ViewBookingController - ->> CustomerRoleFilter: forward viewBooking.jsp
            deactivate ViewBookingController
            CustomerRoleFilter - ->> Browser: forward viewBooking.jsp
            deactivate CustomerRoleFilter
            deactivate Browser
        end
    end
end

@enduml

PlantUML version 1.2021.00(Sun Jan 10 17:25:05 ICT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>