<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="804px" preserveAspectRatio="none" style="width:2057px;height:804px;" version="1.1" viewBox="0 0 2057 804" width="2057px" zoomAndPan="magnify"><defs><filter height="300%" id="fccv4f1hjkytw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fccv4f1hjkytw)" height="787.2188" style="stroke:#000000;stroke-width:1.0;" width="2040.5" x="5" y="5"/><path d="M119,5 L119,15.6094 L109,25.6094 L5,25.6094 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="17" x="8" y="20.5332">sd</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="29" y="20.5332">Remove Cart</text><rect fill="#FFFFFF" filter="url(#fccv4f1hjkytw)" height="602.6484" style="stroke:#A80036;stroke-width:1.0;" width="10" x="211.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#fccv4f1hjkytw)" height="249.2969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="406.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#fccv4f1hjkytw)" height="323" style="stroke:#A80036;stroke-width:1.0;" width="10" x="766.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#fccv4f1hjkytw)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1516.5" y="253.625"/><rect fill="#FFFFFF" filter="url(#fccv4f1hjkytw)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1975.5" y="533.2734"/><rect fill="#FFFFFF" filter="url(#fccv4f1hjkytw)" height="411.8906" style="stroke:#000000;stroke-width:2.0;" width="1869.5" x="162" y="355.3281"/><rect fill="#FFFFFF" height="332.8359" style="stroke:none;stroke-width:1.0;" width="1869.5" x="162" y="434.3828"/><rect fill="#FFFFFF" filter="url(#fccv4f1hjkytw)" height="181.5938" style="stroke:#000000;stroke-width:2.0;" width="581.5" x="172" y="578.625"/><rect fill="#FFFFFF" height="132.8906" style="stroke:none;stroke-width:1.0;" width="581.5" x="172" y="627.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="117.2188" y2="784.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="216" x2="216" y1="117.2188" y2="784.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="411" x2="411" y1="117.2188" y2="784.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="771.5" x2="771.5" y1="117.2188" y2="784.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1521" x2="1521" y1="117.2188" y2="784.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1980.5" x2="1980.5" y1="117.2188" y2="784.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="10" y="114.1426">User</text><ellipse cx="27.5" cy="42.6094" fill="#FEFECE" filter="url(#fccv4f1hjkytw)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M27.5,50.6094 L27.5,77.6094 M14.5,58.6094 L40.5,58.6094 M27.5,77.6094 L14.5,92.6094 M27.5,77.6094 L40.5,92.6094 " fill="none" filter="url(#fccv4f1hjkytw)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fccv4f1hjkytw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="65" x="182" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="189" y="102.1426">Browser</text><rect fill="#FEFECE" filter="url(#fccv4f1hjkytw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="159" x="330" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="337" y="102.1426">:RemoveCartController</text><rect fill="#FEFECE" filter="url(#fccv4f1hjkytw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="140" x="699.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="706.5" y="102.1426">:CustomerRoleFilter</text><rect fill="#FEFECE" filter="url(#fccv4f1hjkytw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="55" x="1492" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="1499" y="102.1426">Helper</text><rect fill="#FEFECE" filter="url(#fccv4f1hjkytw)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="1939.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="1946.5" y="102.1426">GetParam</text><rect fill="#FFFFFF" filter="url(#fccv4f1hjkytw)" height="602.6484" style="stroke:#A80036;stroke-width:1.0;" width="10" x="211.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#fccv4f1hjkytw)" height="249.2969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="406.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#fccv4f1hjkytw)" height="323" style="stroke:#A80036;stroke-width:1.0;" width="10" x="766.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#fccv4f1hjkytw)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1516.5" y="253.625"/><rect fill="#FFFFFF" filter="url(#fccv4f1hjkytw)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1975.5" y="533.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="209.5" x2="199.5" y1="149.5703" y2="145.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="209.5" x2="199.5" y1="149.5703" y2="153.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="210.5" y1="149.5703" y2="149.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="34.5" y="144.7139">Click on Remove Cart button</text><line style="stroke:#A80036;stroke-width:1.0;" x1="764.5" x2="754.5" y1="179.9219" y2="175.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="764.5" x2="754.5" y1="179.9219" y2="183.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="221.5" x2="765.5" y1="179.9219" y2="179.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="228.5" y="175.0654">GET /RemoveCartController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="776.5" x2="818.5" y1="210.2734" y2="210.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="818.5" x2="818.5" y1="210.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="777.5" x2="818.5" y1="223.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="777.5" x2="787.5" y1="223.2734" y2="219.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="777.5" x2="787.5" y1="223.2734" y2="227.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="783.5" y="205.417">Context.lookup(String name): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1514.5" x2="1504.5" y1="253.625" y2="249.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1514.5" x2="1504.5" y1="253.625" y2="257.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="776.5" x2="1515.5" y1="253.625" y2="253.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="721" x="783.5" y="248.7686">protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1526.5" x2="1568.5" y1="283.9766" y2="283.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1568.5" x2="1568.5" y1="283.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1527.5" x2="1568.5" y1="296.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1527.5" x2="1537.5" y1="296.9766" y2="292.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1527.5" x2="1537.5" y1="296.9766" y2="300.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1533.5" y="279.1201">isLogin(HttpServletRequest request): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1526.5" x2="1568.5" y1="327.3281" y2="327.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1568.5" x2="1568.5" y1="327.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1527.5" x2="1568.5" y1="340.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1527.5" x2="1537.5" y1="340.3281" y2="336.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1527.5" x2="1537.5" y1="340.3281" y2="344.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435" x="1533.5" y="322.4717">correctRole(HttpServletRequest request, int minRole, int maxRole): boolean</text><path d="M162,355.3281 L223,355.3281 L223,363.3281 L213,373.3281 L162,373.3281 L162,355.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="411.8906" style="stroke:#000000;stroke-width:2.0;" width="1869.5" x="162" y="355.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="177" y="369.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73" x="238" y="368.7471">[return false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="776.5" x2="786.5" y1="396.0313" y2="392.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="776.5" x2="786.5" y1="396.0313" y2="400.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="776.5" x2="1515.5" y1="396.0313" y2="396.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="793.5" y="391.1748">forward login.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="221.5" x2="231.5" y1="426.3828" y2="422.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="221.5" x2="231.5" y1="426.3828" y2="430.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="221.5" x2="765.5" y1="426.3828" y2="426.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="238.5" y="421.5264">forward login.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="162" x2="2031.5" y1="435.3828" y2="435.3828"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="167" y="446.8018">[return true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="776.5" x2="786.5" y1="472.5703" y2="468.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="776.5" x2="786.5" y1="472.5703" y2="476.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="776.5" x2="1520.5" y1="472.5703" y2="472.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="793.5" y="467.7139">return true</text><line style="stroke:#A80036;stroke-width:1.0;" x1="416.5" x2="426.5" y1="502.9219" y2="498.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="416.5" x2="426.5" y1="502.9219" y2="506.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="416.5" x2="770.5" y1="502.9219" y2="502.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="433.5" y="498.0654">doFilter(ServletRequest arg0, ServletResponse arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1973.5" x2="1963.5" y1="533.2734" y2="529.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1973.5" x2="1963.5" y1="533.2734" y2="537.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="416.5" x2="1974.5" y1="533.2734" y2="533.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="496" x="423.5" y="528.417">getIntegerArrayParams(HttpServletRequest request, String field, String label): Integer[]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="416.5" x2="426.5" y1="563.625" y2="559.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="416.5" x2="426.5" y1="563.625" y2="567.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="416.5" x2="1979.5" y1="563.625" y2="563.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="433.5" y="558.7686">return Integer[] bookingInfoIds</text><path d="M172,578.625 L233,578.625 L233,586.625 L223,596.625 L172,596.625 L172,578.625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="181.5938" style="stroke:#000000;stroke-width:2.0;" width="581.5" x="172" y="578.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="187" y="593.1201">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="129" x="248" y="592.0439">[invalid bookingInfoIds]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="221.5" x2="231.5" y1="619.3281" y2="615.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="221.5" x2="231.5" y1="619.3281" y2="623.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="221.5" x2="405.5" y1="619.3281" y2="619.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="238.5" y="614.4717">forward viewBookingCart.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="172" x2="753.5" y1="628.3281" y2="628.3281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="119" x="177" y="639.7471">[valid bookingInfoIds]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="416.5" x2="458.5" y1="665.5156" y2="665.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="458.5" x2="458.5" y1="665.5156" y2="678.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="417.5" x2="458.5" y1="678.5156" y2="678.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="417.5" x2="427.5" y1="678.5156" y2="674.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="417.5" x2="427.5" y1="678.5156" y2="682.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="423.5" y="660.6592">HttpSession.getAttribute(String arg0): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="416.5" x2="458.5" y1="708.8672" y2="708.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="458.5" x2="458.5" y1="708.8672" y2="721.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="417.5" x2="458.5" y1="721.8672" y2="721.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="417.5" x2="427.5" y1="721.8672" y2="717.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="417.5" x2="427.5" y1="721.8672" y2="725.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318" x="423.5" y="704.0107">HttpSession.setAttribute(String arg0, Object arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="752.2188" y2="748.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="752.2188" y2="756.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="216.5" x2="410.5" y1="752.2188" y2="752.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="233.5" y="747.3623">forward viewBookingCart.jsp</text><!--MD5=[e67f74cd6c69d73f7e335fa6709ccf86]
@startuml removeCart

hide footbox
mainframe <b>sd</b> Remove Cart
actor User
participant "Browser" as Browser
participant ":RemoveCartController" as RemoveCartController
participant ":CustomerRoleFilter" as CustomerRoleFilter
participant "Helper" as Helper
participant "GetParam" as GetParam

User ->> Browser: Click on Remove Cart button
activate Browser

Browser ->> CustomerRoleFilter: GET /RemoveCartController
activate CustomerRoleFilter
CustomerRoleFilter ->> CustomerRoleFilter: Context.lookup(String name): Object
CustomerRoleFilter ->> Helper: protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean
activate Helper
Helper ->> Helper: isLogin(HttpServletRequest request): boolean
Helper ->> Helper: correctRole(HttpServletRequest request, int minRole, int maxRole): boolean
alt return false 
    Helper - ->> CustomerRoleFilter: forward login.jsp
    CustomerRoleFilter - ->> Browser: forward login.jsp
else return true
    Helper - ->> CustomerRoleFilter: return true
    deactivate Helper
    CustomerRoleFilter - ->> RemoveCartController: doFilter(ServletRequest arg0, ServletResponse arg1): void
    deactivate CustomerRoleFilter
    activate RemoveCartController
    RemoveCartController ->> GetParam: getIntegerArrayParams(HttpServletRequest request, String field, String label): Integer[]
    activate GetParam
    GetParam - ->> RemoveCartController: return Integer[] bookingInfoIds
    deactivate GetParam
    alt invalid bookingInfoIds
        RemoveCartController - ->> Browser: forward viewBookingCart.jsp
    else valid bookingInfoIds
        RemoveCartController ->> RemoveCartController: HttpSession.getAttribute(String arg0): Object
        RemoveCartController ->> RemoveCartController: HttpSession.setAttribute(String arg0, Object arg1): void
        RemoveCartController - ->> Browser: forward viewBookingCart.jsp
        deactivate RemoveCartController
        deactivate Browser
    end
end
@enduml

PlantUML version 1.2021.00(Sun Jan 10 17:25:05 ICT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>