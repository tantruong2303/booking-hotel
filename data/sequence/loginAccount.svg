<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="843px" preserveAspectRatio="none" style="width:1326px;height:843px;background:#FFFFFF;" version="1.1" viewBox="0 0 1326 843" width="1326px" zoomAndPan="magnify"><defs><filter height="300%" id="f1lk9jj529uve1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1lk9jj529uve1)" height="826.7578" style="stroke:#000000;stroke-width:1.0;" width="1309.5" x="5" y="5"/><path d="M126,5 L126,15.6094 L116,25.6094 L5,25.6094 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="17" x="8" y="20.5332">sd</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="29" y="20.5332">Login Account</text><rect fill="#FFFFFF" filter="url(#f1lk9jj529uve1)" height="635.1875" style="stroke:#A80036;stroke-width:1.0;" width="10" x="170.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#f1lk9jj529uve1)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="346.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#f1lk9jj529uve1)" height="513.7813" style="stroke:#A80036;stroke-width:1.0;" width="10" x="346.5" y="270.9766"/><rect fill="#FFFFFF" filter="url(#f1lk9jj529uve1)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1022.5" y="301.3281"/><rect fill="#FFFFFF" filter="url(#f1lk9jj529uve1)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1116" y="433.5703"/><rect fill="#FFFFFF" filter="url(#f1lk9jj529uve1)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1246" y="463.9219"/><rect fill="#FFFFFF" filter="url(#f1lk9jj529uve1)" height="460.0781" style="stroke:#000000;stroke-width:2.0;" width="1189.5" x="111" y="346.6797"/><rect fill="#FFFFFF" height="411.375" style="stroke:none;stroke-width:1.0;" width="1189.5" x="111" y="395.3828"/><rect fill="#FFFFFF" filter="url(#f1lk9jj529uve1)" height="260.1328" style="stroke:#000000;stroke-width:2.0;" width="748.5" x="121" y="539.625"/><rect fill="#FFFFFF" height="211.4297" style="stroke:none;stroke-width:1.0;" width="748.5" x="121" y="588.3281"/><rect fill="#FFFFFF" filter="url(#f1lk9jj529uve1)" height="138.2422" style="stroke:#000000;stroke-width:2.0;" width="562.5" x="131" y="654.5156"/><rect fill="#FFFFFF" height="89.5391" style="stroke:none;stroke-width:1.0;" width="562.5" x="131" y="703.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="117.2188" y2="823.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="175" x2="175" y1="117.2188" y2="823.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="351" x2="351" y1="117.2188" y2="823.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1027.5" x2="1027.5" y1="117.2188" y2="823.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1120.5" x2="1120.5" y1="117.2188" y2="823.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1250.5" x2="1250.5" y1="117.2188" y2="823.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="10" y="114.1426">User</text><ellipse cx="27.5" cy="42.6094" fill="#FEFECE" filter="url(#f1lk9jj529uve1)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M27.5,50.6094 L27.5,77.6094 M14.5,58.6094 L40.5,58.6094 M27.5,77.6094 L14.5,92.6094 M27.5,77.6094 L40.5,92.6094 " fill="none" filter="url(#f1lk9jj529uve1)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1lk9jj529uve1)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="65" x="141" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="148" y="102.1426">Browser</text><rect fill="#FEFECE" filter="url(#f1lk9jj529uve1)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="115" x="292" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="299" y="102.1426">:LoginController</text><rect fill="#FEFECE" filter="url(#f1lk9jj529uve1)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="82" x="984.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="991.5" y="102.1426">:GetParam</text><rect fill="#FEFECE" filter="url(#f1lk9jj529uve1)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="77" x="1080.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1087.5" y="102.1426">:UserDAO</text><rect fill="#FEFECE" filter="url(#f1lk9jj529uve1)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="75" x="1211.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1218.5" y="102.1426">Database</text><rect fill="#FFFFFF" filter="url(#f1lk9jj529uve1)" height="635.1875" style="stroke:#A80036;stroke-width:1.0;" width="10" x="170.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#f1lk9jj529uve1)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="346.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#f1lk9jj529uve1)" height="513.7813" style="stroke:#A80036;stroke-width:1.0;" width="10" x="346.5" y="270.9766"/><rect fill="#FFFFFF" filter="url(#f1lk9jj529uve1)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1022.5" y="301.3281"/><rect fill="#FFFFFF" filter="url(#f1lk9jj529uve1)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1116" y="433.5703"/><rect fill="#FFFFFF" filter="url(#f1lk9jj529uve1)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1246" y="463.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="168.5" x2="158.5" y1="149.5703" y2="145.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="168.5" x2="158.5" y1="149.5703" y2="153.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="169.5" y1="149.5703" y2="149.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="34.5" y="144.7139">Click on login link</text><line style="stroke:#A80036;stroke-width:1.0;" x1="344.5" x2="334.5" y1="179.9219" y2="175.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="344.5" x2="334.5" y1="179.9219" y2="183.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="180.5" x2="345.5" y1="179.9219" y2="179.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="187.5" y="175.0654">GET /LoginController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="180.5" x2="190.5" y1="210.2734" y2="206.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="180.5" x2="190.5" y1="210.2734" y2="214.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="180.5" x2="350.5" y1="210.2734" y2="210.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="197.5" y="205.417">forward login.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="168.5" x2="158.5" y1="240.625" y2="236.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="168.5" x2="158.5" y1="240.625" y2="244.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="169.5" y1="240.625" y2="240.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="34.5" y="235.7686">Submit on login form</text><line style="stroke:#A80036;stroke-width:1.0;" x1="344.5" x2="334.5" y1="270.9766" y2="266.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="344.5" x2="334.5" y1="270.9766" y2="274.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="180.5" x2="345.5" y1="270.9766" y2="270.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="187.5" y="266.1201">POST /LoginController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1020.5" x2="1010.5" y1="301.3281" y2="297.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1020.5" x2="1010.5" y1="301.3281" y2="305.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="356.5" x2="1021.5" y1="301.3281" y2="301.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="647" x="363.5" y="296.4717">getStringParam(HttpServletRequest request, String field, String label, int min, int max,String defaultValue):String</text><line style="stroke:#A80036;stroke-width:1.0;" x1="356.5" x2="366.5" y1="331.6797" y2="327.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="356.5" x2="366.5" y1="331.6797" y2="335.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="356.5" x2="1026.5" y1="331.6797" y2="331.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="373.5" y="326.8232">return username, password</text><path d="M111,346.6797 L172,346.6797 L172,354.6797 L162,364.6797 L111,364.6797 L111,346.6797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="460.0781" style="stroke:#000000;stroke-width:2.0;" width="1189.5" x="111" y="346.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="126" y="361.1748">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="187" y="360.0986">[invalid data]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="180.5" x2="190.5" y1="387.3828" y2="383.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="180.5" x2="190.5" y1="387.3828" y2="391.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="180.5" x2="345.5" y1="387.3828" y2="387.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="197.5" y="382.5264">forward login.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="111" x2="1300.5" y1="396.3828" y2="396.3828"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="59" x="116" y="407.8018">[valid data]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1114" x2="1104" y1="433.5703" y2="429.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1114" x2="1104" y1="433.5703" y2="437.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="356.5" x2="1115" y1="433.5703" y2="433.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="363.5" y="428.7139">getOneUserByUsername(String username): User</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1244" x2="1234" y1="463.9219" y2="459.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1244" x2="1234" y1="463.9219" y2="467.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1126" x2="1245" y1="463.9219" y2="463.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="1133" y="459.0654">executeQuery()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1126" x2="1136" y1="494.2734" y2="490.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1126" x2="1136" y1="494.2734" y2="498.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1126" x2="1250" y1="494.2734" y2="494.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="1143" y="489.417">Return result set</text><line style="stroke:#A80036;stroke-width:1.0;" x1="356.5" x2="366.5" y1="524.625" y2="520.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="356.5" x2="366.5" y1="524.625" y2="528.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="356.5" x2="1120" y1="524.625" y2="524.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="373.5" y="519.7686">User</text><path d="M121,539.625 L182,539.625 L182,547.625 L172,557.625 L121,557.625 L121,539.625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="260.1328" style="stroke:#000000;stroke-width:2.0;" width="748.5" x="121" y="539.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="136" y="554.1201">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="90" x="197" y="553.0439">[Not found user]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="180.5" x2="190.5" y1="580.3281" y2="576.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="180.5" x2="190.5" y1="580.3281" y2="584.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="180.5" x2="345.5" y1="580.3281" y2="580.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="197.5" y="575.4717">forward login.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="121" x2="869.5" y1="589.3281" y2="589.3281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="71" x="126" y="600.7471">[Found user]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="356.5" x2="398.5" y1="626.5156" y2="626.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="398.5" x2="398.5" y1="626.5156" y2="639.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="357.5" x2="398.5" y1="639.5156" y2="639.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="357.5" x2="367.5" y1="639.5156" y2="635.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="357.5" x2="367.5" y1="639.5156" y2="643.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="494" x="363.5" y="621.6592">comparePassword(String inputPassword, String databasePassword, int key): boolean</text><path d="M131,654.5156 L192,654.5156 L192,662.5156 L182,672.5156 L131,672.5156 L131,654.5156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="138.2422" style="stroke:#000000;stroke-width:2.0;" width="562.5" x="131" y="654.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="146" y="669.0107">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="117" x="207" y="667.9346">[Incorrect password]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="180.5" x2="190.5" y1="695.2188" y2="691.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="180.5" x2="190.5" y1="695.2188" y2="699.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="180.5" x2="345.5" y1="695.2188" y2="695.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="197.5" y="690.3623">forward login.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="131" x2="693.5" y1="704.2188" y2="704.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="109" x="136" y="715.6377">[Correct password]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="356.5" x2="398.5" y1="741.4063" y2="741.4063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="398.5" x2="398.5" y1="741.4063" y2="754.4063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="357.5" x2="398.5" y1="754.4063" y2="754.4063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="357.5" x2="367.5" y1="754.4063" y2="750.4063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="357.5" x2="367.5" y1="754.4063" y2="758.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318" x="363.5" y="736.5498">HttpSession.setAttribute(String arg0, Object arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="175.5" x2="185.5" y1="784.7578" y2="780.7578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="175.5" x2="185.5" y1="784.7578" y2="788.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="175.5" x2="350.5" y1="784.7578" y2="784.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="192.5" y="779.9014">Redirect /IndexController</text><!--MD5=[bcb3bfef8a2d1083e0d27a9ed7f9e320]
@startuml loginAccount

hide footbox
mainframe <b>sd</b> Login Account
actor User
participant "Browser" as Browser
participant ":LoginController" as LoginController
participant ":GetParam" as GetParam
participant ":UserDAO" as UserDao
participant "Database" as DB


User ->> Browser: Click on login link
activate Browser

Browser ->> LoginController: GET /LoginController
activate LoginController
LoginController - ->> Browser: forward login.jsp
deactivate LoginController



User ->> Browser: Submit on login form
    Browser ->> LoginController: POST /LoginController
    activate LoginController
    LoginController ->> GetParam: getStringParam(HttpServletRequest request, String field, String label, int min, int max,String defaultValue):String
    activate GetParam
    GetParam - ->> LoginController: return username, password
    deactivate GetParam
alt invalid data
    LoginController - ->> Browser: forward login.jsp
else valid data
    LoginController ->> UserDao: getOneUserByUsername(String username): User
    activate UserDao
    UserDao ->> DB: executeQuery()
    activate DB
    DB - ->> UserDao: Return result set
    deactivate DB
    UserDao - ->> LoginController: User
    deactivate UserDao
    deactivate GetParam
    alt Not found user
        LoginController - ->> Browser: forward login.jsp
    else Found user
        LoginController ->> LoginController: comparePassword(String inputPassword, String databasePassword, int key): boolean
        alt Incorrect password
            LoginController - ->> Browser: forward login.jsp
        else Correct password
            LoginController ->> LoginController: HttpSession.setAttribute(String arg0, Object arg1): void
            LoginController - ->> Browser: Redirect /IndexController 
            deactivate LoginController
            deactivate Browser
        end
    end       
end
@enduml

PlantUML version 1.2021.7(Sun May 23 19:40:07 ICT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>