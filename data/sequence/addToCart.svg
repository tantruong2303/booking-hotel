<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2807px" preserveAspectRatio="none" style="width:2335px;height:2807px;" version="1.1" viewBox="0 0 2335 2807" width="2335px" zoomAndPan="magnify"><defs><filter height="300%" id="f1u3hr5qchf9xg" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="2790.4844" style="stroke:#000000;stroke-width:1.0;" width="2318.5" x="5" y="5"/><path d="M113,5 L113,15.6094 L103,25.6094 L5,25.6094 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="17" x="8" y="20.5332">sd</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="29" y="20.5332">Add To Cart</text><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="945.1875" style="stroke:#A80036;stroke-width:1.0;" width="10" x="206.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="1567.375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="206.5" y="1153.1094"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="591.8359" style="stroke:#A80036;stroke-width:1.0;" width="10" x="445.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="1214.0234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="445.5" y="1506.4609"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="323" style="stroke:#A80036;stroke-width:1.0;" width="10" x="827.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="323" style="stroke:#A80036;stroke-width:1.0;" width="10" x="827.5" y="1183.4609"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1101.5" y="533.2734"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1101.5" y="1536.8125"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1193.5" y="1729.7578"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1287" y="665.5156"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1287" y="2054.9453"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1287" y="2440.8359"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1390" y="858.4609"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1489" y="1862"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1602.5" y="2247.8906"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1785.5" y="695.8672"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1785.5" y="888.8125"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1785.5" y="1892.3516"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1785.5" y="2085.2969"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1785.5" y="2278.2422"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1785.5" y="2471.1875"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1864.5" y="253.625"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1864.5" y="1257.1641"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="768.4297" style="stroke:#000000;stroke-width:2.0;" width="1772" x="137" y="355.3281"/><rect fill="#FFFFFF" height="689.375" style="stroke:none;stroke-width:1.0;" width="1772" x="137" y="434.3828"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="538.1328" style="stroke:#000000;stroke-width:2.0;" width="1703" x="147" y="578.625"/><rect fill="#FFFFFF" height="489.4297" style="stroke:none;stroke-width:1.0;" width="1703" x="147" y="627.3281"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="338.1875" style="stroke:#000000;stroke-width:2.0;" width="1683" x="157" y="771.5703"/><rect fill="#FFFFFF" height="289.4844" style="stroke:none;stroke-width:1.0;" width="1683" x="157" y="820.2734"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="138.2422" style="stroke:#000000;stroke-width:2.0;" width="665.5" x="167" y="964.5156"/><rect fill="#FFFFFF" height="89.5391" style="stroke:none;stroke-width:1.0;" width="665.5" x="167" y="1013.2188"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="1411.6172" style="stroke:#000000;stroke-width:2.0;" width="1802" x="107" y="1358.8672"/><rect fill="#FFFFFF" height="1332.5625" style="stroke:none;stroke-width:1.0;" width="1802" x="107" y="1437.9219"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="1120.6172" style="stroke:#000000;stroke-width:2.0;" width="1763" x="117" y="1642.8672"/><rect fill="#FFFFFF" height="1071.9141" style="stroke:none;stroke-width:1.0;" width="1763" x="117" y="1691.5703"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="981.375" style="stroke:#000000;stroke-width:2.0;" width="1743" x="127" y="1775.1094"/><rect fill="#FFFFFF" height="932.6719" style="stroke:none;stroke-width:1.0;" width="1743" x="127" y="1823.8125"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="781.4297" style="stroke:#000000;stroke-width:2.0;" width="1723" x="137" y="1968.0547"/><rect fill="#FFFFFF" height="732.7266" style="stroke:none;stroke-width:1.0;" width="1723" x="137" y="2016.7578"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="581.4844" style="stroke:#000000;stroke-width:2.0;" width="1703" x="147" y="2161"/><rect fill="#FFFFFF" height="532.7813" style="stroke:none;stroke-width:1.0;" width="1703" x="147" y="2209.7031"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="381.5391" style="stroke:#000000;stroke-width:2.0;" width="1683" x="157" y="2353.9453"/><rect fill="#FFFFFF" height="332.8359" style="stroke:none;stroke-width:1.0;" width="1683" x="157" y="2402.6484"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="181.5938" style="stroke:#000000;stroke-width:2.0;" width="625.5" x="167" y="2546.8906"/><rect fill="#FFFFFF" height="132.8906" style="stroke:none;stroke-width:1.0;" width="625.5" x="167" y="2595.5938"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="117.2188" y2="2787.4844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="211" x2="211" y1="117.2188" y2="2787.4844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="450" x2="450" y1="117.2188" y2="2787.4844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="832.5" x2="832.5" y1="117.2188" y2="2787.4844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1106.5" x2="1106.5" y1="117.2188" y2="2787.4844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1198.5" x2="1198.5" y1="117.2188" y2="2787.4844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1291.5" x2="1291.5" y1="117.2188" y2="2787.4844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1394.5" x2="1394.5" y1="117.2188" y2="2787.4844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1493.5" x2="1493.5" y1="117.2188" y2="2787.4844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1607.5" x2="1607.5" y1="117.2188" y2="2787.4844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1790" x2="1790" y1="117.2188" y2="2787.4844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1869" x2="1869" y1="117.2188" y2="2787.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="10" y="114.1426">User</text><ellipse cx="27.5" cy="42.6094" fill="#FEFECE" filter="url(#f1u3hr5qchf9xg)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M27.5,50.6094 L27.5,77.6094 M14.5,58.6094 L40.5,58.6094 M27.5,77.6094 L14.5,92.6094 M27.5,77.6094 L40.5,92.6094 " fill="none" filter="url(#f1u3hr5qchf9xg)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1u3hr5qchf9xg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="65" x="177" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="184" y="102.1426">Browser</text><rect fill="#FEFECE" filter="url(#f1u3hr5qchf9xg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="149" x="374" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="381" y="102.1426">:AddToCartController</text><rect fill="#FEFECE" filter="url(#f1u3hr5qchf9xg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="140" x="760.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="767.5" y="102.1426">:CustomerRoleFilter</text><rect fill="#FEFECE" filter="url(#f1u3hr5qchf9xg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="82" x="1063.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1070.5" y="102.1426">:GetParam</text><rect fill="#FEFECE" filter="url(#f1u3hr5qchf9xg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="74" x="1159.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1166.5" y="102.1426">:Validator</text><rect fill="#FEFECE" filter="url(#f1u3hr5qchf9xg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="85" x="1247.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="1254.5" y="102.1426">:RoomDAO</text><rect fill="#FEFECE" filter="url(#f1u3hr5qchf9xg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="1346.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1353.5" y="102.1426">:ReviewDAO</text><rect fill="#FEFECE" filter="url(#f1u3hr5qchf9xg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="77" x="1453.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1460.5" y="102.1426">:UserDAO</text><rect fill="#FEFECE" filter="url(#f1u3hr5qchf9xg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="122" x="1544.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1551.5" y="102.1426">:BookingInfoDAO</text><rect fill="#FEFECE" filter="url(#f1u3hr5qchf9xg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="75" x="1751" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1758" y="102.1426">Database</text><rect fill="#FEFECE" filter="url(#f1u3hr5qchf9xg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="55" x="1840" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="1847" y="102.1426">Helper</text><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="945.1875" style="stroke:#A80036;stroke-width:1.0;" width="10" x="206.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="1567.375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="206.5" y="1153.1094"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="591.8359" style="stroke:#A80036;stroke-width:1.0;" width="10" x="445.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="1214.0234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="445.5" y="1506.4609"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="323" style="stroke:#A80036;stroke-width:1.0;" width="10" x="827.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="323" style="stroke:#A80036;stroke-width:1.0;" width="10" x="827.5" y="1183.4609"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1101.5" y="533.2734"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1101.5" y="1536.8125"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1193.5" y="1729.7578"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1287" y="665.5156"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1287" y="2054.9453"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1287" y="2440.8359"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1390" y="858.4609"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1489" y="1862"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1602.5" y="2247.8906"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1785.5" y="695.8672"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1785.5" y="888.8125"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1785.5" y="1892.3516"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1785.5" y="2085.2969"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1785.5" y="2278.2422"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1785.5" y="2471.1875"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1864.5" y="253.625"/><rect fill="#FFFFFF" filter="url(#f1u3hr5qchf9xg)" height="218.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1864.5" y="1257.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204.5" x2="194.5" y1="149.5703" y2="145.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204.5" x2="194.5" y1="149.5703" y2="153.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="205.5" y1="149.5703" y2="149.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="34.5" y="144.7139">Click on Add To Cart button</text><line style="stroke:#A80036;stroke-width:1.0;" x1="825.5" x2="815.5" y1="179.9219" y2="175.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="825.5" x2="815.5" y1="179.9219" y2="183.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="826.5" y1="179.9219" y2="179.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="223.5" y="175.0654">GET /AddToCartController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="837.5" x2="879.5" y1="210.2734" y2="210.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="879.5" x2="879.5" y1="210.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="838.5" x2="879.5" y1="223.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="838.5" x2="848.5" y1="223.2734" y2="219.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="838.5" x2="848.5" y1="223.2734" y2="227.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="844.5" y="205.417">Context.lookup(String name): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1862.5" x2="1852.5" y1="253.625" y2="249.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1862.5" x2="1852.5" y1="253.625" y2="257.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="837.5" x2="1863.5" y1="253.625" y2="253.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="721" x="844.5" y="248.7686">protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1874.5" x2="1916.5" y1="283.9766" y2="283.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1916.5" x2="1916.5" y1="283.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1875.5" x2="1916.5" y1="296.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1875.5" x2="1885.5" y1="296.9766" y2="292.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1875.5" x2="1885.5" y1="296.9766" y2="300.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1881.5" y="279.1201">isLogin(HttpServletRequest request): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1874.5" x2="1916.5" y1="327.3281" y2="327.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1916.5" x2="1916.5" y1="327.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1875.5" x2="1916.5" y1="340.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1875.5" x2="1885.5" y1="340.3281" y2="336.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1875.5" x2="1885.5" y1="340.3281" y2="344.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435" x="1881.5" y="322.4717">correctRole(HttpServletRequest request, int minRole, int maxRole): boolean</text><path d="M137,355.3281 L198,355.3281 L198,363.3281 L188,373.3281 L137,373.3281 L137,355.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="768.4297" style="stroke:#000000;stroke-width:2.0;" width="1772" x="137" y="355.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="152" y="369.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73" x="213" y="368.7471">[return false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="837.5" x2="847.5" y1="396.0313" y2="392.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="837.5" x2="847.5" y1="396.0313" y2="400.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="837.5" x2="1863.5" y1="396.0313" y2="396.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="854.5" y="391.1748">forward login.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="426.3828" y2="422.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="426.3828" y2="430.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="216.5" x2="826.5" y1="426.3828" y2="426.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="233.5" y="421.5264">forward login.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="137" x2="1909" y1="435.3828" y2="435.3828"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="142" y="446.8018">[return true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="837.5" x2="847.5" y1="472.5703" y2="468.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="837.5" x2="847.5" y1="472.5703" y2="476.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="837.5" x2="1868.5" y1="472.5703" y2="472.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="854.5" y="467.7139">return true</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="502.9219" y2="498.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="502.9219" y2="506.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455.5" x2="831.5" y1="502.9219" y2="502.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="472.5" y="498.0654">doFilter(ServletRequest arg0, ServletResponse arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1099.5" x2="1089.5" y1="533.2734" y2="529.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1099.5" x2="1089.5" y1="533.2734" y2="537.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="1100.5" y1="533.2734" y2="533.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="627" x="462.5" y="528.417">getIntParams(HttpServletRequest request, String field, String label, int min, int max, int defaultValue): Integer</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="563.625" y2="559.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="563.625" y2="567.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455.5" x2="1105.5" y1="563.625" y2="563.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="472.5" y="558.7686">return Integer roomId</text><path d="M147,578.625 L208,578.625 L208,586.625 L198,596.625 L147,596.625 L147,578.625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="538.1328" style="stroke:#000000;stroke-width:2.0;" width="1703" x="147" y="578.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="162" y="593.1201">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="223" y="592.0439">[invalid data]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="619.3281" y2="615.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="619.3281" y2="623.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="216.5" x2="444.5" y1="619.3281" y2="619.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="233.5" y="614.4717">forward index.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="147" x2="1850" y1="628.3281" y2="628.3281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="59" x="152" y="639.7471">[valid data]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1285" x2="1275" y1="665.5156" y2="661.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1285" x2="1275" y1="665.5156" y2="669.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="1286" y1="665.5156" y2="665.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="462.5" y="660.6592">getRoomById(int roomId): Room</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1783.5" x2="1773.5" y1="695.8672" y2="691.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1783.5" x2="1773.5" y1="695.8672" y2="699.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1297" x2="1784.5" y1="695.8672" y2="695.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1304" y="691.0107">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1297" x2="1307" y1="726.2188" y2="722.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1297" x2="1307" y1="726.2188" y2="730.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1297" x2="1789.5" y1="726.2188" y2="726.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1314" y="721.3623">return ResultSet rs</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="756.5703" y2="752.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="756.5703" y2="760.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455.5" x2="1291" y1="756.5703" y2="756.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="472.5" y="751.7139">return Room room</text><path d="M157,771.5703 L218,771.5703 L218,779.5703 L208,789.5703 L157,789.5703 L157,771.5703 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="338.1875" style="stroke:#000000;stroke-width:2.0;" width="1683" x="157" y="771.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="172" y="786.0654">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="76" x="233" y="784.9893">[invalid room]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="812.2734" y2="808.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="812.2734" y2="816.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="216.5" x2="444.5" y1="812.2734" y2="812.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="233.5" y="807.417">forward index.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="157" x2="1840" y1="821.2734" y2="821.2734"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="66" x="162" y="832.6924">[valid room]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1388" x2="1378" y1="858.4609" y2="854.4609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1388" x2="1378" y1="858.4609" y2="862.4609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="1389" y1="858.4609" y2="858.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="462.5" y="853.6045">getReviewByRoomId(int roomId): ArrayList&lt;Review&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1783.5" x2="1773.5" y1="888.8125" y2="884.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1783.5" x2="1773.5" y1="888.8125" y2="892.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1400" x2="1784.5" y1="888.8125" y2="888.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1407" y="883.9561">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1400" x2="1410" y1="919.1641" y2="915.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1400" x2="1410" y1="919.1641" y2="923.1641"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1400" x2="1789.5" y1="919.1641" y2="919.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1417" y="914.3076">return ResultSet rs</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="949.5156" y2="945.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="949.5156" y2="953.5156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455.5" x2="1394" y1="949.5156" y2="949.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="472.5" y="944.6592">return ArrayList&lt;Review&gt; reviews</text><path d="M167,964.5156 L228,964.5156 L228,972.5156 L218,982.5156 L167,982.5156 L167,964.5156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="138.2422" style="stroke:#000000;stroke-width:2.0;" width="665.5" x="167" y="964.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="182" y="979.0107">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91" x="243" y="977.9346">[invalid reviews]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="1005.2188" y2="1001.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="1005.2188" y2="1009.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="216.5" x2="444.5" y1="1005.2188" y2="1005.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="233.5" y="1000.3623">forward index.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="167" x2="832.5" y1="1014.2188" y2="1014.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="81" x="172" y="1025.6377">[valid reviews]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="497.5" y1="1051.4063" y2="1051.4063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="497.5" x2="497.5" y1="1051.4063" y2="1064.4063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="456.5" x2="497.5" y1="1064.4063" y2="1064.4063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="456.5" x2="466.5" y1="1064.4063" y2="1060.4063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="456.5" x2="466.5" y1="1064.4063" y2="1068.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="358" x="462.5" y="1046.5498">HttpServletRequest.setAttribute(String arg0, Object arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="211.5" x2="221.5" y1="1094.7578" y2="1090.7578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="211.5" x2="221.5" y1="1094.7578" y2="1098.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="211.5" x2="449.5" y1="1094.7578" y2="1094.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="228.5" y="1089.9014">forward addToCart.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="204.5" x2="194.5" y1="1153.1094" y2="1149.1094"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204.5" x2="194.5" y1="1153.1094" y2="1157.1094"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="205.5" y1="1153.1094" y2="1153.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="34.5" y="1148.2529">Submit addToCart form</text><line style="stroke:#A80036;stroke-width:1.0;" x1="825.5" x2="815.5" y1="1183.4609" y2="1179.4609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="825.5" x2="815.5" y1="1183.4609" y2="1187.4609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="826.5" y1="1183.4609" y2="1183.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="223.5" y="1178.6045">POST /AddToCartController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="837.5" x2="879.5" y1="1213.8125" y2="1213.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="879.5" x2="879.5" y1="1213.8125" y2="1226.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="838.5" x2="879.5" y1="1226.8125" y2="1226.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="838.5" x2="848.5" y1="1226.8125" y2="1222.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="838.5" x2="848.5" y1="1226.8125" y2="1230.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="844.5" y="1208.9561">Context.lookup(String name): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1862.5" x2="1852.5" y1="1257.1641" y2="1253.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1862.5" x2="1852.5" y1="1257.1641" y2="1261.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="837.5" x2="1863.5" y1="1257.1641" y2="1257.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="721" x="844.5" y="1252.3076">protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1874.5" x2="1916.5" y1="1287.5156" y2="1287.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1916.5" x2="1916.5" y1="1287.5156" y2="1300.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1875.5" x2="1916.5" y1="1300.5156" y2="1300.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1875.5" x2="1885.5" y1="1300.5156" y2="1296.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1875.5" x2="1885.5" y1="1300.5156" y2="1304.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1881.5" y="1282.6592">isLogin(HttpServletRequest request): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1874.5" x2="1916.5" y1="1330.8672" y2="1330.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1916.5" x2="1916.5" y1="1330.8672" y2="1343.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1875.5" x2="1916.5" y1="1343.8672" y2="1343.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1875.5" x2="1885.5" y1="1343.8672" y2="1339.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1875.5" x2="1885.5" y1="1343.8672" y2="1347.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435" x="1881.5" y="1326.0107">correctRole(HttpServletRequest request, int minRole, int maxRole): boolean</text><path d="M107,1358.8672 L168,1358.8672 L168,1366.8672 L158,1376.8672 L107,1376.8672 L107,1358.8672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1411.6172" style="stroke:#000000;stroke-width:2.0;" width="1802" x="107" y="1358.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="122" y="1373.3623">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73" x="183" y="1372.2861">[return false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="837.5" x2="847.5" y1="1399.5703" y2="1395.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="837.5" x2="847.5" y1="1399.5703" y2="1403.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="837.5" x2="1863.5" y1="1399.5703" y2="1399.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="854.5" y="1394.7139">forward login.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="1429.9219" y2="1425.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="1429.9219" y2="1433.9219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="216.5" x2="826.5" y1="1429.9219" y2="1429.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="233.5" y="1425.0654">forward login.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="107" x2="1909" y1="1438.9219" y2="1438.9219"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="112" y="1450.3408">[return true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="837.5" x2="847.5" y1="1476.1094" y2="1472.1094"/><line style="stroke:#A80036;stroke-width:1.0;" x1="837.5" x2="847.5" y1="1476.1094" y2="1480.1094"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="837.5" x2="1868.5" y1="1476.1094" y2="1476.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="854.5" y="1471.2529">return true</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="1506.4609" y2="1502.4609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="1506.4609" y2="1510.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455.5" x2="831.5" y1="1506.4609" y2="1506.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="472.5" y="1501.6045">doFilter(ServletRequest arg0, ServletResponse arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1099.5" x2="1089.5" y1="1536.8125" y2="1532.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1099.5" x2="1089.5" y1="1536.8125" y2="1540.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="1100.5" y1="1536.8125" y2="1536.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="627" x="462.5" y="1531.9561">getIntParams(HttpServletRequest request, String field, String label, int min, int max, int defaultValue): Integer</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="1567.1641" y2="1563.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="1567.1641" y2="1571.1641"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455.5" x2="1100.5" y1="1567.1641" y2="1567.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="472.5" y="1562.3076">return Integer roomId</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1099.5" x2="1089.5" y1="1597.5156" y2="1593.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1099.5" x2="1089.5" y1="1597.5156" y2="1601.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="1100.5" y1="1597.5156" y2="1597.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="494" x="462.5" y="1592.6592">getDateFromNowToFuture(HttpServletRequest request, String field, String label): Date</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="1627.8672" y2="1623.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="1627.8672" y2="1631.8672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455.5" x2="1105.5" y1="1627.8672" y2="1627.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="472.5" y="1623.0107">return Date startDate, endDate</text><path d="M117,1642.8672 L178,1642.8672 L178,1650.8672 L168,1660.8672 L117,1660.8672 L117,1642.8672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1120.6172" style="stroke:#000000;stroke-width:2.0;" width="1763" x="117" y="1642.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="132" y="1657.3623">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="193" y="1656.2861">[invalid data]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="1683.5703" y2="1679.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="1683.5703" y2="1687.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="216.5" x2="444.5" y1="1683.5703" y2="1683.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="233.5" y="1678.7139">GET /AddToCartController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="117" x2="1880" y1="1692.5703" y2="1692.5703"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="59" x="122" y="1703.9893">[valid data]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1191.5" x2="1181.5" y1="1729.7578" y2="1725.7578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1191.5" x2="1181.5" y1="1729.7578" y2="1733.7578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="1192.5" y1="1729.7578" y2="1729.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="523" x="462.5" y="1724.9014">computeNumberOfDay(HttpServletRequest request, Date startDate, Date endDate): Integer</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="1760.1094" y2="1756.1094"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="1760.1094" y2="1764.1094"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455.5" x2="1197.5" y1="1760.1094" y2="1760.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="472.5" y="1755.2529">return Integer numberOfDay</text><path d="M127,1775.1094 L188,1775.1094 L188,1783.1094 L178,1793.1094 L127,1793.1094 L127,1775.1094 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="981.375" style="stroke:#000000;stroke-width:2.0;" width="1743" x="127" y="1775.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="142" y="1789.6045">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="121" x="203" y="1788.5283">[invalid numberOfDay]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="1815.8125" y2="1811.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="1815.8125" y2="1819.8125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="216.5" x2="444.5" y1="1815.8125" y2="1815.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="233.5" y="1810.9561">GET /AddToCartController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="127" x2="1870" y1="1824.8125" y2="1824.8125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="111" x="132" y="1836.2314">[valid numberOfDay]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1487" x2="1477" y1="1862" y2="1858"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1487" x2="1477" y1="1862" y2="1866"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="1488" y1="1862" y2="1862"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="462.5" y="1857.1436">getOneUserByUsername(String username): User</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1783.5" x2="1773.5" y1="1892.3516" y2="1888.3516"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1783.5" x2="1773.5" y1="1892.3516" y2="1896.3516"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1499" x2="1784.5" y1="1892.3516" y2="1892.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1506" y="1887.4951">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1499" x2="1509" y1="1922.7031" y2="1918.7031"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1499" x2="1509" y1="1922.7031" y2="1926.7031"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1499" x2="1789.5" y1="1922.7031" y2="1922.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1516" y="1917.8467">return ResultSet rs</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="1953.0547" y2="1949.0547"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="1953.0547" y2="1957.0547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455.5" x2="1493" y1="1953.0547" y2="1953.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="472.5" y="1948.1982">return User user</text><path d="M137,1968.0547 L198,1968.0547 L198,1976.0547 L188,1986.0547 L137,1986.0547 L137,1968.0547 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="781.4297" style="stroke:#000000;stroke-width:2.0;" width="1723" x="137" y="1968.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="152" y="1982.5498">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="72" x="213" y="1981.4736">[invalid user]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="2008.7578" y2="2004.7578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="2008.7578" y2="2012.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="216.5" x2="444.5" y1="2008.7578" y2="2008.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="233.5" y="2003.9014">Browser: GET /AddToCartController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="137" x2="1860" y1="2017.7578" y2="2017.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="62" x="142" y="2029.1768">[valid user]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1285" x2="1275" y1="2054.9453" y2="2050.9453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1285" x2="1275" y1="2054.9453" y2="2058.9453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="1286" y1="2054.9453" y2="2054.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="462.5" y="2050.0889">getRoomById(int roomId): Room</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1783.5" x2="1773.5" y1="2085.2969" y2="2081.2969"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1783.5" x2="1773.5" y1="2085.2969" y2="2089.2969"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1297" x2="1784.5" y1="2085.2969" y2="2085.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1304" y="2080.4404">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1297" x2="1307" y1="2115.6484" y2="2111.6484"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1297" x2="1307" y1="2115.6484" y2="2119.6484"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1297" x2="1789.5" y1="2115.6484" y2="2115.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1314" y="2110.792">return ResultSet rs</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="2146" y2="2142"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="2146" y2="2150"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455.5" x2="1291" y1="2146" y2="2146"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="472.5" y="2141.1436">return Room room</text><path d="M147,2161 L208,2161 L208,2169 L198,2179 L147,2179 L147,2161 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="581.4844" style="stroke:#000000;stroke-width:2.0;" width="1703" x="147" y="2161"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="162" y="2175.4951">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="76" x="223" y="2174.4189">[invalid room]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="2201.7031" y2="2197.7031"/><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="2201.7031" y2="2205.7031"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="216.5" x2="444.5" y1="2201.7031" y2="2201.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="233.5" y="2196.8467">Browser: GET /AddToCartController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="147" x2="1850" y1="2210.7031" y2="2210.7031"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="66" x="152" y="2222.1221">[valid room]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1600.5" x2="1590.5" y1="2247.8906" y2="2243.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1600.5" x2="1590.5" y1="2247.8906" y2="2251.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="1601.5" y1="2247.8906" y2="2247.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="404" x="462.5" y="2243.0342">getActiveBookingWithRoomId(Integer roomId): ArrayList&lt;BookingInfo&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1783.5" x2="1773.5" y1="2278.2422" y2="2274.2422"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1783.5" x2="1773.5" y1="2278.2422" y2="2282.2422"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1784.5" y1="2278.2422" y2="2278.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1619.5" y="2273.3857">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1622.5" y1="2308.5938" y2="2304.5938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1612.5" x2="1622.5" y1="2308.5938" y2="2312.5938"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1612.5" x2="1789.5" y1="2308.5938" y2="2308.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1629.5" y="2303.7373">return ResultSet rs</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="2338.9453" y2="2334.9453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="2338.9453" y2="2342.9453"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455.5" x2="1606.5" y1="2338.9453" y2="2338.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="472.5" y="2334.0889">return ArrayList&lt;BookingInfo&gt; bookings</text><path d="M157,2353.9453 L218,2353.9453 L218,2361.9453 L208,2371.9453 L157,2371.9453 L157,2353.9453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="381.5391" style="stroke:#000000;stroke-width:2.0;" width="1683" x="157" y="2353.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="172" y="2368.4404">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="98" x="233" y="2367.3643">[invalid bookings]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="2394.6484" y2="2390.6484"/><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="2394.6484" y2="2398.6484"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="216.5" x2="444.5" y1="2394.6484" y2="2394.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="233.5" y="2389.792">Browser: GET /AddToCartController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="157" x2="1840" y1="2403.6484" y2="2403.6484"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="88" x="162" y="2415.0674">[valid bookings]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1285" x2="1275" y1="2440.8359" y2="2436.8359"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1285" x2="1275" y1="2440.8359" y2="2444.8359"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="1286" y1="2440.8359" y2="2440.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="462.5" y="2435.9795">changeStatus(Integer roomId, Integer status): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1783.5" x2="1773.5" y1="2471.1875" y2="2467.1875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1783.5" x2="1773.5" y1="2471.1875" y2="2475.1875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1297" x2="1784.5" y1="2471.1875" y2="2471.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="1304" y="2466.3311">executeUpdate(): prepareStatement</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1297" x2="1307" y1="2501.5391" y2="2497.5391"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1297" x2="1307" y1="2501.5391" y2="2505.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1297" x2="1789.5" y1="2501.5391" y2="2501.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="1314" y="2496.6826">return int preStm.executeUpdate()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="2531.8906" y2="2527.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="465.5" y1="2531.8906" y2="2535.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455.5" x2="1291" y1="2531.8906" y2="2531.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="472.5" y="2527.0342">return boolean isSuccess</text><path d="M167,2546.8906 L228,2546.8906 L228,2554.8906 L218,2564.8906 L167,2564.8906 L167,2546.8906 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="181.5938" style="stroke:#000000;stroke-width:2.0;" width="625.5" x="167" y="2546.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="182" y="2561.3857">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104" x="243" y="2560.3096">[isSuccess = false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="2587.5938" y2="2583.5938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="216.5" x2="226.5" y1="2587.5938" y2="2591.5938"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="216.5" x2="444.5" y1="2587.5938" y2="2587.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="233.5" y="2582.7373">Browser: GET /AddToCartController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="167" x2="792.5" y1="2596.5938" y2="2596.5938"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="100" x="172" y="2608.0127">[isSuccess = true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="497.5" y1="2633.7813" y2="2633.7813"/><line style="stroke:#A80036;stroke-width:1.0;" x1="497.5" x2="497.5" y1="2633.7813" y2="2646.7813"/><line style="stroke:#A80036;stroke-width:1.0;" x1="456.5" x2="497.5" y1="2646.7813" y2="2646.7813"/><line style="stroke:#A80036;stroke-width:1.0;" x1="456.5" x2="466.5" y1="2646.7813" y2="2642.7813"/><line style="stroke:#A80036;stroke-width:1.0;" x1="456.5" x2="466.5" y1="2646.7813" y2="2650.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="462.5" y="2628.9248">HttpSession.getAttribute(String arg0): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="455.5" x2="497.5" y1="2677.1328" y2="2677.1328"/><line style="stroke:#A80036;stroke-width:1.0;" x1="497.5" x2="497.5" y1="2677.1328" y2="2690.1328"/><line style="stroke:#A80036;stroke-width:1.0;" x1="456.5" x2="497.5" y1="2690.1328" y2="2690.1328"/><line style="stroke:#A80036;stroke-width:1.0;" x1="456.5" x2="466.5" y1="2690.1328" y2="2686.1328"/><line style="stroke:#A80036;stroke-width:1.0;" x1="456.5" x2="466.5" y1="2690.1328" y2="2694.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318" x="462.5" y="2672.2764">HttpSession.setAttribute(String arg0, Object arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="211.5" x2="221.5" y1="2720.4844" y2="2716.4844"/><line style="stroke:#A80036;stroke-width:1.0;" x1="211.5" x2="221.5" y1="2720.4844" y2="2724.4844"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="211.5" x2="449.5" y1="2720.4844" y2="2720.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="228.5" y="2715.6279">Redirect /IndexController</text><!--MD5=[68a1ae4d75f718a7b089aeb26c8b8cfd]
@startuml addToCart

hide footbox
mainframe <b>sd</b> Add To Cart
actor User
participant "Browser" as Browser
participant ":AddToCartController" as AddToCartController
participant ":CustomerRoleFilter" as CustomerRoleFilter
participant ":GetParam" as GetParam
participant ":Validator" as Validator
participant ":RoomDAO" as RoomDAO
participant ":ReviewDAO" as ReviewDAO
participant ":UserDAO" as UserDAO
participant ":BookingInfoDAO" as BookingInfoDAO
participant "Database" as DB
participant "Helper" as Helper


User ->> Browser: Click on Add To Cart button
activate Browser

Browser ->> CustomerRoleFilter: GET /AddToCartController
activate CustomerRoleFilter
CustomerRoleFilter ->> CustomerRoleFilter: Context.lookup(String name): Object
CustomerRoleFilter ->> Helper: protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean
activate Helper
Helper ->> Helper: isLogin(HttpServletRequest request): boolean
Helper ->> Helper: correctRole(HttpServletRequest request, int minRole, int maxRole): boolean
alt return false 
    Helper - ->> CustomerRoleFilter: forward login.jsp
    CustomerRoleFilter - ->> Browser: forward login.jsp
else return true
    Helper - ->> CustomerRoleFilter: return true
    deactivate Helper
    CustomerRoleFilter - ->> AddToCartController: doFilter(ServletRequest arg0, ServletResponse arg1): void
    deactivate CustomerRoleFilter
    activate AddToCartController
    AddToCartController ->> GetParam: getIntParams(HttpServletRequest request, String field, String label, int min, int max, int defaultValue): Integer   
    activate GetParam
    GetParam - ->> AddToCartController: return Integer roomId
    deactivate GetParam
    alt invalid data
        AddToCartController - ->> Browser: forward index.jsp    
    else valid data
        AddToCartController ->> RoomDAO: getRoomById(int roomId): Room
        activate RoomDAO
        RoomDAO ->> DB: executeQuery(): ResultSet
        activate DB
        DB - ->> RoomDAO: return ResultSet rs
        deactivate DB
        RoomDAO - ->> AddToCartController: return Room room
        deactivate RoomDAO
        alt invalid room
            AddToCartController - ->> Browser: forward index.jsp
        else valid room
            AddToCartController ->> ReviewDAO: getReviewByRoomId(int roomId): ArrayList<Review>
            activate ReviewDAO
            ReviewDAO ->> DB: executeQuery(): ResultSet
            activate DB
            DB - ->> ReviewDAO: return ResultSet rs
            deactivate DB
            ReviewDAO - ->> AddToCartController: return ArrayList<Review> reviews
            deactivate ReviewDAO
            alt invalid reviews
                AddToCartController - ->> Browser: forward index.jsp
            else valid reviews
                AddToCartController ->> AddToCartController: HttpServletRequest.setAttribute(String arg0, Object arg1): void
                AddToCartController - ->> Browser: forward addToCart.jsp
                deactivate AddToCartController
                deactivate Browser
            end
        end
    end
end

User ->> Browser: Submit addToCart form
activate Browser

Browser ->> CustomerRoleFilter: POST /AddToCartController
activate CustomerRoleFilter
CustomerRoleFilter ->> CustomerRoleFilter: Context.lookup(String name): Object
CustomerRoleFilter ->> Helper: protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean
activate Helper
Helper ->> Helper: isLogin(HttpServletRequest request): boolean
Helper ->> Helper: correctRole(HttpServletRequest request, int minRole, int maxRole): boolean
alt return false 
    Helper - ->> CustomerRoleFilter: forward login.jsp
    CustomerRoleFilter - ->> Browser: forward login.jsp
else return true
    Helper - ->> CustomerRoleFilter: return true
    deactivate Helper
    CustomerRoleFilter - ->> AddToCartController: doFilter(ServletRequest arg0, ServletResponse arg1): void
    deactivate CustomerRoleFilter
    activate AddToCartController
        AddToCartController ->> GetParam: getIntParams(HttpServletRequest request, String field, String label, int min, int max, int defaultValue): Integer
        activate GetParam
        GetParam - ->> AddToCartController: return Integer roomId
        AddToCartController ->> GetParam: getDateFromNowToFuture(HttpServletRequest request, String field, String label): Date
        GetParam - ->> AddToCartController: return Date startDate, endDate
        deactivate GetParam
    alt invalid data
        AddToCartController - ->> Browser: GET /AddToCartController    
    else valid data
        AddToCartController ->> Validator: computeNumberOfDay(HttpServletRequest request, Date startDate, Date endDate): Integer
        activate Validator
        Validator - ->> AddToCartController: return Integer numberOfDay
        deactivate Validator
        alt invalid numberOfDay
            AddToCartController - ->> Browser: GET /AddToCartController    
        else valid numberOfDay
            AddToCartController ->> UserDAO: getOneUserByUsername(String username): User
            activate UserDAO
            UserDAO ->> DB: executeQuery(): ResultSet
            activate DB
            DB - ->> UserDAO: return ResultSet rs
            deactivate DB
            UserDAO - ->> AddToCartController: return User user
            deactivate UserDAO
            alt invalid user
                AddToCartController - ->> Browser: Browser: GET /AddToCartController
            else valid user
                AddToCartController ->> RoomDAO: getRoomById(int roomId): Room
                activate RoomDAO
                RoomDAO ->> DB: executeQuery(): ResultSet
                activate DB
                DB - ->> RoomDAO: return ResultSet rs
                deactivate DB
                RoomDAO - ->> AddToCartController: return Room room
                deactivate RoomDAO
                alt invalid room
                    AddToCartController - ->> Browser: Browser: GET /AddToCartController
                else valid room
                    AddToCartController ->> BookingInfoDAO: getActiveBookingWithRoomId(Integer roomId): ArrayList<BookingInfo>
                    activate BookingInfoDAO
                    BookingInfoDAO ->> DB: executeQuery(): ResultSet
                    activate DB
                    DB - ->> BookingInfoDAO: return ResultSet rs
                    deactivate DB
                    BookingInfoDAO - ->> AddToCartController: return ArrayList<BookingInfo> bookings
                    deactivate BookingInfoDAO
                    alt invalid bookings
                        AddToCartController - ->> Browser: Browser: GET /AddToCartController
                    else valid bookings
                        AddToCartController ->> RoomDAO: changeStatus(Integer roomId, Integer status): boolean
                        activate RoomDAO
                        RoomDAO ->> DB: executeUpdate(): prepareStatement 
                        activate DB
                        DB - ->> RoomDAO: return int preStm.executeUpdate()
                        deactivate DB
                        RoomDAO - ->> AddToCartController: return boolean isSuccess
                        deactivate RoomDAO
                        alt isSuccess = false
                            AddToCartController - ->> Browser: Browser: GET /AddToCartController
                        else isSuccess = true
                            AddToCartController ->> AddToCartController: HttpSession.getAttribute(String arg0): Object
                            AddToCartController ->> AddToCartController: HttpSession.setAttribute(String arg0, Object arg1): void
                            AddToCartController - ->> Browser: Redirect /IndexController
                            deactivate AddToCartController
                            deactivate Browser
                        end
                    end
                end
            end
        end
    end
end
@enduml

PlantUML version 1.2021.00(Sun Jan 10 17:25:05 ICT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>