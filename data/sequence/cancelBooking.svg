<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2460px" preserveAspectRatio="none" style="width:2578px;height:2460px;" version="1.1" viewBox="0 0 2578 2460" width="2578px" zoomAndPan="magnify"><defs><filter height="300%" id="f5utqygnifqyo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="2443.3203" style="stroke:#000000;stroke-width:1.0;" width="2561" x="5" y="5"/><path d="M135,5 L135,15.6094 L125,25.6094 L5,25.6094 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="17" x="8" y="20.5332">sd</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="29" y="20.5332">Cancel Booking</text><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="2223.75" style="stroke:#A80036;stroke-width:1.0;" width="10" x="177.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="2193.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="447.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="1840.0469" style="stroke:#A80036;stroke-width:1.0;" width="10" x="807.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="1581.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1468.5" y="654.6797"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="1353.4297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1551" y="253.625"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2010" y="533.2734"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2105" y="1258.3516"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="1013.0781" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2222.5" y="926.1641"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2457.5" y="563.625"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2457.5" y="956.5156"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2457.5" y="1288.7031"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2457.5" y="1878.5391"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="2067.9922" style="stroke:#000000;stroke-width:2.0;" width="2474" x="78" y="355.3281"/><rect fill="#FFFFFF" height="1988.9375" style="stroke:none;stroke-width:1.0;" width="2474" x="78" y="434.3828"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="1716.2891" style="stroke:#000000;stroke-width:2.0;" width="2454" x="88" y="700.0313"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="155.5938" style="stroke:#000000;stroke-width:2.0;" width="774" x="138" y="725.3828"/><rect fill="#FFFFFF" height="76.5391" style="stroke:none;stroke-width:1.0;" width="774" x="138" y="804.4375"/><rect fill="#FFFFFF" height="1528.3438" style="stroke:none;stroke-width:1.0;" width="2454" x="88" y="887.9766"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="1377.1016" style="stroke:#000000;stroke-width:2.0;" width="2434" x="98" y="1032.2188"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="155.5938" style="stroke:#000000;stroke-width:2.0;" width="774" x="138" y="1057.5703"/><rect fill="#FFFFFF" height="76.5391" style="stroke:none;stroke-width:1.0;" width="774" x="138" y="1136.625"/><rect fill="#FFFFFF" height="1189.1563" style="stroke:none;stroke-width:1.0;" width="2434" x="98" y="1220.1641"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="1037.9141" style="stroke:#000000;stroke-width:2.0;" width="2414" x="108" y="1364.4063"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="155.5938" style="stroke:#000000;stroke-width:2.0;" width="774" x="138" y="1389.7578"/><rect fill="#FFFFFF" height="76.5391" style="stroke:none;stroke-width:1.0;" width="774" x="138" y="1468.8125"/><rect fill="#FFFFFF" height="849.9688" style="stroke:none;stroke-width:1.0;" width="2414" x="108" y="1552.3516"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="773.2656" style="stroke:#000000;stroke-width:2.0;" width="2394" x="118" y="1622.0547"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="155.5938" style="stroke:#000000;stroke-width:2.0;" width="774" x="138" y="1647.4063"/><rect fill="#FFFFFF" height="76.5391" style="stroke:none;stroke-width:1.0;" width="774" x="138" y="1726.4609"/><rect fill="#FFFFFF" height="585.3203" style="stroke:none;stroke-width:1.0;" width="2394" x="118" y="1810"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="434.0781" style="stroke:#000000;stroke-width:2.0;" width="1408.5" x="128" y="1954.2422"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="155.5938" style="stroke:#000000;stroke-width:2.0;" width="774" x="138" y="1979.5938"/><rect fill="#FFFFFF" height="76.5391" style="stroke:none;stroke-width:1.0;" width="774" x="138" y="2058.6484"/><rect fill="#FFFFFF" height="246.1328" style="stroke:none;stroke-width:1.0;" width="1408.5" x="128" y="2142.1875"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="216.2969" style="stroke:#000000;stroke-width:2.0;" width="1388.5" x="138" y="2165.0234"/><rect fill="#FFFFFF" height="76.5391" style="stroke:none;stroke-width:1.0;" width="1388.5" x="138" y="2304.7813"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="117.2188" y2="2440.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="182" x2="182" y1="117.2188" y2="2440.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="452" x2="452" y1="117.2188" y2="2440.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="812" x2="812" y1="117.2188" y2="2440.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1473.5" x2="1473.5" y1="117.2188" y2="2440.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1555.5" x2="1555.5" y1="117.2188" y2="2440.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2014.5" x2="2014.5" y1="117.2188" y2="2440.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2109.5" x2="2109.5" y1="117.2188" y2="2440.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2227.5" x2="2227.5" y1="117.2188" y2="2440.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2462" x2="2462" y1="117.2188" y2="2440.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="10" y="114.1426">User</text><ellipse cx="27.5" cy="42.6094" fill="#FEFECE" filter="url(#f5utqygnifqyo)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M27.5,50.6094 L27.5,77.6094 M14.5,58.6094 L40.5,58.6094 M27.5,77.6094 L14.5,92.6094 M27.5,77.6094 L40.5,92.6094 " fill="none" filter="url(#f5utqygnifqyo)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f5utqygnifqyo)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="65" x="148" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="155" y="102.1426">Browser</text><rect fill="#FEFECE" filter="url(#f5utqygnifqyo)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="135" x="383" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="390" y="102.1426">:CommonRoleFilter</text><rect fill="#FEFECE" filter="url(#f5utqygnifqyo)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="175" x="723" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="730" y="102.1426">:CancelBookingController</text><rect fill="#FEFECE" filter="url(#f5utqygnifqyo)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="82" x="1430.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1437.5" y="102.1426">:GetParam</text><rect fill="#FEFECE" filter="url(#f5utqygnifqyo)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="55" x="1526.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="1533.5" y="102.1426">Helper</text><rect fill="#FEFECE" filter="url(#f5utqygnifqyo)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="77" x="1974.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1981.5" y="102.1426">:UserDAO</text><rect fill="#FEFECE" filter="url(#f5utqygnifqyo)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="85" x="2065.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="2072.5" y="102.1426">:OrderDAO</text><rect fill="#FEFECE" filter="url(#f5utqygnifqyo)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="122" x="2164.5" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="2171.5" y="102.1426">:BookingInfoDAO</text><rect fill="#FEFECE" filter="url(#f5utqygnifqyo)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="75" x="2423" y="80.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="2430" y="102.1426">Database</text><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="2223.75" style="stroke:#A80036;stroke-width:1.0;" width="10" x="177.5" y="149.5703"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="2193.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="447.5" y="179.9219"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="1840.0469" style="stroke:#A80036;stroke-width:1.0;" width="10" x="807.5" y="502.9219"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="1581.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1468.5" y="654.6797"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="1353.4297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1551" y="253.625"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2010" y="533.2734"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2105" y="1258.3516"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="1013.0781" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2222.5" y="926.1641"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2457.5" y="563.625"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2457.5" y="956.5156"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2457.5" y="1288.7031"/><rect fill="#FFFFFF" filter="url(#f5utqygnifqyo)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2457.5" y="1878.5391"/><line style="stroke:#A80036;stroke-width:1.0;" x1="175.5" x2="165.5" y1="149.5703" y2="145.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="175.5" x2="165.5" y1="149.5703" y2="153.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="176.5" y1="149.5703" y2="149.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="34.5" y="144.7139">Click on Cancel button</text><line style="stroke:#A80036;stroke-width:1.0;" x1="445.5" x2="435.5" y1="179.9219" y2="175.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="445.5" x2="435.5" y1="179.9219" y2="183.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="446.5" y1="179.9219" y2="179.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="194.5" y="175.0654">GET /CancelBookingController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="499.5" y1="210.2734" y2="210.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="499.5" x2="499.5" y1="210.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="458.5" x2="499.5" y1="223.2734" y2="223.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="458.5" x2="468.5" y1="223.2734" y2="219.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="458.5" x2="468.5" y1="223.2734" y2="227.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="464.5" y="205.417">Context.lookup(String name): Object</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1549" x2="1539" y1="253.625" y2="249.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1549" x2="1539" y1="253.625" y2="257.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="1550" y1="253.625" y2="253.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="721" x="464.5" y="248.7686">protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1561" x2="1603" y1="283.9766" y2="283.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1603" x2="1603" y1="283.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1562" x2="1603" y1="296.9766" y2="296.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1562" x2="1572" y1="296.9766" y2="292.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1562" x2="1572" y1="296.9766" y2="300.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1568" y="279.1201">isLogin(HttpServletRequest request): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1561" x2="1603" y1="327.3281" y2="327.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1603" x2="1603" y1="327.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1562" x2="1603" y1="340.3281" y2="340.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1562" x2="1572" y1="340.3281" y2="336.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1562" x2="1572" y1="340.3281" y2="344.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435" x="1568" y="322.4717">correctRole(HttpServletRequest request, int minRole, int maxRole): boolean</text><path d="M78,355.3281 L139,355.3281 L139,363.3281 L129,373.3281 L78,373.3281 L78,355.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="2067.9922" style="stroke:#000000;stroke-width:2.0;" width="2474" x="78" y="355.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="93" y="369.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="73" x="154" y="368.7471">[return false]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="396.0313" y2="392.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="396.0313" y2="400.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457.5" x2="1550" y1="396.0313" y2="396.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="474.5" y="391.1748">forward login.jsp</text><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="426.3828" y2="422.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="426.3828" y2="430.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187.5" x2="446.5" y1="426.3828" y2="426.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="204.5" y="421.5264">forward login.jsp</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="78" x2="2552" y1="435.3828" y2="435.3828"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="83" y="446.8018">[return true]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="472.5703" y2="468.5703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="472.5703" y2="476.5703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457.5" x2="1550" y1="472.5703" y2="472.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="474.5" y="467.7139">return true</text><line style="stroke:#A80036;stroke-width:1.0;" x1="805.5" x2="795.5" y1="502.9219" y2="498.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="805.5" x2="795.5" y1="502.9219" y2="506.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="806.5" y1="502.9219" y2="502.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="464.5" y="498.0654">doFilter(ServletRequest arg0, ServletResponse arg1): void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2008" x2="1998" y1="533.2734" y2="529.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2008" x2="1998" y1="533.2734" y2="537.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="2009" y1="533.2734" y2="533.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="824.5" y="528.417">getOneUserByUsername(String username): User</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2455.5" x2="2445.5" y1="563.625" y2="559.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2455.5" x2="2445.5" y1="563.625" y2="567.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2020" x2="2456.5" y1="563.625" y2="563.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="2027" y="558.7686">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2020" x2="2030" y1="593.9766" y2="589.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2020" x2="2030" y1="593.9766" y2="597.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2020" x2="2461.5" y1="593.9766" y2="593.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="2037" y="589.1201">return ResultSet rs</text><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="827.5" y1="624.3281" y2="620.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="827.5" y1="624.3281" y2="628.3281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="817.5" x2="2014" y1="624.3281" y2="624.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="834.5" y="619.4717">return User user</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1466.5" x2="1456.5" y1="654.6797" y2="650.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1466.5" x2="1456.5" y1="654.6797" y2="658.6797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="1467.5" y1="654.6797" y2="654.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="627" x="824.5" y="649.8232">getIntParams(HttpServletRequest request, String field, String label, int min, int max, int defaultValue): Integer</text><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="827.5" y1="685.0313" y2="681.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="827.5" y1="685.0313" y2="689.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="817.5" x2="1467.5" y1="685.0313" y2="685.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="834.5" y="680.1748">return Integer bookingId</text><path d="M88,700.0313 L149,700.0313 L149,708.0313 L139,718.0313 L88,718.0313 L88,700.0313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1716.2891" style="stroke:#000000;stroke-width:2.0;" width="2454" x="88" y="700.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="103" y="714.5264">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="101" x="164" y="713.4502">[invalid bookingId]</text><path d="M138,725.3828 L199,725.3828 L199,733.3828 L189,743.3828 L138,743.3828 L138,725.3828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="155.5938" style="stroke:#000000;stroke-width:2.0;" width="774" x="138" y="725.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="153" y="739.8779">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77" x="214" y="738.8018">[user.role = 1]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="766.0859" y2="762.0859"/><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="766.0859" y2="770.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457.5" x2="806.5" y1="766.0859" y2="766.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="474.5" y="761.2295">Redirect /ViewBookingManagerController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="796.4375" y2="792.4375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="796.4375" y2="800.4375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187.5" x2="446.5" y1="796.4375" y2="796.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="204.5" y="791.5811">Redirect /ViewBookingManagerController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138" x2="912" y1="805.4375" y2="805.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77" x="143" y="816.8564">[user.role = 0]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="842.625" y2="838.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="842.625" y2="846.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457.5" x2="806.5" y1="842.625" y2="842.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="474.5" y="837.7686">Redirect /ViewBookingController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="872.9766" y2="868.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="872.9766" y2="876.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187.5" x2="446.5" y1="872.9766" y2="872.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="204.5" y="868.1201">Redirect /ViewBookingController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="88" x2="2542" y1="888.9766" y2="888.9766"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91" x="93" y="900.3955">[valid bookingId]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2220.5" x2="2210.5" y1="926.1641" y2="922.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2220.5" x2="2210.5" y1="926.1641" y2="930.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="2221.5" y1="926.1641" y2="926.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="359" x="824.5" y="921.3076">getBookingInfoByBookingId(Integer bookingInfoId): BookingInfo</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2455.5" x2="2445.5" y1="956.5156" y2="952.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2455.5" x2="2445.5" y1="956.5156" y2="960.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2232.5" x2="2456.5" y1="956.5156" y2="956.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="2239.5" y="951.6592">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2232.5" x2="2242.5" y1="986.8672" y2="982.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2232.5" x2="2242.5" y1="986.8672" y2="990.8672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2232.5" x2="2461.5" y1="986.8672" y2="986.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="2249.5" y="982.0107">return ResultSet rs</text><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="827.5" y1="1017.2188" y2="1013.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="827.5" y1="1017.2188" y2="1021.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="817.5" x2="2221.5" y1="1017.2188" y2="1017.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="834.5" y="1012.3623">return BookingInfo bookingInfo</text><path d="M98,1032.2188 L159,1032.2188 L159,1040.2188 L149,1050.2188 L98,1050.2188 L98,1032.2188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1377.1016" style="stroke:#000000;stroke-width:2.0;" width="2434" x="98" y="1032.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="113" y="1046.7139">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="112" x="174" y="1045.6377">[invalid bookingInfo]</text><path d="M138,1057.5703 L199,1057.5703 L199,1065.5703 L189,1075.5703 L138,1075.5703 L138,1057.5703 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="155.5938" style="stroke:#000000;stroke-width:2.0;" width="774" x="138" y="1057.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="153" y="1072.0654">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77" x="214" y="1070.9893">[user.role = 1]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="1098.2734" y2="1094.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="1098.2734" y2="1102.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457.5" x2="806.5" y1="1098.2734" y2="1098.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="474.5" y="1093.417">Redirect /ViewBookingManagerController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="1128.625" y2="1124.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="1128.625" y2="1132.625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187.5" x2="446.5" y1="1128.625" y2="1128.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="204.5" y="1123.7686">Redirect /ViewBookingManagerController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138" x2="912" y1="1137.625" y2="1137.625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77" x="143" y="1149.0439">[user.role = 0]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="1174.8125" y2="1170.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="1174.8125" y2="1178.8125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457.5" x2="806.5" y1="1174.8125" y2="1174.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="474.5" y="1169.9561">Redirect /ViewBookingController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="1205.1641" y2="1201.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="1205.1641" y2="1209.1641"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187.5" x2="446.5" y1="1205.1641" y2="1205.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="204.5" y="1200.3076">Redirect /ViewBookingController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="98" x2="2532" y1="1221.1641" y2="1221.1641"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102" x="103" y="1232.583">[valid bookingInfo]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2103" x2="2093" y1="1258.3516" y2="1254.3516"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2103" x2="2093" y1="1258.3516" y2="1262.3516"/><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="2104" y1="1258.3516" y2="1258.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="824.5" y="1253.4951">getOneOrderById(Integer orderId): Order</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2455.5" x2="2445.5" y1="1288.7031" y2="1284.7031"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2455.5" x2="2445.5" y1="1288.7031" y2="1292.7031"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2115" x2="2456.5" y1="1288.7031" y2="1288.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="2122" y="1283.8467">executeQuery(): ResultSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2115" x2="2125" y1="1319.0547" y2="1315.0547"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2115" x2="2125" y1="1319.0547" y2="1323.0547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2115" x2="2461.5" y1="1319.0547" y2="1319.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="2132" y="1314.1982">return ResultSet rs</text><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="827.5" y1="1349.4063" y2="1345.4063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="827.5" y1="1349.4063" y2="1353.4063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="817.5" x2="2109" y1="1349.4063" y2="1349.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="834.5" y="1344.5498">return Order order</text><path d="M108,1364.4063 L169,1364.4063 L169,1372.4063 L159,1382.4063 L108,1382.4063 L108,1364.4063 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1037.9141" style="stroke:#000000;stroke-width:2.0;" width="2414" x="108" y="1364.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="123" y="1378.9014">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="193" x="184" y="1377.8252">[user is not admin or order's user]</text><path d="M138,1389.7578 L199,1389.7578 L199,1397.7578 L189,1407.7578 L138,1407.7578 L138,1389.7578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="155.5938" style="stroke:#000000;stroke-width:2.0;" width="774" x="138" y="1389.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="153" y="1404.2529">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77" x="214" y="1403.1768">[user.role = 1]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="1430.4609" y2="1426.4609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="1430.4609" y2="1434.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457.5" x2="806.5" y1="1430.4609" y2="1430.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="474.5" y="1425.6045">Redirect /ViewBookingManagerController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="1460.8125" y2="1456.8125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="1460.8125" y2="1464.8125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187.5" x2="446.5" y1="1460.8125" y2="1460.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="204.5" y="1455.9561">Redirect /ViewBookingManagerController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138" x2="912" y1="1469.8125" y2="1469.8125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77" x="143" y="1481.2314">[user.role = 0]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="1507" y2="1503"/><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="1507" y2="1511"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457.5" x2="806.5" y1="1507" y2="1507"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="474.5" y="1502.1436">Redirect /ViewBookingController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="1537.3516" y2="1533.3516"/><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="1537.3516" y2="1541.3516"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187.5" x2="446.5" y1="1537.3516" y2="1537.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="204.5" y="1532.4951">Redirect /ViewBookingController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="108" x2="2522" y1="1553.3516" y2="1553.3516"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1549" x2="1539" y1="1576.7031" y2="1572.7031"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1549" x2="1539" y1="1576.7031" y2="1580.7031"/><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="1550" y1="1576.7031" y2="1576.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="824.5" y="1571.8467">Date getToDayTime(): Date</text><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="827.5" y1="1607.0547" y2="1603.0547"/><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="827.5" y1="1607.0547" y2="1611.0547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="817.5" x2="1555" y1="1607.0547" y2="1607.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="834.5" y="1602.1982">return Date toDayTime</text><path d="M118,1622.0547 L179,1622.0547 L179,1630.0547 L169,1640.0547 L118,1640.0547 L118,1622.0547 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="773.2656" style="stroke:#000000;stroke-width:2.0;" width="2394" x="118" y="1622.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="133" y="1636.5498">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104" x="194" y="1635.4736">[invalid toDayTime]</text><path d="M138,1647.4063 L199,1647.4063 L199,1655.4063 L189,1665.4063 L138,1665.4063 L138,1647.4063 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="155.5938" style="stroke:#000000;stroke-width:2.0;" width="774" x="138" y="1647.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="153" y="1661.9014">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77" x="214" y="1660.8252">[user.role = 1]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="1688.1094" y2="1684.1094"/><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="1688.1094" y2="1692.1094"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457.5" x2="806.5" y1="1688.1094" y2="1688.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="474.5" y="1683.2529">Redirect /ViewBookingManagerController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="1718.4609" y2="1714.4609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="1718.4609" y2="1722.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187.5" x2="446.5" y1="1718.4609" y2="1718.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="204.5" y="1713.6045">Redirect /ViewBookingManagerController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138" x2="912" y1="1727.4609" y2="1727.4609"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77" x="143" y="1738.8799">[user.role = 0]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="1764.6484" y2="1760.6484"/><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="1764.6484" y2="1768.6484"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457.5" x2="806.5" y1="1764.6484" y2="1764.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="474.5" y="1759.792">Redirect /ViewBookingController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="1795" y2="1791"/><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="1795" y2="1799"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187.5" x2="446.5" y1="1795" y2="1795"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="204.5" y="1790.1436">Redirect /ViewBookingController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="118" x2="2512" y1="1811" y2="1811"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="94" x="123" y="1822.4189">[valid toDayTime]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2220.5" x2="2210.5" y1="1848.1875" y2="1844.1875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2220.5" x2="2210.5" y1="1848.1875" y2="1852.1875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="2221.5" y1="1848.1875" y2="1848.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="617" x="824.5" y="1843.3311">updateBookingInfopStatus(Integer bookingInfoId, Integer status, Float total, Integer numberOfDate): boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2455.5" x2="2445.5" y1="1878.5391" y2="1874.5391"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2455.5" x2="2445.5" y1="1878.5391" y2="1882.5391"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2232.5" x2="2456.5" y1="1878.5391" y2="1878.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="2239.5" y="1873.6826">executeUpdate(): prepareStatement</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2232.5" x2="2242.5" y1="1908.8906" y2="1904.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2232.5" x2="2242.5" y1="1908.8906" y2="1912.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2232.5" x2="2461.5" y1="1908.8906" y2="1908.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="2249.5" y="1904.0342">return int preStm.executeUpdate()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="827.5" y1="1939.2422" y2="1935.2422"/><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="827.5" y1="1939.2422" y2="1943.2422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="817.5" x2="2226.5" y1="1939.2422" y2="1939.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="834.5" y="1934.3857">return boolean isSuccess</text><path d="M128,1954.2422 L189,1954.2422 L189,1962.2422 L179,1972.2422 L128,1972.2422 L128,1954.2422 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="434.0781" style="stroke:#000000;stroke-width:2.0;" width="1408.5" x="128" y="1954.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="143" y="1968.7373">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104" x="204" y="1967.6611">[isSuccess = false]</text><path d="M138,1979.5938 L199,1979.5938 L199,1987.5938 L189,1997.5938 L138,1997.5938 L138,1979.5938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="155.5938" style="stroke:#000000;stroke-width:2.0;" width="774" x="138" y="1979.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="153" y="1994.0889">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77" x="214" y="1993.0127">[user.role = 1]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="2020.2969" y2="2016.2969"/><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="2020.2969" y2="2024.2969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457.5" x2="806.5" y1="2020.2969" y2="2020.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="474.5" y="2015.4404">Redirect /ViewBookingManagerController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="2050.6484" y2="2046.6484"/><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="2050.6484" y2="2054.6484"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187.5" x2="446.5" y1="2050.6484" y2="2050.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="204.5" y="2045.792">Redirect /ViewBookingManagerController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138" x2="912" y1="2059.6484" y2="2059.6484"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77" x="143" y="2071.0674">[user.role = 0]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="2096.8359" y2="2092.8359"/><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="2096.8359" y2="2100.8359"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457.5" x2="806.5" y1="2096.8359" y2="2096.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="474.5" y="2091.9795">Redirect /ViewBookingController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="2127.1875" y2="2123.1875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="2127.1875" y2="2131.1875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187.5" x2="446.5" y1="2127.1875" y2="2127.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="204.5" y="2122.3311">Redirect /ViewBookingController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="128" x2="1536.5" y1="2143.1875" y2="2143.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="100" x="133" y="2154.6064">[isSuccess = true]</text><path d="M138,2165.0234 L199,2165.0234 L199,2173.0234 L189,2183.0234 L138,2183.0234 L138,2165.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="216.2969" style="stroke:#000000;stroke-width:2.0;" width="1388.5" x="138" y="2165.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="153" y="2179.5186">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77" x="214" y="2178.4424">[user.role = 1]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1466.5" x2="1456.5" y1="2205.7266" y2="2201.7266"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1466.5" x2="1456.5" y1="2205.7266" y2="2209.7266"/><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="1467.5" y1="2205.7266" y2="2205.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="627" x="824.5" y="2200.8701">getIntParams(HttpServletRequest request, String field, String label, int min, int max, int defaultValue): Integer</text><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="827.5" y1="2236.0781" y2="2232.0781"/><line style="stroke:#A80036;stroke-width:1.0;" x1="817.5" x2="827.5" y1="2236.0781" y2="2240.0781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="817.5" x2="1472.5" y1="2236.0781" y2="2236.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="834.5" y="2231.2217">return Integer roomId</text><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="2266.4297" y2="2262.4297"/><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="2266.4297" y2="2270.4297"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457.5" x2="806.5" y1="2266.4297" y2="2266.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="474.5" y="2261.5732">Redirect /ViewBookingManagerController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="2296.7813" y2="2292.7813"/><line style="stroke:#A80036;stroke-width:1.0;" x1="187.5" x2="197.5" y1="2296.7813" y2="2300.7813"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187.5" x2="446.5" y1="2296.7813" y2="2296.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="204.5" y="2291.9248">Redirect /ViewBookingManagerController</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="138" x2="1526.5" y1="2305.7813" y2="2305.7813"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77" x="143" y="2317.2002">[user.role = 0]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="2342.9688" y2="2338.9688"/><line style="stroke:#A80036;stroke-width:1.0;" x1="457.5" x2="467.5" y1="2342.9688" y2="2346.9688"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457.5" x2="811.5" y1="2342.9688" y2="2342.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="474.5" y="2338.1123">Redirect /ViewBookingController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="182.5" x2="192.5" y1="2373.3203" y2="2369.3203"/><line style="stroke:#A80036;stroke-width:1.0;" x1="182.5" x2="192.5" y1="2373.3203" y2="2377.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="182.5" x2="451.5" y1="2373.3203" y2="2373.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="199.5" y="2368.4639">Redirect /ViewBookingController</text><!--MD5=[2537a6636fb51abe3f75a28ed212db3d]
@startuml cancelBooking

hide footbox
mainframe <b>sd</b> Cancel Booking
actor User
participant "Browser" as Browser
participant ":CommonRoleFilter" as CommonRoleFilter
participant ":CancelBookingController" as CancelBookingController
participant ":GetParam" as GetParam
participant "Helper" as Helper
participant ":UserDAO" as UserDAO
participant ":OrderDAO" as OrderDAO
participant ":BookingInfoDAO" as BookingInfoDAO
participant "Database" as DB


User ->> Browser: Click on Cancel button
activate Browser

Browser ->> CommonRoleFilter: GET /CancelBookingController
activate CommonRoleFilter
CommonRoleFilter ->> CommonRoleFilter: Context.lookup(String name): Object
CommonRoleFilter ->> Helper: protectedRouter(HttpServletRequest request, HttpServletResponse response, int minRole, int maxRole, String page): boolean
activate Helper
Helper ->> Helper: isLogin(HttpServletRequest request): boolean
Helper ->> Helper: correctRole(HttpServletRequest request, int minRole, int maxRole): boolean
alt return false 
    Helper - ->> CommonRoleFilter: forward login.jsp
    CommonRoleFilter - ->> Browser: forward login.jsp
else return true
    Helper - ->> CommonRoleFilter: return true
    CommonRoleFilter ->> CancelBookingController: doFilter(ServletRequest arg0, ServletResponse arg1): void
    activate CancelBookingController
    CancelBookingController ->> UserDAO: getOneUserByUsername(String username): User
    activate UserDAO
    UserDAO ->> DB: executeQuery(): ResultSet
    activate DB
    DB - ->> UserDAO: return ResultSet rs
    deactivate DB
    UserDAO - ->> CancelBookingController: return User user
    deactivate UserDAO
    CancelBookingController ->> GetParam: getIntParams(HttpServletRequest request, String field, String label, int min, int max, int defaultValue): Integer   
    activate GetParam
    GetParam - ->> CancelBookingController: return Integer bookingId
    alt invalid bookingId
        alt user.role = 1
            CancelBookingController - ->> CommonRoleFilter: Redirect /ViewBookingManagerController
            CommonRoleFilter - ->> Browser: Redirect /ViewBookingManagerController
        else user.role = 0
            CancelBookingController - ->> CommonRoleFilter: Redirect /ViewBookingController
            CommonRoleFilter - ->> Browser: Redirect /ViewBookingController
        end
    else valid bookingId
        CancelBookingController ->> BookingInfoDAO: getBookingInfoByBookingId(Integer bookingInfoId): BookingInfo
        activate BookingInfoDAO
        BookingInfoDAO ->> DB: executeQuery(): ResultSet
        activate DB
        DB - ->> BookingInfoDAO: return ResultSet rs
        deactivate DB
        BookingInfoDAO - ->> CancelBookingController: return BookingInfo bookingInfo
        alt invalid bookingInfo
            alt user.role = 1
                CancelBookingController - ->> CommonRoleFilter: Redirect /ViewBookingManagerController
                CommonRoleFilter - ->> Browser: Redirect /ViewBookingManagerController
            else user.role = 0
                CancelBookingController - ->> CommonRoleFilter: Redirect /ViewBookingController
                CommonRoleFilter - ->> Browser: Redirect /ViewBookingController
            end
        else valid bookingInfo
            CancelBookingController ->> OrderDAO: getOneOrderById(Integer orderId): Order
            activate OrderDAO
            OrderDAO ->> DB: executeQuery(): ResultSet
            activate DB
            DB - ->> OrderDAO: return ResultSet rs
            deactivate DB
            OrderDAO - ->> CancelBookingController: return Order order
            deactivate OrderDAO
            alt user is not admin or order's user
                alt user.role = 1
                    CancelBookingController - ->> CommonRoleFilter: Redirect /ViewBookingManagerController
                    CommonRoleFilter - ->> Browser: Redirect /ViewBookingManagerController
                else user.role = 0
                    CancelBookingController - ->> CommonRoleFilter: Redirect /ViewBookingController
                    CommonRoleFilter - ->> Browser: Redirect /ViewBookingController
                end
            else
                CancelBookingController ->> Helper: Date getToDayTime(): Date
                Helper - ->> CancelBookingController: return Date toDayTime
                deactivate Helper
                alt invalid toDayTime
                    alt user.role = 1
                        CancelBookingController - ->> CommonRoleFilter: Redirect /ViewBookingManagerController
                        CommonRoleFilter - ->> Browser: Redirect /ViewBookingManagerController
                    else user.role = 0
                        CancelBookingController - ->> CommonRoleFilter: Redirect /ViewBookingController
                        CommonRoleFilter - ->> Browser: Redirect /ViewBookingController
                    end
                else valid toDayTime
                    CancelBookingController ->> BookingInfoDAO: updateBookingInfopStatus(Integer bookingInfoId, Integer status, Float total, Integer numberOfDate): boolean
                    BookingInfoDAO ->> DB: executeUpdate(): prepareStatement 
                    activate DB
                    DB - ->> BookingInfoDAO: return int preStm.executeUpdate()
                    deactivate DB
                    BookingInfoDAO - ->> CancelBookingController: return boolean isSuccess
                    deactivate BookingInfoDAO
                    alt isSuccess = false
                        alt user.role = 1
                            CancelBookingController - ->> CommonRoleFilter: Redirect /ViewBookingManagerController
                            CommonRoleFilter - ->> Browser: Redirect /ViewBookingManagerController
                        else user.role = 0
                            CancelBookingController - ->> CommonRoleFilter: Redirect /ViewBookingController
                            CommonRoleFilter - ->> Browser: Redirect /ViewBookingController
                        end
                    else isSuccess = true
                        alt user.role = 1
                            CancelBookingController ->> GetParam: getIntParams(HttpServletRequest request, String field, String label, int min, int max, int defaultValue): Integer   
                            GetParam - ->> CancelBookingController: return Integer roomId
                            deactivate GetParam
                            CancelBookingController - ->> CommonRoleFilter: Redirect /ViewBookingManagerController
                            CommonRoleFilter - ->> Browser: Redirect /ViewBookingManagerController
                        else user.role = 0
                            CancelBookingController - ->> CommonRoleFilter: Redirect /ViewBookingController
                            deactivate CancelBookingController
                            CommonRoleFilter - ->> Browser: Redirect /ViewBookingController
                            deactivate CommonRoleFilter
                            deactivate Browser
                        end
                    end
                end
            end
        end
    end
end
@enduml

PlantUML version 1.2021.00(Sun Jan 10 17:25:05 ICT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>